var Zu=Object.defineProperty;var Ju=(s,t,e)=>t in s?Zu(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e;var E=(s,t,e)=>(Ju(s,typeof t!="symbol"?t+"":t,e),e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function e(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(n){if(n.ep)return;n.ep=!0;const r=e(n);fetch(n.href,r)}})();function L(){}const Ku=s=>s;function Xu(s){return!!s&&(typeof s=="object"||typeof s=="function")&&typeof s.then=="function"}function Pc(s){return s()}function Ko(){return Object.create(null)}function le(s){s.forEach(Pc)}function Un(s){return typeof s=="function"}function ce(s,t){return s!=s?t==t:s!==t||s&&typeof s=="object"||typeof s=="function"}function Qu(s){return Object.keys(s).length===0}function Ic(s,...t){if(s==null){for(const i of t)i(void 0);return L}const e=s.subscribe(...t);return e.unsubscribe?()=>e.unsubscribe():e}function Rc(s){let t;return Ic(s,e=>t=e)(),t}function cs(s,t,e){s.$$.on_destroy.push(Ic(t,e))}function Gt(s){return s??""}const Lc=typeof window<"u";let td=Lc?()=>window.performance.now():()=>Date.now(),po=Lc?s=>requestAnimationFrame(s):L;const Ds=new Set;function Nc(s){Ds.forEach(t=>{t.c(s)||(Ds.delete(t),t.f())}),Ds.size!==0&&po(Nc)}function ed(s){let t;return Ds.size===0&&po(Nc),{promise:new Promise(e=>{Ds.add(t={c:s,f:e})}),abort(){Ds.delete(t)}}}function y(s,t){s.appendChild(t)}function $c(s){if(!s)return document;const t=s.getRootNode?s.getRootNode():s.ownerDocument;return t&&t.host?t:s.ownerDocument}function sd(s){const t=S("style");return t.textContent="/* empty */",id($c(s),t),t.sheet}function id(s,t){return y(s.head||s,t),t.sheet}function at(s,t,e){s.insertBefore(t,e||null)}function st(s){s.parentNode&&s.parentNode.removeChild(s)}function _o(s,t){for(let e=0;e<s.length;e+=1)s[e]&&s[e].d(t)}function S(s){return document.createElement(s)}function ut(s){return document.createTextNode(s)}function I(){return ut(" ")}function qn(){return ut("")}function ct(s,t,e,i){return s.addEventListener(t,e,i),()=>s.removeEventListener(t,e,i)}function k(s,t,e){e==null?s.removeAttribute(t):s.getAttribute(t)!==e&&s.setAttribute(t,e)}function As(s){return s===""?null:+s}function nd(s){return Array.from(s.childNodes)}function fe(s,t){t=""+t,s.data!==t&&(s.data=t)}function rt(s,t){s.value=t??""}function Xo(s,t,e){for(let i=0;i<s.options.length;i+=1){const n=s.options[i];if(n.__value===t){n.selected=!0;return}}(!e||t!==void 0)&&(s.selectedIndex=-1)}function rd(s){const t=s.querySelector(":checked");return t&&t.__value}function Fc(s,t,{bubbles:e=!1,cancelable:i=!1}={}){return new CustomEvent(s,{detail:t,bubbles:e,cancelable:i})}const Dn=new Map;let An=0;function od(s){let t=5381,e=s.length;for(;e--;)t=(t<<5)-t^s.charCodeAt(e);return t>>>0}function ad(s,t){const e={stylesheet:sd(t),rules:{}};return Dn.set(s,e),e}function Qo(s,t,e,i,n,r,o,a=0){const l=16.666/i;let c=`{
`;for(let p=0;p<=1;p+=l){const _=t+(e-t)*r(p);c+=p*100+`%{${o(_,1-_)}}
`}const h=c+`100% {${o(e,1-e)}}
}`,u=`__svelte_${od(h)}_${a}`,d=$c(s),{stylesheet:f,rules:g}=Dn.get(d)||ad(d,s);g[u]||(g[u]=!0,f.insertRule(`@keyframes ${u} ${h}`,f.cssRules.length));const m=s.style.animation||"";return s.style.animation=`${m?`${m}, `:""}${u} ${i}ms linear ${n}ms 1 both`,An+=1,u}function ld(s,t){const e=(s.style.animation||"").split(", "),i=e.filter(t?r=>r.indexOf(t)<0:r=>r.indexOf("__svelte")===-1),n=e.length-i.length;n&&(s.style.animation=i.join(", "),An-=n,An||cd())}function cd(){po(()=>{An||(Dn.forEach(s=>{const{ownerNode:t}=s.stylesheet;t&&st(t)}),Dn.clear())})}let Si;function ye(s){Si=s}function Yn(){if(!Si)throw new Error("Function called outside component initialization");return Si}function bo(s){Yn().$$.on_mount.push(s)}function jc(s){Yn().$$.on_destroy.push(s)}function hd(){const s=Yn();return(t,e,{cancelable:i=!1}={})=>{const n=s.$$.callbacks[t];if(n){const r=Fc(t,e,{cancelable:i});return n.slice().forEach(o=>{o.call(s,r)}),!r.defaultPrevented}return!0}}const Ms=[],hs=[];let Ps=[];const ta=[],ud=Promise.resolve();let Fr=!1;function dd(){Fr||(Fr=!0,ud.then(yo))}function us(s){Ps.push(s)}const cr=new Set;let _s=0;function yo(){if(_s!==0)return;const s=Si;do{try{for(;_s<Ms.length;){const t=Ms[_s];_s++,ye(t),fd(t.$$)}}catch(t){throw Ms.length=0,_s=0,t}for(ye(null),Ms.length=0,_s=0;hs.length;)hs.pop()();for(let t=0;t<Ps.length;t+=1){const e=Ps[t];cr.has(e)||(cr.add(e),e())}Ps.length=0}while(Ms.length);for(;ta.length;)ta.pop()();Fr=!1,cr.clear(),ye(s)}function fd(s){if(s.fragment!==null){s.update(),le(s.before_update);const t=s.dirty;s.dirty=[-1],s.fragment&&s.fragment.p(s.ctx,t),s.after_update.forEach(us)}}function gd(s){const t=[],e=[];Ps.forEach(i=>s.indexOf(i)===-1?t.push(i):e.push(i)),e.forEach(i=>i()),Ps=t}let Xs;function md(){return Xs||(Xs=Promise.resolve(),Xs.then(()=>{Xs=null})),Xs}function hr(s,t,e){s.dispatchEvent(Fc(`${t?"intro":"outro"}${e}`))}const bn=new Set;let ve;function Gn(){ve={r:0,c:[],p:ve}}function Zn(){ve.r||le(ve.c),ve=ve.p}function xt(s,t){s&&s.i&&(bn.delete(s),s.i(t))}function Ct(s,t,e,i){if(s&&s.o){if(bn.has(s))return;bn.add(s),ve.c.push(()=>{bn.delete(s),i&&(e&&s.d(1),i())}),s.o(t)}else i&&i()}const pd={duration:0};function Pn(s,t,e,i){let r=t(s,e,{direction:"both"}),o=i?0:1,a=null,l=null,c=null,h;function u(){c&&ld(s,c)}function d(g,m){const p=g.b-o;return m*=Math.abs(p),{a:o,b:g.b,d:p,duration:m,start:g.start,end:g.start+m,group:g.group}}function f(g){const{delay:m=0,duration:p=300,easing:_=Ku,tick:b=L,css:w}=r||pd,v={start:td()+m,b:g};g||(v.group=ve,ve.r+=1),"inert"in s&&(g?h!==void 0&&(s.inert=h):(h=s.inert,s.inert=!0)),a||l?l=v:(w&&(u(),c=Qo(s,o,g,p,m,_,w)),g&&b(0,1),a=d(v,p),us(()=>hr(s,g,"start")),ed(x=>{if(l&&x>l.start&&(a=d(l,p),l=null,hr(s,a.b,"start"),w&&(u(),c=Qo(s,o,a.b,a.duration,0,_,r.css))),a){if(x>=a.end)b(o=a.b,1-o),hr(s,a.b,"end"),l||(a.b?u():--a.group.r||le(a.group.c)),a=null;else if(x>=a.start){const T=x-a.start;o=a.a+a.d*_(T/a.duration),b(o,1-o)}}return!!(a||l)}))}return{run(g){Un(r)?md().then(()=>{r=r({direction:g?"in":"out"}),f(g)}):f(g)},end(){u(),a=l=null}}}function jr(s,t){const e=t.token={};function i(n,r,o,a){if(t.token!==e)return;t.resolved=a;let l=t.ctx;o!==void 0&&(l=l.slice(),l[o]=a);const c=n&&(t.current=n)(l);let h=!1;t.block&&(t.blocks?t.blocks.forEach((u,d)=>{d!==r&&u&&(Gn(),Ct(u,1,1,()=>{t.blocks[d]===u&&(t.blocks[d]=null)}),Zn())}):t.block.d(1),c.c(),xt(c,1),c.m(t.mount(),t.anchor),h=!0),t.block=c,t.blocks&&(t.blocks[r]=c),h&&yo()}if(Xu(s)){const n=Yn();if(s.then(r=>{ye(n),i(t.then,1,t.value,r),ye(null)},r=>{if(ye(n),i(t.catch,2,t.error,r),ye(null),!t.hasCatch)throw r}),t.current!==t.pending)return i(t.pending,0),!0}else{if(t.current!==t.then)return i(t.then,1,t.value,s),!0;t.resolved=s}}function zr(s,t,e){const i=t.slice(),{resolved:n}=s;s.current===s.then&&(i[s.value]=n),s.current===s.catch&&(i[s.error]=n),s.block.p(i,e)}function $s(s){return(s==null?void 0:s.length)!==void 0?s:Array.from(s)}function Ve(s){s&&s.c()}function Se(s,t,e){const{fragment:i,after_update:n}=s.$$;i&&i.m(t,e),us(()=>{const r=s.$$.on_mount.map(Pc).filter(Un);s.$$.on_destroy?s.$$.on_destroy.push(...r):le(r),s.$$.on_mount=[]}),n.forEach(us)}function Oe(s,t){const e=s.$$;e.fragment!==null&&(gd(e.after_update),le(e.on_destroy),e.fragment&&e.fragment.d(t),e.on_destroy=e.fragment=null,e.ctx=[])}function _d(s,t){s.$$.dirty[0]===-1&&(Ms.push(s),dd(),s.$$.dirty.fill(0)),s.$$.dirty[t/31|0]|=1<<t%31}function Me(s,t,e,i,n,r,o=null,a=[-1]){const l=Si;ye(s);const c=s.$$={fragment:null,ctx:[],props:r,update:L,not_equal:n,bound:Ko(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(l?l.$$.context:[])),callbacks:Ko(),dirty:a,skip_bound:!1,root:t.target||l.$$.root};o&&o(c.root);let h=!1;if(c.ctx=e?e(s,t.props||{},(u,d,...f)=>{const g=f.length?f[0]:d;return c.ctx&&n(c.ctx[u],c.ctx[u]=g)&&(!c.skip_bound&&c.bound[u]&&c.bound[u](g),h&&_d(s,u)),d}):[],c.update(),h=!0,le(c.before_update),c.fragment=i?i(c.ctx):!1,t.target){if(t.hydrate){const u=nd(t.target);c.fragment&&c.fragment.l(u),u.forEach(st)}else c.fragment&&c.fragment.c();t.intro&&xt(s.$$.fragment),Se(s,t.target,t.anchor),yo()}ye(l)}class Ee{constructor(){E(this,"$$");E(this,"$$set")}$destroy(){Oe(this,1),this.$destroy=L}$on(t,e){if(!Un(e))return L;const i=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return i.push(e),()=>{const n=i.indexOf(e);n!==-1&&i.splice(n,1)}}$set(t){this.$$set&&!Qu(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const bd="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(bd);function zc(s){const t=s-1;return t*t*t+1}function ea(s,{delay:t=0,duration:e=400,easing:i=zc,axis:n="y"}={}){const r=getComputedStyle(s),o=+r.opacity,a=n==="y"?"height":"width",l=parseFloat(r[a]),c=n==="y"?["top","bottom"]:["left","right"],h=c.map(_=>`${_[0].toUpperCase()}${_.slice(1)}`),u=parseFloat(r[`padding${h[0]}`]),d=parseFloat(r[`padding${h[1]}`]),f=parseFloat(r[`margin${h[0]}`]),g=parseFloat(r[`margin${h[1]}`]),m=parseFloat(r[`border${h[0]}Width`]),p=parseFloat(r[`border${h[1]}Width`]);return{delay:t,duration:e,easing:i,css:_=>`overflow: hidden;opacity: ${Math.min(_*20,1)*o};${a}: ${_*l}px;padding-${c[0]}: ${_*u}px;padding-${c[1]}: ${_*d}px;margin-${c[0]}: ${_*f}px;margin-${c[1]}: ${_*g}px;border-${c[0]}-width: ${_*m}px;border-${c[1]}-width: ${_*p}px;`}}function sa(s,{delay:t=0,duration:e=400,easing:i=zc,start:n=0,opacity:r=0}={}){const o=getComputedStyle(s),a=+o.opacity,l=o.transform==="none"?"":o.transform,c=1-n,h=a*(1-r);return{delay:t,duration:e,easing:i,css:(u,d)=>`
			transform: ${l} scale(${1-c*d});
			opacity: ${a-h*d}
		`}}/*!
 * @kurkle/color v0.3.2
 * https://github.com/kurkle/color#readme
 * (c) 2023 Jukka Kurkela
 * Released under the MIT License
 */function Ni(s){return s+.5|0}const Ne=(s,t,e)=>Math.max(Math.min(s,e),t);function ai(s){return Ne(Ni(s*2.55),0,255)}function ze(s){return Ne(Ni(s*255),0,255)}function be(s){return Ne(Ni(s/2.55)/100,0,1)}function ia(s){return Ne(Ni(s*100),0,100)}const Ut={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Vr=[..."0123456789ABCDEF"],yd=s=>Vr[s&15],vd=s=>Vr[(s&240)>>4]+Vr[s&15],Yi=s=>(s&240)>>4===(s&15),wd=s=>Yi(s.r)&&Yi(s.g)&&Yi(s.b)&&Yi(s.a);function xd(s){var t=s.length,e;return s[0]==="#"&&(t===4||t===5?e={r:255&Ut[s[1]]*17,g:255&Ut[s[2]]*17,b:255&Ut[s[3]]*17,a:t===5?Ut[s[4]]*17:255}:(t===7||t===9)&&(e={r:Ut[s[1]]<<4|Ut[s[2]],g:Ut[s[3]]<<4|Ut[s[4]],b:Ut[s[5]]<<4|Ut[s[6]],a:t===9?Ut[s[7]]<<4|Ut[s[8]]:255})),e}const kd=(s,t)=>s<255?t(s):"";function Sd(s){var t=wd(s)?yd:vd;return s?"#"+t(s.r)+t(s.g)+t(s.b)+kd(s.a,t):void 0}const Od=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Vc(s,t,e){const i=t*Math.min(e,1-e),n=(r,o=(r+s/30)%12)=>e-i*Math.max(Math.min(o-3,9-o,1),-1);return[n(0),n(8),n(4)]}function Td(s,t,e){const i=(n,r=(n+s/60)%6)=>e-e*t*Math.max(Math.min(r,4-r,1),0);return[i(5),i(3),i(1)]}function Md(s,t,e){const i=Vc(s,1,.5);let n;for(t+e>1&&(n=1/(t+e),t*=n,e*=n),n=0;n<3;n++)i[n]*=1-t-e,i[n]+=t;return i}function Ed(s,t,e,i,n){return s===n?(t-e)/i+(t<e?6:0):t===n?(e-s)/i+2:(s-t)/i+4}function vo(s){const e=s.r/255,i=s.g/255,n=s.b/255,r=Math.max(e,i,n),o=Math.min(e,i,n),a=(r+o)/2;let l,c,h;return r!==o&&(h=r-o,c=a>.5?h/(2-r-o):h/(r+o),l=Ed(e,i,n,h,r),l=l*60+.5),[l|0,c||0,a]}function wo(s,t,e,i){return(Array.isArray(t)?s(t[0],t[1],t[2]):s(t,e,i)).map(ze)}function xo(s,t,e){return wo(Vc,s,t,e)}function Cd(s,t,e){return wo(Md,s,t,e)}function Dd(s,t,e){return wo(Td,s,t,e)}function Wc(s){return(s%360+360)%360}function Ad(s){const t=Od.exec(s);let e=255,i;if(!t)return;t[5]!==i&&(e=t[6]?ai(+t[5]):ze(+t[5]));const n=Wc(+t[2]),r=+t[3]/100,o=+t[4]/100;return t[1]==="hwb"?i=Cd(n,r,o):t[1]==="hsv"?i=Dd(n,r,o):i=xo(n,r,o),{r:i[0],g:i[1],b:i[2],a:e}}function Pd(s,t){var e=vo(s);e[0]=Wc(e[0]+t),e=xo(e),s.r=e[0],s.g=e[1],s.b=e[2]}function Id(s){if(!s)return;const t=vo(s),e=t[0],i=ia(t[1]),n=ia(t[2]);return s.a<255?`hsla(${e}, ${i}%, ${n}%, ${be(s.a)})`:`hsl(${e}, ${i}%, ${n}%)`}const na={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},ra={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Rd(){const s={},t=Object.keys(ra),e=Object.keys(na);let i,n,r,o,a;for(i=0;i<t.length;i++){for(o=a=t[i],n=0;n<e.length;n++)r=e[n],a=a.replace(r,na[r]);r=parseInt(ra[o],16),s[a]=[r>>16&255,r>>8&255,r&255]}return s}let Gi;function Ld(s){Gi||(Gi=Rd(),Gi.transparent=[0,0,0,0]);const t=Gi[s.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const Nd=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function $d(s){const t=Nd.exec(s);let e=255,i,n,r;if(t){if(t[7]!==i){const o=+t[7];e=t[8]?ai(o):Ne(o*255,0,255)}return i=+t[1],n=+t[3],r=+t[5],i=255&(t[2]?ai(i):Ne(i,0,255)),n=255&(t[4]?ai(n):Ne(n,0,255)),r=255&(t[6]?ai(r):Ne(r,0,255)),{r:i,g:n,b:r,a:e}}}function Fd(s){return s&&(s.a<255?`rgba(${s.r}, ${s.g}, ${s.b}, ${be(s.a)})`:`rgb(${s.r}, ${s.g}, ${s.b})`)}const ur=s=>s<=.0031308?s*12.92:Math.pow(s,1/2.4)*1.055-.055,bs=s=>s<=.04045?s/12.92:Math.pow((s+.055)/1.055,2.4);function jd(s,t,e){const i=bs(be(s.r)),n=bs(be(s.g)),r=bs(be(s.b));return{r:ze(ur(i+e*(bs(be(t.r))-i))),g:ze(ur(n+e*(bs(be(t.g))-n))),b:ze(ur(r+e*(bs(be(t.b))-r))),a:s.a+e*(t.a-s.a)}}function Zi(s,t,e){if(s){let i=vo(s);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,t===0?360:1)),i=xo(i),s.r=i[0],s.g=i[1],s.b=i[2]}}function Bc(s,t){return s&&Object.assign(t||{},s)}function oa(s){var t={r:0,g:0,b:0,a:255};return Array.isArray(s)?s.length>=3&&(t={r:s[0],g:s[1],b:s[2],a:255},s.length>3&&(t.a=ze(s[3]))):(t=Bc(s,{r:0,g:0,b:0,a:1}),t.a=ze(t.a)),t}function zd(s){return s.charAt(0)==="r"?$d(s):Ad(s)}class Oi{constructor(t){if(t instanceof Oi)return t;const e=typeof t;let i;e==="object"?i=oa(t):e==="string"&&(i=xd(t)||Ld(t)||zd(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=Bc(this._rgb);return t&&(t.a=be(t.a)),t}set rgb(t){this._rgb=oa(t)}rgbString(){return this._valid?Fd(this._rgb):void 0}hexString(){return this._valid?Sd(this._rgb):void 0}hslString(){return this._valid?Id(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,n=t.rgb;let r;const o=e===r?.5:e,a=2*o-1,l=i.a-n.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;r=1-c,i.r=255&c*i.r+r*n.r+.5,i.g=255&c*i.g+r*n.g+.5,i.b=255&c*i.b+r*n.b+.5,i.a=o*i.a+(1-o)*n.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=jd(this._rgb,t._rgb,e)),this}clone(){return new Oi(this.rgb)}alpha(t){return this._rgb.a=ze(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=Ni(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Zi(this._rgb,2,t),this}darken(t){return Zi(this._rgb,2,-t),this}saturate(t){return Zi(this._rgb,1,t),this}desaturate(t){return Zi(this._rgb,1,-t),this}rotate(t){return Pd(this._rgb,t),this}}/*!
 * Chart.js v4.4.3
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */function me(){}const Vd=(()=>{let s=0;return()=>s++})();function Z(s){return s===null||typeof s>"u"}function ht(s){if(Array.isArray&&Array.isArray(s))return!0;const t=Object.prototype.toString.call(s);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function H(s){return s!==null&&Object.prototype.toString.call(s)==="[object Object]"}function gt(s){return(typeof s=="number"||s instanceof Number)&&isFinite(+s)}function Wt(s,t){return gt(s)?s:t}function j(s,t){return typeof s>"u"?t:s}const Wd=(s,t)=>typeof s=="string"&&s.endsWith("%")?parseFloat(s)/100:+s/t,Hc=(s,t)=>typeof s=="string"&&s.endsWith("%")?parseFloat(s)/100*t:+s;function nt(s,t,e){if(s&&typeof s.call=="function")return s.apply(e,t)}function tt(s,t,e,i){let n,r,o;if(ht(s))for(r=s.length,n=0;n<r;n++)t.call(e,s[n],n);else if(H(s))for(o=Object.keys(s),r=o.length,n=0;n<r;n++)t.call(e,s[o[n]],o[n])}function In(s,t){let e,i,n,r;if(!s||!t||s.length!==t.length)return!1;for(e=0,i=s.length;e<i;++e)if(n=s[e],r=t[e],n.datasetIndex!==r.datasetIndex||n.index!==r.index)return!1;return!0}function Rn(s){if(ht(s))return s.map(Rn);if(H(s)){const t=Object.create(null),e=Object.keys(s),i=e.length;let n=0;for(;n<i;++n)t[e[n]]=Rn(s[e[n]]);return t}return s}function Uc(s){return["__proto__","prototype","constructor"].indexOf(s)===-1}function Bd(s,t,e,i){if(!Uc(s))return;const n=t[s],r=e[s];H(n)&&H(r)?Ti(n,r,i):t[s]=Rn(r)}function Ti(s,t,e){const i=ht(t)?t:[t],n=i.length;if(!H(s))return s;e=e||{};const r=e.merger||Bd;let o;for(let a=0;a<n;++a){if(o=i[a],!H(o))continue;const l=Object.keys(o);for(let c=0,h=l.length;c<h;++c)r(l[c],s,o,e)}return s}function mi(s,t){return Ti(s,t,{merger:Hd})}function Hd(s,t,e){if(!Uc(s))return;const i=t[s],n=e[s];H(i)&&H(n)?mi(i,n):Object.prototype.hasOwnProperty.call(t,s)||(t[s]=Rn(n))}const aa={"":s=>s,x:s=>s.x,y:s=>s.y};function Ud(s){const t=s.split("."),e=[];let i="";for(const n of t)i+=n,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}function qd(s){const t=Ud(s);return e=>{for(const i of t){if(i==="")break;e=e&&e[i]}return e}}function We(s,t){return(aa[t]||(aa[t]=qd(t)))(s)}function ko(s){return s.charAt(0).toUpperCase()+s.slice(1)}const Mi=s=>typeof s<"u",Be=s=>typeof s=="function",la=(s,t)=>{if(s.size!==t.size)return!1;for(const e of s)if(!t.has(e))return!1;return!0};function Yd(s){return s.type==="mouseup"||s.type==="click"||s.type==="contextmenu"}const lt=Math.PI,ot=2*lt,Gd=ot+lt,Ln=Number.POSITIVE_INFINITY,Zd=lt/180,bt=lt/2,qe=lt/4,ca=lt*2/3,$e=Math.log10,ge=Math.sign;function pi(s,t,e){return Math.abs(s-t)<e}function ha(s){const t=Math.round(s);s=pi(s,t,s/1e3)?t:s;const e=Math.pow(10,Math.floor($e(s))),i=s/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function Jd(s){const t=[],e=Math.sqrt(s);let i;for(i=1;i<e;i++)s%i===0&&(t.push(i),t.push(s/i));return e===(e|0)&&t.push(e),t.sort((n,r)=>n-r).pop(),t}function Fs(s){return!isNaN(parseFloat(s))&&isFinite(s)}function Kd(s,t){const e=Math.round(s);return e-t<=s&&e+t>=s}function qc(s,t,e){let i,n,r;for(i=0,n=s.length;i<n;i++)r=s[i][e],isNaN(r)||(t.min=Math.min(t.min,r),t.max=Math.max(t.max,r))}function ie(s){return s*(lt/180)}function So(s){return s*(180/lt)}function ua(s){if(!gt(s))return;let t=1,e=0;for(;Math.round(s*t)/t!==s;)t*=10,e++;return e}function Yc(s,t){const e=t.x-s.x,i=t.y-s.y,n=Math.sqrt(e*e+i*i);let r=Math.atan2(i,e);return r<-.5*lt&&(r+=ot),{angle:r,distance:n}}function Wr(s,t){return Math.sqrt(Math.pow(t.x-s.x,2)+Math.pow(t.y-s.y,2))}function Xd(s,t){return(s-t+Gd)%ot-lt}function Bt(s){return(s%ot+ot)%ot}function Ei(s,t,e,i){const n=Bt(s),r=Bt(t),o=Bt(e),a=Bt(r-n),l=Bt(o-n),c=Bt(n-r),h=Bt(n-o);return n===r||n===o||i&&r===o||a>l&&c<h}function Mt(s,t,e){return Math.max(t,Math.min(e,s))}function Qd(s){return Mt(s,-32768,32767)}function we(s,t,e,i=1e-6){return s>=Math.min(t,e)-i&&s<=Math.max(t,e)+i}function Oo(s,t,e){e=e||(o=>s[o]<t);let i=s.length-1,n=0,r;for(;i-n>1;)r=n+i>>1,e(r)?n=r:i=r;return{lo:n,hi:i}}const xe=(s,t,e,i)=>Oo(s,e,i?n=>{const r=s[n][t];return r<e||r===e&&s[n+1][t]===e}:n=>s[n][t]<e),tf=(s,t,e)=>Oo(s,e,i=>s[i][t]>=e);function ef(s,t,e){let i=0,n=s.length;for(;i<n&&s[i]<t;)i++;for(;n>i&&s[n-1]>e;)n--;return i>0||n<s.length?s.slice(i,n):s}const Gc=["push","pop","shift","splice","unshift"];function sf(s,t){if(s._chartjs){s._chartjs.listeners.push(t);return}Object.defineProperty(s,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),Gc.forEach(e=>{const i="_onData"+ko(e),n=s[e];Object.defineProperty(s,e,{configurable:!0,enumerable:!1,value(...r){const o=n.apply(this,r);return s._chartjs.listeners.forEach(a=>{typeof a[i]=="function"&&a[i](...r)}),o}})})}function da(s,t){const e=s._chartjs;if(!e)return;const i=e.listeners,n=i.indexOf(t);n!==-1&&i.splice(n,1),!(i.length>0)&&(Gc.forEach(r=>{delete s[r]}),delete s._chartjs)}function Zc(s){const t=new Set(s);return t.size===s.length?s:Array.from(t)}const Jc=function(){return typeof window>"u"?function(s){return s()}:window.requestAnimationFrame}();function Kc(s,t){let e=[],i=!1;return function(...n){e=n,i||(i=!0,Jc.call(window,()=>{i=!1,s.apply(t,e)}))}}function nf(s,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(s,t,i)):s.apply(this,i),t}}const To=s=>s==="start"?"left":s==="end"?"right":"center",Dt=(s,t,e)=>s==="start"?t:s==="end"?e:(t+e)/2,rf=(s,t,e,i)=>s===(i?"left":"right")?e:s==="center"?(t+e)/2:t;function Xc(s,t,e){const i=t.length;let n=0,r=i;if(s._sorted){const{iScale:o,_parsed:a}=s,l=o.axis,{min:c,max:h,minDefined:u,maxDefined:d}=o.getUserBounds();u&&(n=Mt(Math.min(xe(a,l,c).lo,e?i:xe(t,l,o.getPixelForValue(c)).lo),0,i-1)),d?r=Mt(Math.max(xe(a,o.axis,h,!0).hi+1,e?0:xe(t,l,o.getPixelForValue(h),!0).hi+1),n,i)-n:r=i-n}return{start:n,count:r}}function Qc(s){const{xScale:t,yScale:e,_scaleRanges:i}=s,n={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!i)return s._scaleRanges=n,!0;const r=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==e.min||i.ymax!==e.max;return Object.assign(i,n),r}const Ji=s=>s===0||s===1,fa=(s,t,e)=>-(Math.pow(2,10*(s-=1))*Math.sin((s-t)*ot/e)),ga=(s,t,e)=>Math.pow(2,-10*s)*Math.sin((s-t)*ot/e)+1,_i={linear:s=>s,easeInQuad:s=>s*s,easeOutQuad:s=>-s*(s-2),easeInOutQuad:s=>(s/=.5)<1?.5*s*s:-.5*(--s*(s-2)-1),easeInCubic:s=>s*s*s,easeOutCubic:s=>(s-=1)*s*s+1,easeInOutCubic:s=>(s/=.5)<1?.5*s*s*s:.5*((s-=2)*s*s+2),easeInQuart:s=>s*s*s*s,easeOutQuart:s=>-((s-=1)*s*s*s-1),easeInOutQuart:s=>(s/=.5)<1?.5*s*s*s*s:-.5*((s-=2)*s*s*s-2),easeInQuint:s=>s*s*s*s*s,easeOutQuint:s=>(s-=1)*s*s*s*s+1,easeInOutQuint:s=>(s/=.5)<1?.5*s*s*s*s*s:.5*((s-=2)*s*s*s*s+2),easeInSine:s=>-Math.cos(s*bt)+1,easeOutSine:s=>Math.sin(s*bt),easeInOutSine:s=>-.5*(Math.cos(lt*s)-1),easeInExpo:s=>s===0?0:Math.pow(2,10*(s-1)),easeOutExpo:s=>s===1?1:-Math.pow(2,-10*s)+1,easeInOutExpo:s=>Ji(s)?s:s<.5?.5*Math.pow(2,10*(s*2-1)):.5*(-Math.pow(2,-10*(s*2-1))+2),easeInCirc:s=>s>=1?s:-(Math.sqrt(1-s*s)-1),easeOutCirc:s=>Math.sqrt(1-(s-=1)*s),easeInOutCirc:s=>(s/=.5)<1?-.5*(Math.sqrt(1-s*s)-1):.5*(Math.sqrt(1-(s-=2)*s)+1),easeInElastic:s=>Ji(s)?s:fa(s,.075,.3),easeOutElastic:s=>Ji(s)?s:ga(s,.075,.3),easeInOutElastic(s){return Ji(s)?s:s<.5?.5*fa(s*2,.1125,.45):.5+.5*ga(s*2-1,.1125,.45)},easeInBack(s){return s*s*((1.70158+1)*s-1.70158)},easeOutBack(s){return(s-=1)*s*((1.70158+1)*s+1.70158)+1},easeInOutBack(s){let t=1.70158;return(s/=.5)<1?.5*(s*s*(((t*=1.525)+1)*s-t)):.5*((s-=2)*s*(((t*=1.525)+1)*s+t)+2)},easeInBounce:s=>1-_i.easeOutBounce(1-s),easeOutBounce(s){return s<1/2.75?7.5625*s*s:s<2/2.75?7.5625*(s-=1.5/2.75)*s+.75:s<2.5/2.75?7.5625*(s-=2.25/2.75)*s+.9375:7.5625*(s-=2.625/2.75)*s+.984375},easeInOutBounce:s=>s<.5?_i.easeInBounce(s*2)*.5:_i.easeOutBounce(s*2-1)*.5+.5};function Mo(s){if(s&&typeof s=="object"){const t=s.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function ma(s){return Mo(s)?s:new Oi(s)}function dr(s){return Mo(s)?s:new Oi(s).saturate(.5).darken(.1).hexString()}const of=["x","y","borderWidth","radius","tension"],af=["color","borderColor","backgroundColor"];function lf(s){s.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),s.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),s.set("animations",{colors:{type:"color",properties:af},numbers:{type:"number",properties:of}}),s.describe("animations",{_fallback:"animation"}),s.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function cf(s){s.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const pa=new Map;function hf(s,t){t=t||{};const e=s+JSON.stringify(t);let i=pa.get(e);return i||(i=new Intl.NumberFormat(s,t),pa.set(e,i)),i}function $i(s,t,e){return hf(t,e).format(s)}const th={values(s){return ht(s)?s:""+s},numeric(s,t,e){if(s===0)return"0";const i=this.chart.options.locale;let n,r=s;if(e.length>1){const c=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(c<1e-4||c>1e15)&&(n="scientific"),r=uf(s,e)}const o=$e(Math.abs(r)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:n,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),$i(s,i,l)},logarithmic(s,t,e){if(s===0)return"0";const i=e[t].significand||s/Math.pow(10,Math.floor($e(s)));return[1,2,3,5,10,15].includes(i)||t>.8*e.length?th.numeric.call(this,s,t,e):""}};function uf(s,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&s!==Math.floor(s)&&(e=s-Math.floor(s)),e}var Jn={formatters:th};function df(s){s.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Jn.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),s.route("scale.ticks","color","","color"),s.route("scale.grid","color","","borderColor"),s.route("scale.border","color","","borderColor"),s.route("scale.title","color","","color"),s.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),s.describe("scales",{_fallback:"scale"}),s.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const ds=Object.create(null),Br=Object.create(null);function bi(s,t){if(!t)return s;const e=t.split(".");for(let i=0,n=e.length;i<n;++i){const r=e[i];s=s[r]||(s[r]=Object.create(null))}return s}function fr(s,t,e){return typeof t=="string"?Ti(bi(s,t),e):Ti(bi(s,""),t)}class ff{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,n)=>dr(n.backgroundColor),this.hoverBorderColor=(i,n)=>dr(n.borderColor),this.hoverColor=(i,n)=>dr(n.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return fr(this,t,e)}get(t){return bi(this,t)}describe(t,e){return fr(Br,t,e)}override(t,e){return fr(ds,t,e)}route(t,e,i,n){const r=bi(this,t),o=bi(this,i),a="_"+e;Object.defineProperties(r,{[a]:{value:r[e],writable:!0},[e]:{enumerable:!0,get(){const l=this[a],c=o[n];return H(l)?Object.assign({},c,l):j(l,c)},set(l){this[a]=l}}})}apply(t){t.forEach(e=>e(this))}}var mt=new ff({_scriptable:s=>!s.startsWith("on"),_indexable:s=>s!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[lf,cf,df]);function gf(s){return!s||Z(s.size)||Z(s.family)?null:(s.style?s.style+" ":"")+(s.weight?s.weight+" ":"")+s.size+"px "+s.family}function Nn(s,t,e,i,n){let r=t[n];return r||(r=t[n]=s.measureText(n).width,e.push(n)),r>i&&(i=r),i}function mf(s,t,e,i){i=i||{};let n=i.data=i.data||{},r=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(n=i.data={},r=i.garbageCollect=[],i.font=t),s.save(),s.font=t;let o=0;const a=e.length;let l,c,h,u,d;for(l=0;l<a;l++)if(u=e[l],u!=null&&!ht(u))o=Nn(s,n,r,o,u);else if(ht(u))for(c=0,h=u.length;c<h;c++)d=u[c],d!=null&&!ht(d)&&(o=Nn(s,n,r,o,d));s.restore();const f=r.length/2;if(f>e.length){for(l=0;l<f;l++)delete n[r[l]];r.splice(0,f)}return o}function Ye(s,t,e){const i=s.currentDevicePixelRatio,n=e!==0?Math.max(e/2,.5):0;return Math.round((t-n)*i)/i+n}function _a(s,t){!t&&!s||(t=t||s.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,s.width,s.height),t.restore())}function Hr(s,t,e,i){eh(s,t,e,i,null)}function eh(s,t,e,i,n){let r,o,a,l,c,h,u,d;const f=t.pointStyle,g=t.rotation,m=t.radius;let p=(g||0)*Zd;if(f&&typeof f=="object"&&(r=f.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){s.save(),s.translate(e,i),s.rotate(p),s.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),s.restore();return}if(!(isNaN(m)||m<=0)){switch(s.beginPath(),f){default:n?s.ellipse(e,i,n/2,m,0,0,ot):s.arc(e,i,m,0,ot),s.closePath();break;case"triangle":h=n?n/2:m,s.moveTo(e+Math.sin(p)*h,i-Math.cos(p)*m),p+=ca,s.lineTo(e+Math.sin(p)*h,i-Math.cos(p)*m),p+=ca,s.lineTo(e+Math.sin(p)*h,i-Math.cos(p)*m),s.closePath();break;case"rectRounded":c=m*.516,l=m-c,o=Math.cos(p+qe)*l,u=Math.cos(p+qe)*(n?n/2-c:l),a=Math.sin(p+qe)*l,d=Math.sin(p+qe)*(n?n/2-c:l),s.arc(e-u,i-a,c,p-lt,p-bt),s.arc(e+d,i-o,c,p-bt,p),s.arc(e+u,i+a,c,p,p+bt),s.arc(e-d,i+o,c,p+bt,p+lt),s.closePath();break;case"rect":if(!g){l=Math.SQRT1_2*m,h=n?n/2:l,s.rect(e-h,i-l,2*h,2*l);break}p+=qe;case"rectRot":u=Math.cos(p)*(n?n/2:m),o=Math.cos(p)*m,a=Math.sin(p)*m,d=Math.sin(p)*(n?n/2:m),s.moveTo(e-u,i-a),s.lineTo(e+d,i-o),s.lineTo(e+u,i+a),s.lineTo(e-d,i+o),s.closePath();break;case"crossRot":p+=qe;case"cross":u=Math.cos(p)*(n?n/2:m),o=Math.cos(p)*m,a=Math.sin(p)*m,d=Math.sin(p)*(n?n/2:m),s.moveTo(e-u,i-a),s.lineTo(e+u,i+a),s.moveTo(e+d,i-o),s.lineTo(e-d,i+o);break;case"star":u=Math.cos(p)*(n?n/2:m),o=Math.cos(p)*m,a=Math.sin(p)*m,d=Math.sin(p)*(n?n/2:m),s.moveTo(e-u,i-a),s.lineTo(e+u,i+a),s.moveTo(e+d,i-o),s.lineTo(e-d,i+o),p+=qe,u=Math.cos(p)*(n?n/2:m),o=Math.cos(p)*m,a=Math.sin(p)*m,d=Math.sin(p)*(n?n/2:m),s.moveTo(e-u,i-a),s.lineTo(e+u,i+a),s.moveTo(e+d,i-o),s.lineTo(e-d,i+o);break;case"line":o=n?n/2:Math.cos(p)*m,a=Math.sin(p)*m,s.moveTo(e-o,i-a),s.lineTo(e+o,i+a);break;case"dash":s.moveTo(e,i),s.lineTo(e+Math.cos(p)*(n?n/2:m),i+Math.sin(p)*m);break;case!1:s.closePath();break}s.fill(),t.borderWidth>0&&s.stroke()}}function ke(s,t,e){return e=e||.5,!t||s&&s.x>t.left-e&&s.x<t.right+e&&s.y>t.top-e&&s.y<t.bottom+e}function Kn(s,t){s.save(),s.beginPath(),s.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),s.clip()}function Xn(s){s.restore()}function pf(s,t,e,i,n){if(!t)return s.lineTo(e.x,e.y);if(n==="middle"){const r=(t.x+e.x)/2;s.lineTo(r,t.y),s.lineTo(r,e.y)}else n==="after"!=!!i?s.lineTo(t.x,e.y):s.lineTo(e.x,t.y);s.lineTo(e.x,e.y)}function _f(s,t,e,i){if(!t)return s.lineTo(e.x,e.y);s.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?e.cp2x:e.cp1x,i?e.cp2y:e.cp1y,e.x,e.y)}function bf(s,t){t.translation&&s.translate(t.translation[0],t.translation[1]),Z(t.rotation)||s.rotate(t.rotation),t.color&&(s.fillStyle=t.color),t.textAlign&&(s.textAlign=t.textAlign),t.textBaseline&&(s.textBaseline=t.textBaseline)}function yf(s,t,e,i,n){if(n.strikethrough||n.underline){const r=s.measureText(i),o=t-r.actualBoundingBoxLeft,a=t+r.actualBoundingBoxRight,l=e-r.actualBoundingBoxAscent,c=e+r.actualBoundingBoxDescent,h=n.strikethrough?(l+c)/2:c;s.strokeStyle=s.fillStyle,s.beginPath(),s.lineWidth=n.decorationWidth||2,s.moveTo(o,h),s.lineTo(a,h),s.stroke()}}function vf(s,t){const e=s.fillStyle;s.fillStyle=t.color,s.fillRect(t.left,t.top,t.width,t.height),s.fillStyle=e}function fs(s,t,e,i,n,r={}){const o=ht(t)?t:[t],a=r.strokeWidth>0&&r.strokeColor!=="";let l,c;for(s.save(),s.font=n.string,bf(s,r),l=0;l<o.length;++l)c=o[l],r.backdrop&&vf(s,r.backdrop),a&&(r.strokeColor&&(s.strokeStyle=r.strokeColor),Z(r.strokeWidth)||(s.lineWidth=r.strokeWidth),s.strokeText(c,e,i,r.maxWidth)),s.fillText(c,e,i,r.maxWidth),yf(s,e,i,c,r),i+=Number(n.lineHeight);s.restore()}function Ci(s,t){const{x:e,y:i,w:n,h:r,radius:o}=t;s.arc(e+o.topLeft,i+o.topLeft,o.topLeft,1.5*lt,lt,!0),s.lineTo(e,i+r-o.bottomLeft),s.arc(e+o.bottomLeft,i+r-o.bottomLeft,o.bottomLeft,lt,bt,!0),s.lineTo(e+n-o.bottomRight,i+r),s.arc(e+n-o.bottomRight,i+r-o.bottomRight,o.bottomRight,bt,0,!0),s.lineTo(e+n,i+o.topRight),s.arc(e+n-o.topRight,i+o.topRight,o.topRight,0,-bt,!0),s.lineTo(e+o.topLeft,i)}const wf=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,xf=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function kf(s,t){const e=(""+s).match(wf);if(!e||e[1]==="normal")return t*1.2;switch(s=+e[2],e[3]){case"px":return s;case"%":s/=100;break}return t*s}const Sf=s=>+s||0;function Eo(s,t){const e={},i=H(t),n=i?Object.keys(t):t,r=H(s)?i?o=>j(s[o],s[t[o]]):o=>s[o]:()=>s;for(const o of n)e[o]=Sf(r(o));return e}function sh(s){return Eo(s,{top:"y",right:"x",bottom:"y",left:"x"})}function os(s){return Eo(s,["topLeft","topRight","bottomLeft","bottomRight"])}function Rt(s){const t=sh(s);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Ot(s,t){s=s||{},t=t||mt.font;let e=j(s.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let i=j(s.style,t.style);i&&!(""+i).match(xf)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const n={family:j(s.family,t.family),lineHeight:kf(j(s.lineHeight,t.lineHeight),e),size:e,style:i,weight:j(s.weight,t.weight),string:""};return n.string=gf(n),n}function li(s,t,e,i){let n,r,o;for(n=0,r=s.length;n<r;++n)if(o=s[n],o!==void 0&&o!==void 0)return o}function Of(s,t,e){const{min:i,max:n}=s,r=Hc(t,(n-i)/2),o=(a,l)=>e&&a===0?0:a+l;return{min:o(i,-Math.abs(r)),max:o(n,r)}}function Ue(s,t){return Object.assign(Object.create(s),t)}function Co(s,t=[""],e,i,n=()=>s[0]){const r=e||s;typeof i>"u"&&(i=oh("_fallback",s));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:s,_rootScopes:r,_fallback:i,_getTarget:n,override:a=>Co([a,...s],t,r,i)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete s[0][l],!0},get(a,l){return nh(a,l,()=>If(l,t,s,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(s[0])},has(a,l){return ya(a).includes(l)},ownKeys(a){return ya(a)},set(a,l,c){const h=a._storage||(a._storage=n());return a[l]=h[l]=c,delete a._keys,!0}})}function js(s,t,e,i){const n={_cacheable:!1,_proxy:s,_context:t,_subProxy:e,_stack:new Set,_descriptors:ih(s,i),setContext:r=>js(s,r,e,i),override:r=>js(s.override(r),t,e,i)};return new Proxy(n,{deleteProperty(r,o){return delete r[o],delete s[o],!0},get(r,o,a){return nh(r,o,()=>Mf(r,o,a))},getOwnPropertyDescriptor(r,o){return r._descriptors.allKeys?Reflect.has(s,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(s,o)},getPrototypeOf(){return Reflect.getPrototypeOf(s)},has(r,o){return Reflect.has(s,o)},ownKeys(){return Reflect.ownKeys(s)},set(r,o,a){return s[o]=a,delete r[o],!0}})}function ih(s,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:n=t.allKeys}=s;return{allKeys:n,scriptable:e,indexable:i,isScriptable:Be(e)?e:()=>e,isIndexable:Be(i)?i:()=>i}}const Tf=(s,t)=>s?s+ko(t):t,Do=(s,t)=>H(t)&&s!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function nh(s,t,e){if(Object.prototype.hasOwnProperty.call(s,t)||t==="constructor")return s[t];const i=e();return s[t]=i,i}function Mf(s,t,e){const{_proxy:i,_context:n,_subProxy:r,_descriptors:o}=s;let a=i[t];return Be(a)&&o.isScriptable(t)&&(a=Ef(t,a,s,e)),ht(a)&&a.length&&(a=Cf(t,a,s,o.isIndexable)),Do(t,a)&&(a=js(a,n,r&&r[t],o)),a}function Ef(s,t,e,i){const{_proxy:n,_context:r,_subProxy:o,_stack:a}=e;if(a.has(s))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+s);a.add(s);let l=t(r,o||i);return a.delete(s),Do(s,l)&&(l=Ao(n._scopes,n,s,l)),l}function Cf(s,t,e,i){const{_proxy:n,_context:r,_subProxy:o,_descriptors:a}=e;if(typeof r.index<"u"&&i(s))return t[r.index%t.length];if(H(t[0])){const l=t,c=n._scopes.filter(h=>h!==l);t=[];for(const h of l){const u=Ao(c,n,s,h);t.push(js(u,r,o&&o[s],a))}}return t}function rh(s,t,e){return Be(s)?s(t,e):s}const Df=(s,t)=>s===!0?t:typeof s=="string"?We(t,s):void 0;function Af(s,t,e,i,n){for(const r of t){const o=Df(e,r);if(o){s.add(o);const a=rh(o._fallback,e,n);if(typeof a<"u"&&a!==e&&a!==i)return a}else if(o===!1&&typeof i<"u"&&e!==i)return null}return!1}function Ao(s,t,e,i){const n=t._rootScopes,r=rh(t._fallback,e,i),o=[...s,...n],a=new Set;a.add(i);let l=ba(a,o,e,r||e,i);return l===null||typeof r<"u"&&r!==e&&(l=ba(a,o,r,l,i),l===null)?!1:Co(Array.from(a),[""],n,r,()=>Pf(t,e,i))}function ba(s,t,e,i,n){for(;e;)e=Af(s,t,e,i,n);return e}function Pf(s,t,e){const i=s._getTarget();t in i||(i[t]={});const n=i[t];return ht(n)&&H(e)?e:n||{}}function If(s,t,e,i){let n;for(const r of t)if(n=oh(Tf(r,s),e),typeof n<"u")return Do(s,n)?Ao(e,i,s,n):n}function oh(s,t){for(const e of t){if(!e)continue;const i=e[s];if(typeof i<"u")return i}}function ya(s){let t=s._keys;return t||(t=s._keys=Rf(s._scopes)),t}function Rf(s){const t=new Set;for(const e of s)for(const i of Object.keys(e).filter(n=>!n.startsWith("_")))t.add(i);return Array.from(t)}function ah(s,t,e,i){const{iScale:n}=s,{key:r="r"}=this._parsing,o=new Array(i);let a,l,c,h;for(a=0,l=i;a<l;++a)c=a+e,h=t[c],o[a]={r:n.parse(We(h,r),c)};return o}const Lf=Number.EPSILON||1e-14,zs=(s,t)=>t<s.length&&!s[t].skip&&s[t],lh=s=>s==="x"?"y":"x";function Nf(s,t,e,i){const n=s.skip?t:s,r=t,o=e.skip?t:e,a=Wr(r,n),l=Wr(o,r);let c=a/(a+l),h=l/(a+l);c=isNaN(c)?0:c,h=isNaN(h)?0:h;const u=i*c,d=i*h;return{previous:{x:r.x-u*(o.x-n.x),y:r.y-u*(o.y-n.y)},next:{x:r.x+d*(o.x-n.x),y:r.y+d*(o.y-n.y)}}}function $f(s,t,e){const i=s.length;let n,r,o,a,l,c=zs(s,0);for(let h=0;h<i-1;++h)if(l=c,c=zs(s,h+1),!(!l||!c)){if(pi(t[h],0,Lf)){e[h]=e[h+1]=0;continue}n=e[h]/t[h],r=e[h+1]/t[h],a=Math.pow(n,2)+Math.pow(r,2),!(a<=9)&&(o=3/Math.sqrt(a),e[h]=n*o*t[h],e[h+1]=r*o*t[h])}}function Ff(s,t,e="x"){const i=lh(e),n=s.length;let r,o,a,l=zs(s,0);for(let c=0;c<n;++c){if(o=a,a=l,l=zs(s,c+1),!a)continue;const h=a[e],u=a[i];o&&(r=(h-o[e])/3,a[`cp1${e}`]=h-r,a[`cp1${i}`]=u-r*t[c]),l&&(r=(l[e]-h)/3,a[`cp2${e}`]=h+r,a[`cp2${i}`]=u+r*t[c])}}function jf(s,t="x"){const e=lh(t),i=s.length,n=Array(i).fill(0),r=Array(i);let o,a,l,c=zs(s,0);for(o=0;o<i;++o)if(a=l,l=c,c=zs(s,o+1),!!l){if(c){const h=c[t]-l[t];n[o]=h!==0?(c[e]-l[e])/h:0}r[o]=a?c?ge(n[o-1])!==ge(n[o])?0:(n[o-1]+n[o])/2:n[o-1]:n[o]}$f(s,n,r),Ff(s,r,t)}function Ki(s,t,e){return Math.max(Math.min(s,e),t)}function zf(s,t){let e,i,n,r,o,a=ke(s[0],t);for(e=0,i=s.length;e<i;++e)o=r,r=a,a=e<i-1&&ke(s[e+1],t),r&&(n=s[e],o&&(n.cp1x=Ki(n.cp1x,t.left,t.right),n.cp1y=Ki(n.cp1y,t.top,t.bottom)),a&&(n.cp2x=Ki(n.cp2x,t.left,t.right),n.cp2y=Ki(n.cp2y,t.top,t.bottom)))}function Vf(s,t,e,i,n){let r,o,a,l;if(t.spanGaps&&(s=s.filter(c=>!c.skip)),t.cubicInterpolationMode==="monotone")jf(s,n);else{let c=i?s[s.length-1]:s[0];for(r=0,o=s.length;r<o;++r)a=s[r],l=Nf(c,a,s[Math.min(r+1,o-(i?0:1))%o],t.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}t.capBezierPoints&&zf(s,e)}function Po(){return typeof window<"u"&&typeof document<"u"}function Io(s){let t=s.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function $n(s,t,e){let i;return typeof s=="string"?(i=parseInt(s,10),s.indexOf("%")!==-1&&(i=i/100*t.parentNode[e])):i=s,i}const Qn=s=>s.ownerDocument.defaultView.getComputedStyle(s,null);function Wf(s,t){return Qn(s).getPropertyValue(t)}const Bf=["top","right","bottom","left"];function as(s,t,e){const i={};e=e?"-"+e:"";for(let n=0;n<4;n++){const r=Bf[n];i[r]=parseFloat(s[t+"-"+r+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const Hf=(s,t,e)=>(s>0||t>0)&&(!e||!e.shadowRoot);function Uf(s,t){const e=s.touches,i=e&&e.length?e[0]:s,{offsetX:n,offsetY:r}=i;let o=!1,a,l;if(Hf(n,r,s.target))a=n,l=r;else{const c=t.getBoundingClientRect();a=i.clientX-c.left,l=i.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function ts(s,t){if("native"in s)return s;const{canvas:e,currentDevicePixelRatio:i}=t,n=Qn(e),r=n.boxSizing==="border-box",o=as(n,"padding"),a=as(n,"border","width"),{x:l,y:c,box:h}=Uf(s,e),u=o.left+(h&&a.left),d=o.top+(h&&a.top);let{width:f,height:g}=t;return r&&(f-=o.width+a.width,g-=o.height+a.height),{x:Math.round((l-u)/f*e.width/i),y:Math.round((c-d)/g*e.height/i)}}function qf(s,t,e){let i,n;if(t===void 0||e===void 0){const r=s&&Io(s);if(!r)t=s.clientWidth,e=s.clientHeight;else{const o=r.getBoundingClientRect(),a=Qn(r),l=as(a,"border","width"),c=as(a,"padding");t=o.width-c.width-l.width,e=o.height-c.height-l.height,i=$n(a.maxWidth,r,"clientWidth"),n=$n(a.maxHeight,r,"clientHeight")}}return{width:t,height:e,maxWidth:i||Ln,maxHeight:n||Ln}}const Xi=s=>Math.round(s*10)/10;function Yf(s,t,e,i){const n=Qn(s),r=as(n,"margin"),o=$n(n.maxWidth,s,"clientWidth")||Ln,a=$n(n.maxHeight,s,"clientHeight")||Ln,l=qf(s,t,e);let{width:c,height:h}=l;if(n.boxSizing==="content-box"){const d=as(n,"border","width"),f=as(n,"padding");c-=f.width+d.width,h-=f.height+d.height}return c=Math.max(0,c-r.width),h=Math.max(0,i?c/i:h-r.height),c=Xi(Math.min(c,o,l.maxWidth)),h=Xi(Math.min(h,a,l.maxHeight)),c&&!h&&(h=Xi(c/2)),(t!==void 0||e!==void 0)&&i&&l.height&&h>l.height&&(h=l.height,c=Xi(Math.floor(h*i))),{width:c,height:h}}function va(s,t,e){const i=t||1,n=Math.floor(s.height*i),r=Math.floor(s.width*i);s.height=Math.floor(s.height),s.width=Math.floor(s.width);const o=s.canvas;return o.style&&(e||!o.style.height&&!o.style.width)&&(o.style.height=`${s.height}px`,o.style.width=`${s.width}px`),s.currentDevicePixelRatio!==i||o.height!==n||o.width!==r?(s.currentDevicePixelRatio=i,o.height=n,o.width=r,s.ctx.setTransform(i,0,0,i,0,0),!0):!1}const Gf=function(){let s=!1;try{const t={get passive(){return s=!0,!1}};Po()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return s}();function wa(s,t){const e=Wf(s,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function es(s,t,e,i){return{x:s.x+e*(t.x-s.x),y:s.y+e*(t.y-s.y)}}function Zf(s,t,e,i){return{x:s.x+e*(t.x-s.x),y:i==="middle"?e<.5?s.y:t.y:i==="after"?e<1?s.y:t.y:e>0?t.y:s.y}}function Jf(s,t,e,i){const n={x:s.cp2x,y:s.cp2y},r={x:t.cp1x,y:t.cp1y},o=es(s,n,e),a=es(n,r,e),l=es(r,t,e),c=es(o,a,e),h=es(a,l,e);return es(c,h,e)}const Kf=function(s,t){return{x(e){return s+s+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,i){return e-i},leftForLtr(e,i){return e-i}}},Xf=function(){return{x(s){return s},setWidth(s){},textAlign(s){return s},xPlus(s,t){return s+t},leftForLtr(s,t){return s}}};function Is(s,t,e){return s?Kf(t,e):Xf()}function ch(s,t){let e,i;(t==="ltr"||t==="rtl")&&(e=s.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),s.prevTextDirection=i)}function hh(s,t){t!==void 0&&(delete s.prevTextDirection,s.canvas.style.setProperty("direction",t[0],t[1]))}function uh(s){return s==="angle"?{between:Ei,compare:Xd,normalize:Bt}:{between:we,compare:(t,e)=>t-e,normalize:t=>t}}function xa({start:s,end:t,count:e,loop:i,style:n}){return{start:s%e,end:t%e,loop:i&&(t-s+1)%e===0,style:n}}function Qf(s,t,e){const{property:i,start:n,end:r}=e,{between:o,normalize:a}=uh(i),l=t.length;let{start:c,end:h,loop:u}=s,d,f;if(u){for(c+=l,h+=l,d=0,f=l;d<f&&o(a(t[c%l][i]),n,r);++d)c--,h--;c%=l,h%=l}return h<c&&(h+=l),{start:c,end:h,loop:u,style:s.style}}function dh(s,t,e){if(!e)return[s];const{property:i,start:n,end:r}=e,o=t.length,{compare:a,between:l,normalize:c}=uh(i),{start:h,end:u,loop:d,style:f}=Qf(s,t,e),g=[];let m=!1,p=null,_,b,w;const v=()=>l(n,w,_)&&a(n,w)!==0,x=()=>a(r,_)===0||l(r,w,_),T=()=>m||v(),O=()=>!m||x();for(let M=h,D=h;M<=u;++M)b=t[M%o],!b.skip&&(_=c(b[i]),_!==w&&(m=l(_,n,r),p===null&&T()&&(p=a(_,n)===0?M:D),p!==null&&O()&&(g.push(xa({start:p,end:M,loop:d,count:o,style:f})),p=null),D=M,w=_));return p!==null&&g.push(xa({start:p,end:u,loop:d,count:o,style:f})),g}function fh(s,t){const e=[],i=s.segments;for(let n=0;n<i.length;n++){const r=dh(i[n],s.points,t);r.length&&e.push(...r)}return e}function tg(s,t,e,i){let n=0,r=t-1;if(e&&!i)for(;n<t&&!s[n].skip;)n++;for(;n<t&&s[n].skip;)n++;for(n%=t,e&&(r+=n);r>n&&s[r%t].skip;)r--;return r%=t,{start:n,end:r}}function eg(s,t,e,i){const n=s.length,r=[];let o=t,a=s[t],l;for(l=t+1;l<=e;++l){const c=s[l%n];c.skip||c.stop?a.skip||(i=!1,r.push({start:t%n,end:(l-1)%n,loop:i}),t=o=c.stop?l:null):(o=l,a.skip&&(t=l)),a=c}return o!==null&&r.push({start:t%n,end:o%n,loop:i}),r}function sg(s,t){const e=s.points,i=s.options.spanGaps,n=e.length;if(!n)return[];const r=!!s._loop,{start:o,end:a}=tg(e,n,r,i);if(i===!0)return ka(s,[{start:o,end:a,loop:r}],e,t);const l=a<o?a+n:a,c=!!s._fullLoop&&o===0&&a===n-1;return ka(s,eg(e,o,l,c),e,t)}function ka(s,t,e,i){return!i||!i.setContext||!e?t:ig(s,t,e,i)}function ig(s,t,e,i){const n=s._chart.getContext(),r=Sa(s.options),{_datasetIndex:o,options:{spanGaps:a}}=s,l=e.length,c=[];let h=r,u=t[0].start,d=u;function f(g,m,p,_){const b=a?-1:1;if(g!==m){for(g+=l;e[g%l].skip;)g-=b;for(;e[m%l].skip;)m+=b;g%l!==m%l&&(c.push({start:g%l,end:m%l,loop:p,style:_}),h=_,u=m%l)}}for(const g of t){u=a?u:g.start;let m=e[u%l],p;for(d=u+1;d<=g.end;d++){const _=e[d%l];p=Sa(i.setContext(Ue(n,{type:"segment",p0:m,p1:_,p0DataIndex:(d-1)%l,p1DataIndex:d%l,datasetIndex:o}))),ng(p,h)&&f(u,d-1,g.loop,h),m=_,h=p}u<d-1&&f(u,d-1,g.loop,h)}return c}function Sa(s){return{backgroundColor:s.backgroundColor,borderCapStyle:s.borderCapStyle,borderDash:s.borderDash,borderDashOffset:s.borderDashOffset,borderJoinStyle:s.borderJoinStyle,borderWidth:s.borderWidth,borderColor:s.borderColor}}function ng(s,t){if(!t)return!1;const e=[],i=function(n,r){return Mo(r)?(e.includes(r)||e.push(r),e.indexOf(r)):r};return JSON.stringify(s,i)!==JSON.stringify(t,i)}/*!
 * Chart.js v4.4.3
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */class rg{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,n){const r=e.listeners[n],o=e.duration;r.forEach(a=>a({chart:t,initial:e.initial,numSteps:o,currentStep:Math.min(i-e.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=Jc.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,n)=>{if(!i.running||!i.items.length)return;const r=i.items;let o=r.length-1,a=!1,l;for(;o>=0;--o)l=r[o],l._active?(l._total>i.duration&&(i.duration=l._total),l.tick(t),a=!0):(r[o]=r[r.length-1],r.pop());a&&(n.draw(),this._notify(n,i,t,"progress")),r.length||(i.running=!1,this._notify(n,i,t,"complete"),i.initial=!1),e+=r.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,n)=>Math.max(i,n._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let n=i.length-1;for(;n>=0;--n)i[n].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var pe=new rg;const Oa="transparent",og={boolean(s,t,e){return e>.5?t:s},color(s,t,e){const i=ma(s||Oa),n=i.valid&&ma(t||Oa);return n&&n.valid?n.mix(i,e).hexString():t},number(s,t,e){return s+(t-s)*e}};class ag{constructor(t,e,i,n){const r=e[i];n=li([t.to,n,r,t.from]);const o=li([t.from,r,n]);this._active=!0,this._fn=t.fn||og[t.type||typeof o],this._easing=_i[t.easing]||_i.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=o,this._to=n,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const n=this._target[this._prop],r=i-this._start,o=this._duration-r;this._start=i,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=r,this._loop=!!t.loop,this._to=li([t.to,e,n,t.from]),this._from=li([t.from,n,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,n=this._prop,r=this._from,o=this._loop,a=this._to;let l;if(this._active=r!==a&&(o||e<i),!this._active){this._target[n]=a,this._notify(!0);return}if(e<0){this._target[n]=r;return}l=e/i%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[n]=this._fn(r,a,l)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let n=0;n<i.length;n++)i[n][e]()}}class gh{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!H(t))return;const e=Object.keys(mt.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(n=>{const r=t[n];if(!H(r))return;const o={};for(const a of e)o[a]=r[a];(ht(r.properties)&&r.properties||[n]).forEach(a=>{(a===n||!i.has(a))&&i.set(a,o)})})}_animateOptions(t,e){const i=e.options,n=cg(t,i);if(!n)return[];const r=this._createAnimations(n,i);return i.$shared&&lg(t.options.$animations,i).then(()=>{t.options=i},()=>{}),r}_createAnimations(t,e){const i=this._properties,n=[],r=t.$animations||(t.$animations={}),o=Object.keys(e),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){n.push(...this._animateOptions(t,e));continue}const h=e[c];let u=r[c];const d=i.get(c);if(u)if(d&&u.active()){u.update(d,h,a);continue}else u.cancel();if(!d||!d.duration){t[c]=h;continue}r[c]=u=new ag(d,t,c,h),n.push(u)}return n}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const i=this._createAnimations(t,e);if(i.length)return pe.add(this._chart,i),!0}}function lg(s,t){const e=[],i=Object.keys(t);for(let n=0;n<i.length;n++){const r=s[i[n]];r&&r.active()&&e.push(r.wait())}return Promise.all(e)}function cg(s,t){if(!t)return;let e=s.options;if(!e){s.options=t;return}return e.$shared&&(s.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function Ta(s,t){const e=s&&s.options||{},i=e.reverse,n=e.min===void 0?t:0,r=e.max===void 0?t:0;return{start:i?r:n,end:i?n:r}}function hg(s,t,e){if(e===!1)return!1;const i=Ta(s,e),n=Ta(t,e);return{top:n.end,right:i.end,bottom:n.start,left:i.start}}function ug(s){let t,e,i,n;return H(s)?(t=s.top,e=s.right,i=s.bottom,n=s.left):t=e=i=n=s,{top:t,right:e,bottom:i,left:n,disabled:s===!1}}function mh(s,t){const e=[],i=s._getSortedDatasetMetas(t);let n,r;for(n=0,r=i.length;n<r;++n)e.push(i[n].index);return e}function Ma(s,t,e,i={}){const n=s.keys,r=i.mode==="single";let o,a,l,c;if(t!==null){for(o=0,a=n.length;o<a;++o){if(l=+n[o],l===e){if(i.all)continue;break}c=s.values[l],gt(c)&&(r||t===0||ge(t)===ge(c))&&(t+=c)}return t}}function dg(s,t){const{iScale:e,vScale:i}=t,n=e.axis==="x"?"x":"y",r=i.axis==="x"?"x":"y",o=Object.keys(s),a=new Array(o.length);let l,c,h;for(l=0,c=o.length;l<c;++l)h=o[l],a[l]={[n]:h,[r]:s[h]};return a}function Ea(s,t){const e=s&&s.options.stacked;return e||e===void 0&&t.stack!==void 0}function fg(s,t,e){return`${s.id}.${t.id}.${e.stack||e.type}`}function gg(s){const{min:t,max:e,minDefined:i,maxDefined:n}=s.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:n?e:Number.POSITIVE_INFINITY}}function mg(s,t,e){const i=s[t]||(s[t]={});return i[e]||(i[e]={})}function Ca(s,t,e,i){for(const n of t.getMatchingVisibleMetas(i).reverse()){const r=s[n.index];if(e&&r>0||!e&&r<0)return n.index}return null}function Da(s,t){const{chart:e,_cachedMeta:i}=s,n=e._stacks||(e._stacks={}),{iScale:r,vScale:o,index:a}=i,l=r.axis,c=o.axis,h=fg(r,o,i),u=t.length;let d;for(let f=0;f<u;++f){const g=t[f],{[l]:m,[c]:p}=g,_=g._stacks||(g._stacks={});d=_[c]=mg(n,h,m),d[a]=p,d._top=Ca(d,o,!0,i.type),d._bottom=Ca(d,o,!1,i.type);const b=d._visualValues||(d._visualValues={});b[a]=p}}function gr(s,t){const e=s.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function pg(s,t){return Ue(s,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function _g(s,t,e){return Ue(s,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function Qs(s,t){const e=s.controller.index,i=s.vScale&&s.vScale.axis;if(i){t=t||s._parsed;for(const n of t){const r=n._stacks;if(!r||r[i]===void 0||r[i][e]===void 0)return;delete r[i][e],r[i]._visualValues!==void 0&&r[i]._visualValues[e]!==void 0&&delete r[i]._visualValues[e]}}}const mr=s=>s==="reset"||s==="none",Aa=(s,t)=>t?s:Object.assign({},s),bg=(s,t,e)=>s&&!t.hidden&&t._stacked&&{keys:mh(e,!0),values:null};class re{constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Ea(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Qs(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),n=(u,d,f,g)=>u==="x"?d:u==="r"?g:f,r=e.xAxisID=j(i.xAxisID,gr(t,"x")),o=e.yAxisID=j(i.yAxisID,gr(t,"y")),a=e.rAxisID=j(i.rAxisID,gr(t,"r")),l=e.indexAxis,c=e.iAxisID=n(l,r,o,a),h=e.vAxisID=n(l,o,r,a);e.xScale=this.getScaleForId(r),e.yScale=this.getScaleForId(o),e.rScale=this.getScaleForId(a),e.iScale=this.getScaleForId(c),e.vScale=this.getScaleForId(h)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&da(this._data,this),t._stacked&&Qs(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(H(e)){const n=this._cachedMeta;this._data=dg(e,n)}else if(i!==e){if(i){da(i,this);const n=this._cachedMeta;Qs(n),n._parsed=[]}e&&Object.isExtensible(e)&&sf(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let n=!1;this._dataCheck();const r=e._stacked;e._stacked=Ea(e.vScale,e),e.stack!==i.stack&&(n=!0,Qs(e),e.stack=i.stack),this._resyncElements(t),(n||r!==e._stacked)&&Da(this,e._parsed)}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:i,_data:n}=this,{iScale:r,_stacked:o}=i,a=r.axis;let l=t===0&&e===n.length?!0:i._sorted,c=t>0&&i._parsed[t-1],h,u,d;if(this._parsing===!1)i._parsed=n,i._sorted=!0,d=n;else{ht(n[t])?d=this.parseArrayData(i,n,t,e):H(n[t])?d=this.parseObjectData(i,n,t,e):d=this.parsePrimitiveData(i,n,t,e);const f=()=>u[a]===null||c&&u[a]<c[a];for(h=0;h<e;++h)i._parsed[h+t]=u=d[h],l&&(f()&&(l=!1),c=u);i._sorted=l}o&&Da(this,d)}parsePrimitiveData(t,e,i,n){const{iScale:r,vScale:o}=t,a=r.axis,l=o.axis,c=r.getLabels(),h=r===o,u=new Array(n);let d,f,g;for(d=0,f=n;d<f;++d)g=d+i,u[d]={[a]:h||r.parse(c[g],g),[l]:o.parse(e[g],g)};return u}parseArrayData(t,e,i,n){const{xScale:r,yScale:o}=t,a=new Array(n);let l,c,h,u;for(l=0,c=n;l<c;++l)h=l+i,u=e[h],a[l]={x:r.parse(u[0],h),y:o.parse(u[1],h)};return a}parseObjectData(t,e,i,n){const{xScale:r,yScale:o}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(n);let h,u,d,f;for(h=0,u=n;h<u;++h)d=h+i,f=e[d],c[h]={x:r.parse(We(f,a),d),y:o.parse(We(f,l),d)};return c}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const n=this.chart,r=this._cachedMeta,o=e[t.axis],a={keys:mh(n,!0),values:e._stacks[t.axis]._visualValues};return Ma(a,o,r.index,{mode:i})}updateRangeFromParsed(t,e,i,n){const r=i[e.axis];let o=r===null?NaN:r;const a=n&&i._stacks[e.axis];n&&a&&(n.values=a,o=Ma(n,r,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,e){const i=this._cachedMeta,n=i._parsed,r=i._sorted&&t===i.iScale,o=n.length,a=this._getOtherScale(t),l=bg(e,i,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:h,max:u}=gg(a);let d,f;function g(){f=n[d];const m=f[a.axis];return!gt(f[t.axis])||h>m||u<m}for(d=0;d<o&&!(!g()&&(this.updateRangeFromParsed(c,t,f,l),r));++d);if(r){for(d=o-1;d>=0;--d)if(!g()){this.updateRangeFromParsed(c,t,f,l);break}}return c}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let n,r,o;for(n=0,r=e.length;n<r;++n)o=e[n][t.axis],gt(o)&&i.push(o);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,n=e.vScale,r=this.getParsed(t);return{label:i?""+i.getLabelForValue(r[i.axis]):"",value:n?""+n.getLabelForValue(r[n.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=ug(j(this.options.clip,hg(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,i=this._cachedMeta,n=i.data||[],r=e.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||n.length-a,c=this.options.drawActiveElementsOnTop;let h;for(i.dataset&&i.dataset.draw(t,r,a,l),h=a;h<a+l;++h){const u=n[h];u.hidden||(u.active&&c?o.push(u):u.draw(t,r))}for(h=0;h<o.length;++h)o[h].draw(t,r)}getStyle(t,e){const i=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const n=this.getDataset();let r;if(t>=0&&t<this._cachedMeta.data.length){const o=this._cachedMeta.data[t];r=o.$context||(o.$context=_g(this.getContext(),t,o)),r.parsed=this.getParsed(t),r.raw=n.data[t],r.index=r.dataIndex=t}else r=this.$context||(this.$context=pg(this.chart.getContext(),this.index)),r.dataset=n,r.index=r.datasetIndex=this.index;return r.active=!!e,r.mode=i,r}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){const n=e==="active",r=this._cachedDataOpts,o=t+"-"+e,a=r[o],l=this.enableOptionSharing&&Mi(i);if(a)return Aa(a,l);const c=this.chart.config,h=c.datasetElementScopeKeys(this._type,t),u=n?[`${t}Hover`,"hover",t,""]:[t,""],d=c.getOptionScopes(this.getDataset(),h),f=Object.keys(mt.elements[t]),g=()=>this.getContext(i,n,e),m=c.resolveNamedOptions(d,f,g,u);return m.$shared&&(m.$shared=l,r[o]=Object.freeze(Aa(m,l))),m}_resolveAnimations(t,e,i){const n=this.chart,r=this._cachedDataOpts,o=`animation-${e}`,a=r[o];if(a)return a;let l;if(n.options.animation!==!1){const h=this.chart.config,u=h.datasetAnimationScopeKeys(this._type,e),d=h.getOptionScopes(this.getDataset(),u);l=h.createResolver(d,this.getContext(t,i,e))}const c=new gh(n,l&&l.animations);return l&&l._cacheable&&(r[o]=Object.freeze(c)),c}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||mr(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const i=this.resolveDataElementOptions(t,e),n=this._sharedOptions,r=this.getSharedOptions(i),o=this.includeOptions(e,r)||r!==n;return this.updateSharedOptions(r,e,i),{sharedOptions:r,includeOptions:o}}updateElement(t,e,i,n){mr(n)?Object.assign(t,i):this._resolveAnimations(e,n).update(t,i)}updateSharedOptions(t,e,i){t&&!mr(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,n){t.active=n;const r=this.getStyle(e,n);this._resolveAnimations(e,i,n).update(t,{options:!n&&this.getSharedOptions(r)||r})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const n=i.length,r=e.length,o=Math.min(r,n);o&&this.parse(0,o),r>n?this._insertElements(n,r-n,t):r<n&&this._removeElements(r,n-r)}_insertElements(t,e,i=!0){const n=this._cachedMeta,r=n.data,o=t+e;let a;const l=c=>{for(c.length+=e,a=c.length-1;a>=o;a--)c[a]=c[a-e]};for(l(r),a=t;a<o;++a)r[a]=new this.dataElementType;this._parsing&&l(n._parsed),this.parse(t,e),i&&this.updateElements(r,t,e,"reset")}updateElements(t,e,i,n){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const n=i._parsed.splice(t,e);i._stacked&&Qs(i,n)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,n]=t;this[e](i,n)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}E(re,"defaults",{}),E(re,"datasetElementType",null),E(re,"dataElementType",null);function yg(s,t){if(!s._cache.$bar){const e=s.getMatchingVisibleMetas(t);let i=[];for(let n=0,r=e.length;n<r;n++)i=i.concat(e[n].controller.getAllParsedValues(s));s._cache.$bar=Zc(i.sort((n,r)=>n-r))}return s._cache.$bar}function vg(s){const t=s.iScale,e=yg(t,s.type);let i=t._length,n,r,o,a;const l=()=>{o===32767||o===-32768||(Mi(a)&&(i=Math.min(i,Math.abs(o-a)||i)),a=o)};for(n=0,r=e.length;n<r;++n)o=t.getPixelForValue(e[n]),l();for(a=void 0,n=0,r=t.ticks.length;n<r;++n)o=t.getPixelForTick(n),l();return i}function wg(s,t,e,i){const n=e.barThickness;let r,o;return Z(n)?(r=t.min*e.categoryPercentage,o=e.barPercentage):(r=n*i,o=1),{chunk:r/i,ratio:o,start:t.pixels[s]-r/2}}function xg(s,t,e,i){const n=t.pixels,r=n[s];let o=s>0?n[s-1]:null,a=s<n.length-1?n[s+1]:null;const l=e.categoryPercentage;o===null&&(o=r-(a===null?t.end-t.start:a-r)),a===null&&(a=r+r-o);const c=r-(r-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/i,ratio:e.barPercentage,start:c}}function kg(s,t,e,i){const n=e.parse(s[0],i),r=e.parse(s[1],i),o=Math.min(n,r),a=Math.max(n,r);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),t[e.axis]=c,t._custom={barStart:l,barEnd:c,start:n,end:r,min:o,max:a}}function ph(s,t,e,i){return ht(s)?kg(s,t,e,i):t[e.axis]=e.parse(s,i),t}function Pa(s,t,e,i){const n=s.iScale,r=s.vScale,o=n.getLabels(),a=n===r,l=[];let c,h,u,d;for(c=e,h=e+i;c<h;++c)d=t[c],u={},u[n.axis]=a||n.parse(o[c],c),l.push(ph(d,u,r,c));return l}function pr(s){return s&&s.barStart!==void 0&&s.barEnd!==void 0}function Sg(s,t,e){return s!==0?ge(s):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function Og(s){let t,e,i,n,r;return s.horizontal?(t=s.base>s.x,e="left",i="right"):(t=s.base<s.y,e="bottom",i="top"),t?(n="end",r="start"):(n="start",r="end"),{start:e,end:i,reverse:t,top:n,bottom:r}}function Tg(s,t,e,i){let n=t.borderSkipped;const r={};if(!n){s.borderSkipped=r;return}if(n===!0){s.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:c,bottom:h}=Og(s);n==="middle"&&e&&(s.enableBorderRadius=!0,(e._top||0)===i?n=c:(e._bottom||0)===i?n=h:(r[Ia(h,o,a,l)]=!0,n=c)),r[Ia(n,o,a,l)]=!0,s.borderSkipped=r}function Ia(s,t,e,i){return i?(s=Mg(s,t,e),s=Ra(s,e,t)):s=Ra(s,t,e),s}function Mg(s,t,e){return s===t?e:s===e?t:s}function Ra(s,t,e){return s==="start"?t:s==="end"?e:s}function Eg(s,{inflateAmount:t},e){s.inflateAmount=t==="auto"?e===1?.33:0:t}class yn extends re{parsePrimitiveData(t,e,i,n){return Pa(t,e,i,n)}parseArrayData(t,e,i,n){return Pa(t,e,i,n)}parseObjectData(t,e,i,n){const{iScale:r,vScale:o}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=r.axis==="x"?a:l,h=o.axis==="x"?a:l,u=[];let d,f,g,m;for(d=i,f=i+n;d<f;++d)m=e[d],g={},g[r.axis]=r.parse(We(m,c),d),u.push(ph(We(m,h),g,o,d));return u}updateRangeFromParsed(t,e,i,n){super.updateRangeFromParsed(t,e,i,n);const r=i._custom;r&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,r.min),t.max=Math.max(t.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:i,vScale:n}=e,r=this.getParsed(t),o=r._custom,a=pr(o)?"["+o.start+", "+o.end+"]":""+n.getLabelForValue(r[n.axis]);return{label:""+i.getLabelForValue(r[i.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,i,n){const r=n==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),h=this._getRuler(),{sharedOptions:u,includeOptions:d}=this._getSharedOptions(e,n);for(let f=e;f<e+i;f++){const g=this.getParsed(f),m=r||Z(g[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(f),p=this._calculateBarIndexPixels(f,h),_=(g._stacks||{})[a.axis],b={horizontal:c,base:m.base,enableBorderRadius:!_||pr(g._custom)||o===_._top||o===_._bottom,x:c?m.head:p.center,y:c?p.center:m.head,height:c?p.size:Math.abs(m.size),width:c?Math.abs(m.size):p.size};d&&(b.options=u||this.resolveDataElementOptions(f,t[f].active?"active":n));const w=b.options||t[f].options;Tg(b,w,_,o),Eg(b,w,h.ratio),this.updateElement(t[f],f,b,n)}}_getStacks(t,e){const{iScale:i}=this._cachedMeta,n=i.getMatchingVisibleMetas(this._type).filter(l=>l.controller.options.grouped),r=i.options.stacked,o=[],a=l=>{const c=l.controller.getParsed(e),h=c&&c[l.vScale.axis];if(Z(h)||isNaN(h))return!0};for(const l of n)if(!(e!==void 0&&a(l))&&((r===!1||o.indexOf(l.stack)===-1||r===void 0&&l.stack===void 0)&&o.push(l.stack),l.index===t))break;return o.length||o.push(void 0),o}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,e,i){const n=this._getStacks(t,i),r=e!==void 0?n.indexOf(e):-1;return r===-1?n.length-1:r}_getRuler(){const t=this.options,e=this._cachedMeta,i=e.iScale,n=[];let r,o;for(r=0,o=e.data.length;r<o;++r)n.push(i.getPixelForValue(this.getParsed(r)[i.axis],r));const a=t.barThickness;return{min:a||vg(e),pixels:n,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:a?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:i,index:n},options:{base:r,minBarLength:o}}=this,a=r||0,l=this.getParsed(t),c=l._custom,h=pr(c);let u=l[e.axis],d=0,f=i?this.applyStack(e,l,i):u,g,m;f!==u&&(d=f-u,f=u),h&&(u=c.barStart,f=c.barEnd-c.barStart,u!==0&&ge(u)!==ge(c.barEnd)&&(d=0),d+=u);const p=!Z(r)&&!h?r:d;let _=e.getPixelForValue(p);if(this.chart.getDataVisibility(t)?g=e.getPixelForValue(d+f):g=_,m=g-_,Math.abs(m)<o){m=Sg(m,e,a)*o,u===a&&(_-=m/2);const b=e.getPixelForDecimal(0),w=e.getPixelForDecimal(1),v=Math.min(b,w),x=Math.max(b,w);_=Math.max(Math.min(_,x),v),g=_+m,i&&!h&&(l._stacks[e.axis]._visualValues[n]=e.getValueForPixel(g)-e.getValueForPixel(_))}if(_===e.getPixelForValue(a)){const b=ge(m)*e.getLineWidthForValue(a)/2;_+=b,m-=b}return{size:m,base:_,head:g,center:g+m/2}}_calculateBarIndexPixels(t,e){const i=e.scale,n=this.options,r=n.skipNull,o=j(n.maxBarThickness,1/0);let a,l;if(e.grouped){const c=r?this._getStackCount(t):e.stackCount,h=n.barThickness==="flex"?xg(t,e,n,c):wg(t,e,n,c),u=this._getStackIndex(this.index,this._cachedMeta.stack,r?t:void 0);a=h.start+h.chunk*u+h.chunk/2,l=Math.min(o,h.chunk*h.ratio)}else a=i.getPixelForValue(this.getParsed(t)[i.axis],t),l=Math.min(o,e.min*e.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const t=this._cachedMeta,e=t.vScale,i=t.data,n=i.length;let r=0;for(;r<n;++r)this.getParsed(r)[e.axis]!==null&&!i[r].hidden&&i[r].draw(this._ctx)}}E(yn,"id","bar"),E(yn,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),E(yn,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class vn extends re{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,e,i,n){const r=super.parsePrimitiveData(t,e,i,n);for(let o=0;o<r.length;o++)r[o]._custom=this.resolveDataElementOptions(o+i).radius;return r}parseArrayData(t,e,i,n){const r=super.parseArrayData(t,e,i,n);for(let o=0;o<r.length;o++){const a=e[i+o];r[o]._custom=j(a[2],this.resolveDataElementOptions(o+i).radius)}return r}parseObjectData(t,e,i,n){const r=super.parseObjectData(t,e,i,n);for(let o=0;o<r.length;o++){const a=e[i+o];r[o]._custom=j(a&&a.r&&+a.r,this.resolveDataElementOptions(o+i).radius)}return r}getMaxOverflow(){const t=this._cachedMeta.data;let e=0;for(let i=t.length-1;i>=0;--i)e=Math.max(e,t[i].size(this.resolveDataElementOptions(i))/2);return e>0&&e}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart.data.labels||[],{xScale:n,yScale:r}=e,o=this.getParsed(t),a=n.getLabelForValue(o.x),l=r.getLabelForValue(o.y),c=o._custom;return{label:i[t]||"",value:"("+a+", "+l+(c?", "+c:"")+")"}}update(t){const e=this._cachedMeta.data;this.updateElements(e,0,e.length,t)}updateElements(t,e,i,n){const r=n==="reset",{iScale:o,vScale:a}=this._cachedMeta,{sharedOptions:l,includeOptions:c}=this._getSharedOptions(e,n),h=o.axis,u=a.axis;for(let d=e;d<e+i;d++){const f=t[d],g=!r&&this.getParsed(d),m={},p=m[h]=r?o.getPixelForDecimal(.5):o.getPixelForValue(g[h]),_=m[u]=r?a.getBasePixel():a.getPixelForValue(g[u]);m.skip=isNaN(p)||isNaN(_),c&&(m.options=l||this.resolveDataElementOptions(d,f.active?"active":n),r&&(m.options.radius=0)),this.updateElement(f,d,m,n)}}resolveDataElementOptions(t,e){const i=this.getParsed(t);let n=super.resolveDataElementOptions(t,e);n.$shared&&(n=Object.assign({},n,{$shared:!1}));const r=n.radius;return e!=="active"&&(n.radius=0),n.radius+=j(i&&i._custom,r),n}}E(vn,"id","bubble"),E(vn,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),E(vn,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function Cg(s,t,e){let i=1,n=1,r=0,o=0;if(t<ot){const a=s,l=a+t,c=Math.cos(a),h=Math.sin(a),u=Math.cos(l),d=Math.sin(l),f=(w,v,x)=>Ei(w,a,l,!0)?1:Math.max(v,v*e,x,x*e),g=(w,v,x)=>Ei(w,a,l,!0)?-1:Math.min(v,v*e,x,x*e),m=f(0,c,u),p=f(bt,h,d),_=g(lt,c,u),b=g(lt+bt,h,d);i=(m-_)/2,n=(p-b)/2,r=-(m+_)/2,o=-(p+b)/2}return{ratioX:i,ratioY:n,offsetX:r,offsetY:o}}class ns extends re{constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const i=this.getDataset().data,n=this._cachedMeta;if(this._parsing===!1)n._parsed=i;else{let r=l=>+i[l];if(H(i[t])){const{key:l="value"}=this._parsing;r=c=>+We(i[c],l)}let o,a;for(o=t,a=t+e;o<a;++o)n._parsed[o]=r(o)}}_getRotation(){return ie(this.options.rotation-90)}_getCircumference(){return ie(this.options.circumference)}_getRotationExtents(){let t=ot,e=-ot;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const n=this.chart.getDatasetMeta(i).controller,r=n._getRotation(),o=n._getCircumference();t=Math.min(t,r),e=Math.max(e,r+o)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:i}=e,n=this._cachedMeta,r=n.data,o=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,a=Math.max((Math.min(i.width,i.height)-o)/2,0),l=Math.min(Wd(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:h,rotation:u}=this._getRotationExtents(),{ratioX:d,ratioY:f,offsetX:g,offsetY:m}=Cg(u,h,l),p=(i.width-o)/d,_=(i.height-o)/f,b=Math.max(Math.min(p,_)/2,0),w=Hc(this.options.radius,b),v=Math.max(w*l,0),x=(w-v)/this._getVisibleDatasetWeightTotal();this.offsetX=g*w,this.offsetY=m*w,n.total=this.calculateTotal(),this.outerRadius=w-x*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-x*c,0),this.updateElements(r,0,r.length,t)}_circumference(t,e){const i=this.options,n=this._cachedMeta,r=this._getCircumference();return e&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||n._parsed[t]===null||n.data[t].hidden?0:this.calculateCircumference(n._parsed[t]*r/ot)}updateElements(t,e,i,n){const r=n==="reset",o=this.chart,a=o.chartArea,c=o.options.animation,h=(a.left+a.right)/2,u=(a.top+a.bottom)/2,d=r&&c.animateScale,f=d?0:this.innerRadius,g=d?0:this.outerRadius,{sharedOptions:m,includeOptions:p}=this._getSharedOptions(e,n);let _=this._getRotation(),b;for(b=0;b<e;++b)_+=this._circumference(b,r);for(b=e;b<e+i;++b){const w=this._circumference(b,r),v=t[b],x={x:h+this.offsetX,y:u+this.offsetY,startAngle:_,endAngle:_+w,circumference:w,outerRadius:g,innerRadius:f};p&&(x.options=m||this.resolveDataElementOptions(b,v.active?"active":n)),_+=w,this.updateElement(v,b,x,n)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let i=0,n;for(n=0;n<e.length;n++){const r=t._parsed[n];r!==null&&!isNaN(r)&&this.chart.getDataVisibility(n)&&!e[n].hidden&&(i+=Math.abs(r))}return i}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?ot*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,n=i.data.labels||[],r=$i(e._parsed[t],i.options.locale);return{label:n[t]||"",value:r}}getMaxBorderWidth(t){let e=0;const i=this.chart;let n,r,o,a,l;if(!t){for(n=0,r=i.data.datasets.length;n<r;++n)if(i.isDatasetVisible(n)){o=i.getDatasetMeta(n),t=o.data,a=o.controller;break}}if(!t)return 0;for(n=0,r=t.length;n<r;++n)l=a.resolveDataElementOptions(n),l.borderAlign!=="inner"&&(e=Math.max(e,l.borderWidth||0,l.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let i=0,n=t.length;i<n;++i){const r=this.resolveDataElementOptions(i);e=Math.max(e,r.offset||0,r.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(e+=this._getRingWeight(i));return e}_getRingWeight(t){return Math.max(j(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}E(ns,"id","doughnut"),E(ns,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),E(ns,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),E(ns,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i,color:n}}=t.legend.options;return e.labels.map((r,o)=>{const l=t.getDatasetMeta(0).controller.getStyle(o);return{text:r,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:n,lineWidth:l.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}}});class wn extends re{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:i,data:n=[],_dataset:r}=e,o=this.chart._animationsDisabled;let{start:a,count:l}=Xc(e,n,o);this._drawStart=a,this._drawCount=l,Qc(e)&&(a=0,l=n.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!r._decimated,i.points=n;const c=this.resolveDatasetElementOptions(t);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(i,void 0,{animated:!o,options:c},t),this.updateElements(n,a,l,t)}updateElements(t,e,i,n){const r=n==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:h,includeOptions:u}=this._getSharedOptions(e,n),d=o.axis,f=a.axis,{spanGaps:g,segment:m}=this.options,p=Fs(g)?g:Number.POSITIVE_INFINITY,_=this.chart._animationsDisabled||r||n==="none",b=e+i,w=t.length;let v=e>0&&this.getParsed(e-1);for(let x=0;x<w;++x){const T=t[x],O=_?T:{};if(x<e||x>=b){O.skip=!0;continue}const M=this.getParsed(x),D=Z(M[f]),A=O[d]=o.getPixelForValue(M[d],x),P=O[f]=r||D?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,M,l):M[f],x);O.skip=isNaN(A)||isNaN(P)||D,O.stop=x>0&&Math.abs(M[d]-v[d])>p,m&&(O.parsed=M,O.raw=c.data[x]),u&&(O.options=h||this.resolveDataElementOptions(x,T.active?"active":n)),_||this.updateElement(T,x,O,n),v=M}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,i=e.options&&e.options.borderWidth||0,n=t.data||[];if(!n.length)return i;const r=n[0].size(this.resolveDataElementOptions(0)),o=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(i,r,o)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}E(wn,"id","line"),E(wn,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),E(wn,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class yi extends re{constructor(t,e){super(t,e),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,n=i.data.labels||[],r=$i(e._parsed[t].r,i.options.locale);return{label:n[t]||"",value:r}}parseObjectData(t,e,i,n){return ah.bind(this)(t,e,i,n)}update(t){const e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,e.length,t)}getMinMax(){const t=this._cachedMeta,e={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((i,n)=>{const r=this.getParsed(n).r;!isNaN(r)&&this.chart.getDataVisibility(n)&&(r<e.min&&(e.min=r),r>e.max&&(e.max=r))}),e}_updateRadius(){const t=this.chart,e=t.chartArea,i=t.options,n=Math.min(e.right-e.left,e.bottom-e.top),r=Math.max(n/2,0),o=Math.max(i.cutoutPercentage?r/100*i.cutoutPercentage:1,0),a=(r-o)/t.getVisibleDatasetCount();this.outerRadius=r-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(t,e,i,n){const r=n==="reset",o=this.chart,l=o.options.animation,c=this._cachedMeta.rScale,h=c.xCenter,u=c.yCenter,d=c.getIndexAngle(0)-.5*lt;let f=d,g;const m=360/this.countVisibleElements();for(g=0;g<e;++g)f+=this._computeAngle(g,n,m);for(g=e;g<e+i;g++){const p=t[g];let _=f,b=f+this._computeAngle(g,n,m),w=o.getDataVisibility(g)?c.getDistanceFromCenterForValue(this.getParsed(g).r):0;f=b,r&&(l.animateScale&&(w=0),l.animateRotate&&(_=b=d));const v={x:h,y:u,innerRadius:0,outerRadius:w,startAngle:_,endAngle:b,options:this.resolveDataElementOptions(g,p.active?"active":n)};this.updateElement(p,g,v,n)}}countVisibleElements(){const t=this._cachedMeta;let e=0;return t.data.forEach((i,n)=>{!isNaN(this.getParsed(n).r)&&this.chart.getDataVisibility(n)&&e++}),e}_computeAngle(t,e,i){return this.chart.getDataVisibility(t)?ie(this.resolveDataElementOptions(t,e).angle||i):0}}E(yi,"id","polarArea"),E(yi,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),E(yi,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i,color:n}}=t.legend.options;return e.labels.map((r,o)=>{const l=t.getDatasetMeta(0).controller.getStyle(o);return{text:r,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:n,lineWidth:l.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class Ur extends ns{}E(Ur,"id","pie"),E(Ur,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class xn extends re{getLabelAndValue(t){const e=this._cachedMeta.vScale,i=this.getParsed(t);return{label:e.getLabels()[t],value:""+e.getLabelForValue(i[e.axis])}}parseObjectData(t,e,i,n){return ah.bind(this)(t,e,i,n)}update(t){const e=this._cachedMeta,i=e.dataset,n=e.data||[],r=e.iScale.getLabels();if(i.points=n,t!=="resize"){const o=this.resolveDatasetElementOptions(t);this.options.showLine||(o.borderWidth=0);const a={_loop:!0,_fullLoop:r.length===n.length,options:o};this.updateElement(i,void 0,a,t)}this.updateElements(n,0,n.length,t)}updateElements(t,e,i,n){const r=this._cachedMeta.rScale,o=n==="reset";for(let a=e;a<e+i;a++){const l=t[a],c=this.resolveDataElementOptions(a,l.active?"active":n),h=r.getPointPositionForValue(a,this.getParsed(a).r),u=o?r.xCenter:h.x,d=o?r.yCenter:h.y,f={x:u,y:d,angle:h.angle,skip:isNaN(u)||isNaN(d),options:c};this.updateElement(l,a,f,n)}}}E(xn,"id","radar"),E(xn,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),E(xn,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class kn extends re{getLabelAndValue(t){const e=this._cachedMeta,i=this.chart.data.labels||[],{xScale:n,yScale:r}=e,o=this.getParsed(t),a=n.getLabelForValue(o.x),l=r.getLabelForValue(o.y);return{label:i[t]||"",value:"("+a+", "+l+")"}}update(t){const e=this._cachedMeta,{data:i=[]}=e,n=this.chart._animationsDisabled;let{start:r,count:o}=Xc(e,i,n);if(this._drawStart=r,this._drawCount=o,Qc(e)&&(r=0,o=i.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:a,_dataset:l}=e;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!l._decimated,a.points=i;const c=this.resolveDatasetElementOptions(t);c.segment=this.options.segment,this.updateElement(a,void 0,{animated:!n,options:c},t)}else this.datasetElementType&&(delete e.dataset,this.datasetElementType=!1);this.updateElements(i,r,o,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,e,i,n){const r=n==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,h=this.resolveDataElementOptions(e,n),u=this.getSharedOptions(h),d=this.includeOptions(n,u),f=o.axis,g=a.axis,{spanGaps:m,segment:p}=this.options,_=Fs(m)?m:Number.POSITIVE_INFINITY,b=this.chart._animationsDisabled||r||n==="none";let w=e>0&&this.getParsed(e-1);for(let v=e;v<e+i;++v){const x=t[v],T=this.getParsed(v),O=b?x:{},M=Z(T[g]),D=O[f]=o.getPixelForValue(T[f],v),A=O[g]=r||M?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,T,l):T[g],v);O.skip=isNaN(D)||isNaN(A)||M,O.stop=v>0&&Math.abs(T[f]-w[f])>_,p&&(O.parsed=T,O.raw=c.data[v]),d&&(O.options=u||this.resolveDataElementOptions(v,x.active?"active":n)),b||this.updateElement(x,v,O,n),w=T}this.updateSharedOptions(u,n,h)}getMaxOverflow(){const t=this._cachedMeta,e=t.data||[];if(!this.options.showLine){let a=0;for(let l=e.length-1;l>=0;--l)a=Math.max(a,e[l].size(this.resolveDataElementOptions(l))/2);return a>0&&a}const i=t.dataset,n=i.options&&i.options.borderWidth||0;if(!e.length)return n;const r=e[0].size(this.resolveDataElementOptions(0)),o=e[e.length-1].size(this.resolveDataElementOptions(e.length-1));return Math.max(n,r,o)/2}}E(kn,"id","scatter"),E(kn,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),E(kn,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var Dg=Object.freeze({__proto__:null,BarController:yn,BubbleController:vn,DoughnutController:ns,LineController:wn,PieController:Ur,PolarAreaController:yi,RadarController:xn,ScatterController:kn});function Ge(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Ro{constructor(t){E(this,"options");this.options=t||{}}static override(t){Object.assign(Ro.prototype,t)}init(){}formats(){return Ge()}parse(){return Ge()}format(){return Ge()}add(){return Ge()}diff(){return Ge()}startOf(){return Ge()}endOf(){return Ge()}}var Ag={_date:Ro};function Pg(s,t,e,i){const{controller:n,data:r,_sorted:o}=s,a=n._cachedMeta.iScale;if(a&&t===a.axis&&t!=="r"&&o&&r.length){const l=a._reversePixels?tf:xe;if(i){if(n._sharedOptions){const c=r[0],h=typeof c.getRange=="function"&&c.getRange(t);if(h){const u=l(r,t,e-h),d=l(r,t,e+h);return{lo:u.lo,hi:d.hi}}}}else return l(r,t,e)}return{lo:0,hi:r.length-1}}function Fi(s,t,e,i,n){const r=s.getSortedVisibleDatasetMetas(),o=e[t];for(let a=0,l=r.length;a<l;++a){const{index:c,data:h}=r[a],{lo:u,hi:d}=Pg(r[a],t,o,n);for(let f=u;f<=d;++f){const g=h[f];g.skip||i(g,c,f)}}}function Ig(s){const t=s.indexOf("x")!==-1,e=s.indexOf("y")!==-1;return function(i,n){const r=t?Math.abs(i.x-n.x):0,o=e?Math.abs(i.y-n.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(o,2))}}function _r(s,t,e,i,n){const r=[];return!n&&!s.isPointInArea(t)||Fi(s,e,t,function(a,l,c){!n&&!ke(a,s.chartArea,0)||a.inRange(t.x,t.y,i)&&r.push({element:a,datasetIndex:l,index:c})},!0),r}function Rg(s,t,e,i){let n=[];function r(o,a,l){const{startAngle:c,endAngle:h}=o.getProps(["startAngle","endAngle"],i),{angle:u}=Yc(o,{x:t.x,y:t.y});Ei(u,c,h)&&n.push({element:o,datasetIndex:a,index:l})}return Fi(s,e,t,r),n}function Lg(s,t,e,i,n,r){let o=[];const a=Ig(e);let l=Number.POSITIVE_INFINITY;function c(h,u,d){const f=h.inRange(t.x,t.y,n);if(i&&!f)return;const g=h.getCenterPoint(n);if(!(!!r||s.isPointInArea(g))&&!f)return;const p=a(t,g);p<l?(o=[{element:h,datasetIndex:u,index:d}],l=p):p===l&&o.push({element:h,datasetIndex:u,index:d})}return Fi(s,e,t,c),o}function br(s,t,e,i,n,r){return!r&&!s.isPointInArea(t)?[]:e==="r"&&!i?Rg(s,t,e,n):Lg(s,t,e,i,n,r)}function La(s,t,e,i,n){const r=[],o=e==="x"?"inXRange":"inYRange";let a=!1;return Fi(s,e,t,(l,c,h)=>{l[o](t[e],n)&&(r.push({element:l,datasetIndex:c,index:h}),a=a||l.inRange(t.x,t.y,n))}),i&&!a?[]:r}var Ng={evaluateInteractionItems:Fi,modes:{index(s,t,e,i){const n=ts(t,s),r=e.axis||"x",o=e.includeInvisible||!1,a=e.intersect?_r(s,n,r,i,o):br(s,n,r,!1,i,o),l=[];return a.length?(s.getSortedVisibleDatasetMetas().forEach(c=>{const h=a[0].index,u=c.data[h];u&&!u.skip&&l.push({element:u,datasetIndex:c.index,index:h})}),l):[]},dataset(s,t,e,i){const n=ts(t,s),r=e.axis||"xy",o=e.includeInvisible||!1;let a=e.intersect?_r(s,n,r,i,o):br(s,n,r,!1,i,o);if(a.length>0){const l=a[0].datasetIndex,c=s.getDatasetMeta(l).data;a=[];for(let h=0;h<c.length;++h)a.push({element:c[h],datasetIndex:l,index:h})}return a},point(s,t,e,i){const n=ts(t,s),r=e.axis||"xy",o=e.includeInvisible||!1;return _r(s,n,r,i,o)},nearest(s,t,e,i){const n=ts(t,s),r=e.axis||"xy",o=e.includeInvisible||!1;return br(s,n,r,e.intersect,i,o)},x(s,t,e,i){const n=ts(t,s);return La(s,n,"x",e.intersect,i)},y(s,t,e,i){const n=ts(t,s);return La(s,n,"y",e.intersect,i)}}};const _h=["left","top","right","bottom"];function ti(s,t){return s.filter(e=>e.pos===t)}function Na(s,t){return s.filter(e=>_h.indexOf(e.pos)===-1&&e.box.axis===t)}function ei(s,t){return s.sort((e,i)=>{const n=t?i:e,r=t?e:i;return n.weight===r.weight?n.index-r.index:n.weight-r.weight})}function $g(s){const t=[];let e,i,n,r,o,a;for(e=0,i=(s||[]).length;e<i;++e)n=s[e],{position:r,options:{stack:o,stackWeight:a=1}}=n,t.push({index:e,box:n,pos:r,horizontal:n.isHorizontal(),weight:n.weight,stack:o&&r+o,stackWeight:a});return t}function Fg(s){const t={};for(const e of s){const{stack:i,pos:n,stackWeight:r}=e;if(!i||!_h.includes(n))continue;const o=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=r}return t}function jg(s,t){const e=Fg(s),{vBoxMaxWidth:i,hBoxMaxHeight:n}=t;let r,o,a;for(r=0,o=s.length;r<o;++r){a=s[r];const{fullSize:l}=a.box,c=e[a.stack],h=c&&a.stackWeight/c.weight;a.horizontal?(a.width=h?h*i:l&&t.availableWidth,a.height=n):(a.width=i,a.height=h?h*n:l&&t.availableHeight)}return e}function zg(s){const t=$g(s),e=ei(t.filter(c=>c.box.fullSize),!0),i=ei(ti(t,"left"),!0),n=ei(ti(t,"right")),r=ei(ti(t,"top"),!0),o=ei(ti(t,"bottom")),a=Na(t,"x"),l=Na(t,"y");return{fullSize:e,leftAndTop:i.concat(r),rightAndBottom:n.concat(l).concat(o).concat(a),chartArea:ti(t,"chartArea"),vertical:i.concat(n).concat(l),horizontal:r.concat(o).concat(a)}}function $a(s,t,e,i){return Math.max(s[e],t[e])+Math.max(s[i],t[i])}function bh(s,t){s.top=Math.max(s.top,t.top),s.left=Math.max(s.left,t.left),s.bottom=Math.max(s.bottom,t.bottom),s.right=Math.max(s.right,t.right)}function Vg(s,t,e,i){const{pos:n,box:r}=e,o=s.maxPadding;if(!H(n)){e.size&&(s[n]-=e.size);const u=i[e.stack]||{size:0,count:1};u.size=Math.max(u.size,e.horizontal?r.height:r.width),e.size=u.size/u.count,s[n]+=e.size}r.getPadding&&bh(o,r.getPadding());const a=Math.max(0,t.outerWidth-$a(o,s,"left","right")),l=Math.max(0,t.outerHeight-$a(o,s,"top","bottom")),c=a!==s.w,h=l!==s.h;return s.w=a,s.h=l,e.horizontal?{same:c,other:h}:{same:h,other:c}}function Wg(s){const t=s.maxPadding;function e(i){const n=Math.max(t[i]-s[i],0);return s[i]+=n,n}s.y+=e("top"),s.x+=e("left"),e("right"),e("bottom")}function Bg(s,t){const e=t.maxPadding;function i(n){const r={left:0,top:0,right:0,bottom:0};return n.forEach(o=>{r[o]=Math.max(t[o],e[o])}),r}return i(s?["left","right"]:["top","bottom"])}function ci(s,t,e,i){const n=[];let r,o,a,l,c,h;for(r=0,o=s.length,c=0;r<o;++r){a=s[r],l=a.box,l.update(a.width||t.w,a.height||t.h,Bg(a.horizontal,t));const{same:u,other:d}=Vg(t,e,a,i);c|=u&&n.length,h=h||d,l.fullSize||n.push(a)}return c&&ci(n,t,e,i)||h}function Qi(s,t,e,i,n){s.top=e,s.left=t,s.right=t+i,s.bottom=e+n,s.width=i,s.height=n}function Fa(s,t,e,i){const n=e.padding;let{x:r,y:o}=t;for(const a of s){const l=a.box,c=i[a.stack]||{count:1,placed:0,weight:1},h=a.stackWeight/c.weight||1;if(a.horizontal){const u=t.w*h,d=c.size||l.height;Mi(c.start)&&(o=c.start),l.fullSize?Qi(l,n.left,o,e.outerWidth-n.right-n.left,d):Qi(l,t.left+c.placed,o,u,d),c.start=o,c.placed+=u,o=l.bottom}else{const u=t.h*h,d=c.size||l.width;Mi(c.start)&&(r=c.start),l.fullSize?Qi(l,r,n.top,d,e.outerHeight-n.bottom-n.top):Qi(l,r,t.top+c.placed,d,u),c.start=r,c.placed+=u,r=l.right}}t.x=r,t.y=o}var It={addBox(s,t){s.boxes||(s.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},s.boxes.push(t)},removeBox(s,t){const e=s.boxes?s.boxes.indexOf(t):-1;e!==-1&&s.boxes.splice(e,1)},configure(s,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(s,t,e,i){if(!s)return;const n=Rt(s.options.layout.padding),r=Math.max(t-n.width,0),o=Math.max(e-n.height,0),a=zg(s.boxes),l=a.vertical,c=a.horizontal;tt(s.boxes,m=>{typeof m.beforeLayout=="function"&&m.beforeLayout()});const h=l.reduce((m,p)=>p.box.options&&p.box.options.display===!1?m:m+1,0)||1,u=Object.freeze({outerWidth:t,outerHeight:e,padding:n,availableWidth:r,availableHeight:o,vBoxMaxWidth:r/2/h,hBoxMaxHeight:o/2}),d=Object.assign({},n);bh(d,Rt(i));const f=Object.assign({maxPadding:d,w:r,h:o,x:n.left,y:n.top},n),g=jg(l.concat(c),u);ci(a.fullSize,f,u,g),ci(l,f,u,g),ci(c,f,u,g)&&ci(l,f,u,g),Wg(f),Fa(a.leftAndTop,f,u,g),f.x+=f.w,f.y+=f.h,Fa(a.rightAndBottom,f,u,g),s.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},tt(a.chartArea,m=>{const p=m.box;Object.assign(p,s.chartArea),p.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}};class yh{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,n){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,n?Math.floor(e/n):i)}}isAttached(t){return!0}updateConfig(t){}}class Hg extends yh{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Sn="$chartjs",Ug={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},ja=s=>s===null||s==="";function qg(s,t){const e=s.style,i=s.getAttribute("height"),n=s.getAttribute("width");if(s[Sn]={initial:{height:i,width:n,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",ja(n)){const r=wa(s,"width");r!==void 0&&(s.width=r)}if(ja(i))if(s.style.height==="")s.height=s.width/(t||2);else{const r=wa(s,"height");r!==void 0&&(s.height=r)}return s}const vh=Gf?{passive:!0}:!1;function Yg(s,t,e){s&&s.addEventListener(t,e,vh)}function Gg(s,t,e){s&&s.canvas&&s.canvas.removeEventListener(t,e,vh)}function Zg(s,t){const e=Ug[s.type]||s.type,{x:i,y:n}=ts(s,t);return{type:e,chart:t,native:s,x:i!==void 0?i:null,y:n!==void 0?n:null}}function Fn(s,t){for(const e of s)if(e===t||e.contains(t))return!0}function Jg(s,t,e){const i=s.canvas,n=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||Fn(a.addedNodes,i),o=o&&!Fn(a.removedNodes,i);o&&e()});return n.observe(document,{childList:!0,subtree:!0}),n}function Kg(s,t,e){const i=s.canvas,n=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||Fn(a.removedNodes,i),o=o&&!Fn(a.addedNodes,i);o&&e()});return n.observe(document,{childList:!0,subtree:!0}),n}const Di=new Map;let za=0;function wh(){const s=window.devicePixelRatio;s!==za&&(za=s,Di.forEach((t,e)=>{e.currentDevicePixelRatio!==s&&t()}))}function Xg(s,t){Di.size||window.addEventListener("resize",wh),Di.set(s,t)}function Qg(s){Di.delete(s),Di.size||window.removeEventListener("resize",wh)}function tm(s,t,e){const i=s.canvas,n=i&&Io(i);if(!n)return;const r=Kc((a,l)=>{const c=n.clientWidth;e(a,l),c<n.clientWidth&&e()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,h=l.contentRect.height;c===0&&h===0||r(c,h)});return o.observe(n),Xg(s,r),o}function yr(s,t,e){e&&e.disconnect(),t==="resize"&&Qg(s)}function em(s,t,e){const i=s.canvas,n=Kc(r=>{s.ctx!==null&&e(Zg(r,s))},s);return Yg(i,t,n),n}class sm extends yh{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(qg(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[Sn])return!1;const i=e[Sn].initial;["height","width"].forEach(r=>{const o=i[r];Z(o)?e.removeAttribute(r):e.setAttribute(r,o)});const n=i.style||{};return Object.keys(n).forEach(r=>{e.style[r]=n[r]}),e.width=e.width,delete e[Sn],!0}addEventListener(t,e,i){this.removeEventListener(t,e);const n=t.$proxies||(t.$proxies={}),o={attach:Jg,detach:Kg,resize:tm}[e]||em;n[e]=o(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),n=i[e];if(!n)return;({attach:yr,detach:yr,resize:yr}[e]||Gg)(t,e,n),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,n){return Yf(t,e,i,n)}isAttached(t){const e=t&&Io(t);return!!(e&&e.isConnected)}}function im(s){return!Po()||typeof OffscreenCanvas<"u"&&s instanceof OffscreenCanvas?Hg:sm}class oe{constructor(){E(this,"x");E(this,"y");E(this,"active",!1);E(this,"options");E(this,"$animations")}tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return Fs(this.x)&&Fs(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const n={};return t.forEach(r=>{n[r]=i[r]&&i[r].active()?i[r]._to:this[r]}),n}}E(oe,"defaults",{}),E(oe,"defaultRoutes");function nm(s,t){const e=s.options.ticks,i=rm(s),n=Math.min(e.maxTicksLimit||i,i),r=e.major.enabled?am(t):[],o=r.length,a=r[0],l=r[o-1],c=[];if(o>n)return lm(t,c,r,o/n),c;const h=om(r,t,n);if(o>0){let u,d;const f=o>1?Math.round((l-a)/(o-1)):null;for(tn(t,c,h,Z(f)?0:a-f,a),u=0,d=o-1;u<d;u++)tn(t,c,h,r[u],r[u+1]);return tn(t,c,h,l,Z(f)?t.length:l+f),c}return tn(t,c,h),c}function rm(s){const t=s.options.offset,e=s._tickSize(),i=s._length/e+(t?0:1),n=s._maxLength/e;return Math.floor(Math.min(i,n))}function om(s,t,e){const i=cm(s),n=t.length/e;if(!i)return Math.max(n,1);const r=Jd(i);for(let o=0,a=r.length-1;o<a;o++){const l=r[o];if(l>n)return l}return Math.max(n,1)}function am(s){const t=[];let e,i;for(e=0,i=s.length;e<i;e++)s[e].major&&t.push(e);return t}function lm(s,t,e,i){let n=0,r=e[0],o;for(i=Math.ceil(i),o=0;o<s.length;o++)o===r&&(t.push(s[o]),n++,r=e[n*i])}function tn(s,t,e,i,n){const r=j(i,0),o=Math.min(j(n,s.length),s.length);let a=0,l,c,h;for(e=Math.ceil(e),n&&(l=n-i,e=l/Math.floor(l/e)),h=r;h<0;)a++,h=Math.round(r+a*e);for(c=Math.max(r,0);c<o;c++)c===h&&(t.push(s[c]),a++,h=Math.round(r+a*e))}function cm(s){const t=s.length;let e,i;if(t<2)return!1;for(i=s[0],e=1;e<t;++e)if(s[e]-s[e-1]!==i)return!1;return i}const hm=s=>s==="left"?"right":s==="right"?"left":s,Va=(s,t,e)=>t==="top"||t==="left"?s[t]+e:s[t]-e,Wa=(s,t)=>Math.min(t||s,s);function Ba(s,t){const e=[],i=s.length/t,n=s.length;let r=0;for(;r<n;r+=i)e.push(s[Math.floor(r)]);return e}function um(s,t,e){const i=s.ticks.length,n=Math.min(t,i-1),r=s._startPixel,o=s._endPixel,a=1e-6;let l=s.getPixelForTick(n),c;if(!(e&&(i===1?c=Math.max(l-r,o-l):t===0?c=(s.getPixelForTick(1)-l)/2:c=(l-s.getPixelForTick(n-1))/2,l+=n<t?c:-c,l<r-a||l>o+a)))return l}function dm(s,t){tt(s,e=>{const i=e.gc,n=i.length/2;let r;if(n>t){for(r=0;r<n;++r)delete e.data[i[r]];i.splice(0,n)}})}function si(s){return s.drawTicks?s.tickLength:0}function Ha(s,t){if(!s.display)return 0;const e=Ot(s.font,t),i=Rt(s.padding);return(ht(s.text)?s.text.length:1)*e.lineHeight+i.height}function fm(s,t){return Ue(s,{scale:t,type:"scale"})}function gm(s,t,e){return Ue(s,{tick:e,index:t,type:"tick"})}function mm(s,t,e){let i=To(s);return(e&&t!=="right"||!e&&t==="right")&&(i=hm(i)),i}function pm(s,t,e,i){const{top:n,left:r,bottom:o,right:a,chart:l}=s,{chartArea:c,scales:h}=l;let u=0,d,f,g;const m=o-n,p=a-r;if(s.isHorizontal()){if(f=Dt(i,r,a),H(e)){const _=Object.keys(e)[0],b=e[_];g=h[_].getPixelForValue(b)+m-t}else e==="center"?g=(c.bottom+c.top)/2+m-t:g=Va(s,e,t);d=a-r}else{if(H(e)){const _=Object.keys(e)[0],b=e[_];f=h[_].getPixelForValue(b)-p+t}else e==="center"?f=(c.left+c.right)/2-p+t:f=Va(s,e,t);g=Dt(i,o,n),u=e==="left"?-bt:bt}return{titleX:f,titleY:g,maxWidth:d,rotation:u}}class gs extends oe{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:n}=this;return t=Wt(t,Number.POSITIVE_INFINITY),e=Wt(e,Number.NEGATIVE_INFINITY),i=Wt(i,Number.POSITIVE_INFINITY),n=Wt(n,Number.NEGATIVE_INFINITY),{min:Wt(t,i),max:Wt(e,n),minDefined:gt(t),maxDefined:gt(e)}}getMinMax(t){let{min:e,max:i,minDefined:n,maxDefined:r}=this.getUserBounds(),o;if(n&&r)return{min:e,max:i};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,t),n||(e=Math.min(e,o.min)),r||(i=Math.max(i,o.max));return e=r&&e>i?i:e,i=n&&e>i?e:i,{min:Wt(e,Wt(i,e)),max:Wt(i,Wt(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){nt(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:n,grace:r,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Of(this,r,n),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?Ba(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=nm(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,i;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){nt(this.options.afterUpdate,[this])}beforeSetDimensions(){nt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){nt(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),nt(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){nt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,n,r;for(i=0,n=t.length;i<n;i++)r=t[i],r.label=nt(e.callback,[r.value,i,t],this)}afterTickToLabelConversion(){nt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){nt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=Wa(this.ticks.length,t.ticks.maxTicksLimit),n=e.minRotation||0,r=e.maxRotation;let o=n,a,l,c;if(!this._isVisible()||!e.display||n>=r||i<=1||!this.isHorizontal()){this.labelRotation=n;return}const h=this._getLabelSizes(),u=h.widest.width,d=h.highest.height,f=Mt(this.chart.width-u,0,this.maxWidth);a=t.offset?this.maxWidth/i:f/(i-1),u+6>a&&(a=f/(i-(t.offset?.5:1)),l=this.maxHeight-si(t.grid)-e.padding-Ha(t.title,this.chart.options.font),c=Math.sqrt(u*u+d*d),o=So(Math.min(Math.asin(Mt((h.highest.height+6)/a,-1,1)),Math.asin(Mt(l/c,-1,1))-Math.asin(Mt(d/c,-1,1)))),o=Math.max(n,Math.min(r,o))),this.labelRotation=o}afterCalculateLabelRotation(){nt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){nt(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:n,grid:r}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=Ha(n,e.options.font);if(a?(t.width=this.maxWidth,t.height=si(r)+l):(t.height=this.maxHeight,t.width=si(r)+l),i.display&&this.ticks.length){const{first:c,last:h,widest:u,highest:d}=this._getLabelSizes(),f=i.padding*2,g=ie(this.labelRotation),m=Math.cos(g),p=Math.sin(g);if(a){const _=i.mirror?0:p*u.width+m*d.height;t.height=Math.min(this.maxHeight,t.height+_+f)}else{const _=i.mirror?0:m*u.width+p*d.height;t.width=Math.min(this.maxWidth,t.width+_+f)}this._calculatePadding(c,h,p,m)}}this._handleMargins(),a?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,n){const{ticks:{align:r,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const h=this.getPixelForTick(0)-this.left,u=this.right-this.getPixelForTick(this.ticks.length-1);let d=0,f=0;l?c?(d=n*t.width,f=i*e.height):(d=i*t.height,f=n*e.width):r==="start"?f=e.width:r==="end"?d=t.width:r!=="inner"&&(d=t.width/2,f=e.width/2),this.paddingLeft=Math.max((d-h+o)*this.width/(this.width-h),0),this.paddingRight=Math.max((f-u+o)*this.width/(this.width-u),0)}else{let h=e.height/2,u=t.height/2;r==="start"?(h=0,u=t.height):r==="end"&&(h=e.height,u=0),this.paddingTop=h+o,this.paddingBottom=u+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){nt(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,i;for(e=0,i=t.length;e<i;e++)Z(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=Ba(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){const{ctx:n,_longestTextCache:r}=this,o=[],a=[],l=Math.floor(e/Wa(e,i));let c=0,h=0,u,d,f,g,m,p,_,b,w,v,x;for(u=0;u<e;u+=l){if(g=t[u].label,m=this._resolveTickFontOptions(u),n.font=p=m.string,_=r[p]=r[p]||{data:{},gc:[]},b=m.lineHeight,w=v=0,!Z(g)&&!ht(g))w=Nn(n,_.data,_.gc,w,g),v=b;else if(ht(g))for(d=0,f=g.length;d<f;++d)x=g[d],!Z(x)&&!ht(x)&&(w=Nn(n,_.data,_.gc,w,x),v+=b);o.push(w),a.push(v),c=Math.max(w,c),h=Math.max(v,h)}dm(r,e);const T=o.indexOf(c),O=a.indexOf(h),M=D=>({width:o[D]||0,height:a[D]||0});return{first:M(0),last:M(e-1),widest:M(T),highest:M(O),widths:o,heights:a}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return Qd(this._alignToPixels?Ye(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=gm(this.getContext(),t,i))}return this.$context||(this.$context=fm(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=ie(this.labelRotation),i=Math.abs(Math.cos(e)),n=Math.abs(Math.sin(e)),r=this._getLabelSizes(),o=t.autoSkipPadding||0,a=r?r.widest.width+o:0,l=r?r.highest.height+o:0;return this.isHorizontal()?l*i>a*n?a/i:l/n:l*n<a*i?l/i:a/n}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,n=this.options,{grid:r,position:o,border:a}=n,l=r.offset,c=this.isHorizontal(),u=this.ticks.length+(l?1:0),d=si(r),f=[],g=a.setContext(this.getContext()),m=g.display?g.width:0,p=m/2,_=function(F){return Ye(i,F,m)};let b,w,v,x,T,O,M,D,A,P,N,V;if(o==="top")b=_(this.bottom),O=this.bottom-d,D=b-p,P=_(t.top)+p,V=t.bottom;else if(o==="bottom")b=_(this.top),P=t.top,V=_(t.bottom)-p,O=b+p,D=this.top+d;else if(o==="left")b=_(this.right),T=this.right-d,M=b-p,A=_(t.left)+p,N=t.right;else if(o==="right")b=_(this.left),A=t.left,N=_(t.right)-p,T=b+p,M=this.left+d;else if(e==="x"){if(o==="center")b=_((t.top+t.bottom)/2+.5);else if(H(o)){const F=Object.keys(o)[0],U=o[F];b=_(this.chart.scales[F].getPixelForValue(U))}P=t.top,V=t.bottom,O=b+p,D=O+d}else if(e==="y"){if(o==="center")b=_((t.left+t.right)/2);else if(H(o)){const F=Object.keys(o)[0],U=o[F];b=_(this.chart.scales[F].getPixelForValue(U))}T=b-p,M=T-d,A=t.left,N=t.right}const J=j(n.ticks.maxTicksLimit,u),z=Math.max(1,Math.ceil(u/J));for(w=0;w<u;w+=z){const F=this.getContext(w),U=r.setContext(F),X=a.setContext(F),Q=U.lineWidth,kt=U.color,St=X.dash||[],Tt=X.dashOffset,Y=U.tickWidth,G=U.tickColor,$t=U.tickBorderDash||[],Lt=U.tickBorderDashOffset;v=um(this,w,l),v!==void 0&&(x=Ye(i,v,Q),c?T=M=A=N=x:O=D=P=V=x,f.push({tx1:T,ty1:O,tx2:M,ty2:D,x1:A,y1:P,x2:N,y2:V,width:Q,color:kt,borderDash:St,borderDashOffset:Tt,tickWidth:Y,tickColor:G,tickBorderDash:$t,tickBorderDashOffset:Lt}))}return this._ticksLength=u,this._borderValue=b,f}_computeLabelItems(t){const e=this.axis,i=this.options,{position:n,ticks:r}=i,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:h,mirror:u}=r,d=si(i.grid),f=d+h,g=u?-h:f,m=-ie(this.labelRotation),p=[];let _,b,w,v,x,T,O,M,D,A,P,N,V="middle";if(n==="top")T=this.bottom-g,O=this._getXAxisLabelAlignment();else if(n==="bottom")T=this.top+g,O=this._getXAxisLabelAlignment();else if(n==="left"){const z=this._getYAxisLabelAlignment(d);O=z.textAlign,x=z.x}else if(n==="right"){const z=this._getYAxisLabelAlignment(d);O=z.textAlign,x=z.x}else if(e==="x"){if(n==="center")T=(t.top+t.bottom)/2+f;else if(H(n)){const z=Object.keys(n)[0],F=n[z];T=this.chart.scales[z].getPixelForValue(F)+f}O=this._getXAxisLabelAlignment()}else if(e==="y"){if(n==="center")x=(t.left+t.right)/2-f;else if(H(n)){const z=Object.keys(n)[0],F=n[z];x=this.chart.scales[z].getPixelForValue(F)}O=this._getYAxisLabelAlignment(d).textAlign}e==="y"&&(l==="start"?V="top":l==="end"&&(V="bottom"));const J=this._getLabelSizes();for(_=0,b=a.length;_<b;++_){w=a[_],v=w.label;const z=r.setContext(this.getContext(_));M=this.getPixelForTick(_)+r.labelOffset,D=this._resolveTickFontOptions(_),A=D.lineHeight,P=ht(v)?v.length:1;const F=P/2,U=z.color,X=z.textStrokeColor,Q=z.textStrokeWidth;let kt=O;o?(x=M,O==="inner"&&(_===b-1?kt=this.options.reverse?"left":"right":_===0?kt=this.options.reverse?"right":"left":kt="center"),n==="top"?c==="near"||m!==0?N=-P*A+A/2:c==="center"?N=-J.highest.height/2-F*A+A:N=-J.highest.height+A/2:c==="near"||m!==0?N=A/2:c==="center"?N=J.highest.height/2-F*A:N=J.highest.height-P*A,u&&(N*=-1),m!==0&&!z.showLabelBackdrop&&(x+=A/2*Math.sin(m))):(T=M,N=(1-P)*A/2);let St;if(z.showLabelBackdrop){const Tt=Rt(z.backdropPadding),Y=J.heights[_],G=J.widths[_];let $t=N-Tt.top,Lt=0-Tt.left;switch(V){case"middle":$t-=Y/2;break;case"bottom":$t-=Y;break}switch(O){case"center":Lt-=G/2;break;case"right":Lt-=G;break;case"inner":_===b-1?Lt-=G:_>0&&(Lt-=G/2);break}St={left:Lt,top:$t,width:G+Tt.width,height:Y+Tt.height,color:z.backdropColor}}p.push({label:v,font:D,textOffset:N,options:{rotation:m,color:U,strokeColor:X,strokeWidth:Q,textAlign:kt,textBaseline:V,translation:[x,T],backdrop:St}})}return p}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-ie(this.labelRotation))return t==="top"?"left":"right";let n="center";return e.align==="start"?n="left":e.align==="end"?n="right":e.align==="inner"&&(n="inner"),n}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:n,padding:r}}=this.options,o=this._getLabelSizes(),a=t+r,l=o.widest.width;let c,h;return e==="left"?n?(h=this.right+r,i==="near"?c="left":i==="center"?(c="center",h+=l/2):(c="right",h+=l)):(h=this.right-a,i==="near"?c="right":i==="center"?(c="center",h-=l/2):(c="left",h=this.left)):e==="right"?n?(h=this.left+r,i==="near"?c="right":i==="center"?(c="center",h-=l/2):(c="left",h-=l)):(h=this.left+a,i==="near"?c="left":i==="center"?(c="center",h+=l/2):(c="right",h=this.right)):c="right",{textAlign:c,x:h}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:n,width:r,height:o}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,n,r,o),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const n=this.ticks.findIndex(r=>r.value===t);return n>=0?e.setContext(this.getContext(n)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,n=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let r,o;const a=(l,c,h)=>{!h.width||!h.color||(i.save(),i.lineWidth=h.width,i.strokeStyle=h.color,i.setLineDash(h.borderDash||[]),i.lineDashOffset=h.borderDashOffset,i.beginPath(),i.moveTo(l.x,l.y),i.lineTo(c.x,c.y),i.stroke(),i.restore())};if(e.display)for(r=0,o=n.length;r<o;++r){const l=n[r];e.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),e.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:n}}=this,r=i.setContext(this.getContext()),o=i.display?r.width:0;if(!o)return;const a=n.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,h,u,d;this.isHorizontal()?(c=Ye(t,this.left,o)-o/2,h=Ye(t,this.right,a)+a/2,u=d=l):(u=Ye(t,this.top,o)-o/2,d=Ye(t,this.bottom,a)+a/2,c=h=l),e.save(),e.lineWidth=r.width,e.strokeStyle=r.color,e.beginPath(),e.moveTo(c,u),e.lineTo(h,d),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,n=this._computeLabelArea();n&&Kn(i,n);const r=this.getLabelItems(t);for(const o of r){const a=o.options,l=o.font,c=o.label,h=o.textOffset;fs(i,c,0,h,l,a)}n&&Xn(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:n}}=this;if(!i.display)return;const r=Ot(i.font),o=Rt(i.padding),a=i.align;let l=r.lineHeight/2;e==="bottom"||e==="center"||H(e)?(l+=o.bottom,ht(i.text)&&(l+=r.lineHeight*(i.text.length-1))):l+=o.top;const{titleX:c,titleY:h,maxWidth:u,rotation:d}=pm(this,l,e,a);fs(t,i.text,0,0,r,{color:i.color,maxWidth:u,rotation:d,textAlign:mm(a,e,n),textBaseline:"middle",translation:[c,h]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=j(t.grid&&t.grid.z,-1),n=j(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==gs.prototype.draw?[{z:e,draw:r=>{this.draw(r)}}]:[{z:i,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:n,draw:()=>{this.drawBorder()}},{z:e,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",n=[];let r,o;for(r=0,o=e.length;r<o;++r){const a=e[r];a[i]===this.id&&(!t||a.type===t)&&n.push(a)}return n}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return Ot(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class en{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;ym(e)&&(i=this.register(e));const n=this.items,r=t.id,o=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+t);return r in n||(n[r]=t,_m(t,o,i),this.override&&mt.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,n=this.scope;i in e&&delete e[i],n&&i in mt[n]&&(delete mt[n][i],this.override&&delete ds[i])}}function _m(s,t,e){const i=Ti(Object.create(null),[e?mt.get(e):{},mt.get(t),s.defaults]);mt.set(t,i),s.defaultRoutes&&bm(t,s.defaultRoutes),s.descriptors&&mt.describe(t,s.descriptors)}function bm(s,t){Object.keys(t).forEach(e=>{const i=e.split("."),n=i.pop(),r=[s].concat(i).join("."),o=t[e].split("."),a=o.pop(),l=o.join(".");mt.route(r,n,l,a)})}function ym(s){return"id"in s&&"defaults"in s}class vm{constructor(){this.controllers=new en(re,"datasets",!0),this.elements=new en(oe,"elements"),this.plugins=new en(Object,"plugins"),this.scales=new en(gs,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(n=>{const r=i||this._getRegistryForType(n);i||r.isForType(n)||r===this.plugins&&n.id?this._exec(t,r,n):tt(n,o=>{const a=i||this._getRegistryForType(o);this._exec(t,a,o)})})}_exec(t,e,i){const n=ko(t);nt(i["before"+n],[],i),e[t](i),nt(i["after"+n],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const n=e.get(t);if(n===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return n}}var ue=new vm;class wm{constructor(){this._init=[]}notify(t,e,i,n){e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const r=n?this._descriptors(t).filter(n):this._descriptors(t),o=this._notify(r,t,e,i);return e==="afterDestroy"&&(this._notify(r,t,"stop"),this._notify(this._init,t,"uninstall")),o}_notify(t,e,i,n){n=n||{};for(const r of t){const o=r.plugin,a=o[i],l=[e,n,r.options];if(nt(a,l,o)===!1&&n.cancelable)return!1}return!0}invalidate(){Z(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,n=j(i.options&&i.options.plugins,{}),r=xm(i);return n===!1&&!e?[]:Sm(t,r,n,e)}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,n=(r,o)=>r.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(n(e,i),t,"stop"),this._notify(n(i,e),t,"start")}}function xm(s){const t={},e=[],i=Object.keys(ue.plugins.items);for(let r=0;r<i.length;r++)e.push(ue.getPlugin(i[r]));const n=s.plugins||[];for(let r=0;r<n.length;r++){const o=n[r];e.indexOf(o)===-1&&(e.push(o),t[o.id]=!0)}return{plugins:e,localIds:t}}function km(s,t){return!t&&s===!1?null:s===!0?{}:s}function Sm(s,{plugins:t,localIds:e},i,n){const r=[],o=s.getContext();for(const a of t){const l=a.id,c=km(i[l],n);c!==null&&r.push({plugin:a,options:Om(s.config,{plugin:a,local:e[l]},c,o)})}return r}function Om(s,{plugin:t,local:e},i,n){const r=s.pluginScopeKeys(t),o=s.getOptionScopes(i,r);return e&&t.defaults&&o.push(t.defaults),s.createResolver(o,n,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function qr(s,t){const e=mt.datasets[s]||{};return((t.datasets||{})[s]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function Tm(s,t){let e=s;return s==="_index_"?e=t:s==="_value_"&&(e=t==="x"?"y":"x"),e}function Mm(s,t){return s===t?"_index_":"_value_"}function Ua(s){if(s==="x"||s==="y"||s==="r")return s}function Em(s){if(s==="top"||s==="bottom")return"x";if(s==="left"||s==="right")return"y"}function Yr(s,...t){if(Ua(s))return s;for(const e of t){const i=e.axis||Em(e.position)||s.length>1&&Ua(s[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${s}' axis. Please provide 'axis' or 'position' option.`)}function qa(s,t,e){if(e[t+"AxisID"]===s)return{axis:t}}function Cm(s,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(i=>i.xAxisID===s||i.yAxisID===s);if(e.length)return qa(s,"x",e[0])||qa(s,"y",e[0])}return{}}function Dm(s,t){const e=ds[s.type]||{scales:{}},i=t.scales||{},n=qr(s.type,t),r=Object.create(null);return Object.keys(i).forEach(o=>{const a=i[o];if(!H(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=Yr(o,a,Cm(o,s),mt.scales[a.type]),c=Mm(l,n),h=e.scales||{};r[o]=mi(Object.create(null),[{axis:l},a,h[l],h[c]])}),s.data.datasets.forEach(o=>{const a=o.type||s.type,l=o.indexAxis||qr(a,t),h=(ds[a]||{}).scales||{};Object.keys(h).forEach(u=>{const d=Tm(u,l),f=o[d+"AxisID"]||d;r[f]=r[f]||Object.create(null),mi(r[f],[{axis:d},i[f],h[u]])})}),Object.keys(r).forEach(o=>{const a=r[o];mi(a,[mt.scales[a.type],mt.scale])}),r}function xh(s){const t=s.options||(s.options={});t.plugins=j(t.plugins,{}),t.scales=Dm(s,t)}function kh(s){return s=s||{},s.datasets=s.datasets||[],s.labels=s.labels||[],s}function Am(s){return s=s||{},s.data=kh(s.data),xh(s),s}const Ya=new Map,Sh=new Set;function sn(s,t){let e=Ya.get(s);return e||(e=t(),Ya.set(s,e),Sh.add(e)),e}const ii=(s,t,e)=>{const i=We(t,e);i!==void 0&&s.add(i)};class Pm{constructor(t){this._config=Am(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=kh(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),xh(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return sn(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return sn(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return sn(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,i=this.type;return sn(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let n=i.get(t);return(!n||e)&&(n=new Map,i.set(t,n)),n}getOptionScopes(t,e,i){const{options:n,type:r}=this,o=this._cachedScopes(t,i),a=o.get(e);if(a)return a;const l=new Set;e.forEach(h=>{t&&(l.add(t),h.forEach(u=>ii(l,t,u))),h.forEach(u=>ii(l,n,u)),h.forEach(u=>ii(l,ds[r]||{},u)),h.forEach(u=>ii(l,mt,u)),h.forEach(u=>ii(l,Br,u))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),Sh.has(e)&&o.set(e,c),c}chartOptionScopes(){const{options:t,type:e}=this;return[t,ds[e]||{},mt.datasets[e]||{},{type:e},mt,Br]}resolveNamedOptions(t,e,i,n=[""]){const r={$shared:!0},{resolver:o,subPrefixes:a}=Ga(this._resolverCache,t,n);let l=o;if(Rm(o,e)){r.$shared=!1,i=Be(i)?i():i;const c=this.createResolver(t,i,a);l=js(o,i,c)}for(const c of e)r[c]=l[c];return r}createResolver(t,e,i=[""],n){const{resolver:r}=Ga(this._resolverCache,t,i);return H(e)?js(r,e,void 0,n):r}}function Ga(s,t,e){let i=s.get(t);i||(i=new Map,s.set(t,i));const n=e.join();let r=i.get(n);return r||(r={resolver:Co(t,e),subPrefixes:e.filter(a=>!a.toLowerCase().includes("hover"))},i.set(n,r)),r}const Im=s=>H(s)&&Object.getOwnPropertyNames(s).some(t=>Be(s[t]));function Rm(s,t){const{isScriptable:e,isIndexable:i}=ih(s);for(const n of t){const r=e(n),o=i(n),a=(o||r)&&s[n];if(r&&(Be(a)||Im(a))||o&&ht(a))return!0}return!1}var Lm="4.4.3";const Nm=["top","bottom","left","right","chartArea"];function Za(s,t){return s==="top"||s==="bottom"||Nm.indexOf(s)===-1&&t==="x"}function Ja(s,t){return function(e,i){return e[s]===i[s]?e[t]-i[t]:e[s]-i[s]}}function Ka(s){const t=s.chart,e=t.options.animation;t.notifyPlugins("afterRender"),nt(e&&e.onComplete,[s],t)}function $m(s){const t=s.chart,e=t.options.animation;nt(e&&e.onProgress,[s],t)}function Oh(s){return Po()&&typeof s=="string"?s=document.getElementById(s):s&&s.length&&(s=s[0]),s&&s.canvas&&(s=s.canvas),s}const On={},Xa=s=>{const t=Oh(s);return Object.values(On).filter(e=>e.canvas===t).pop()};function Fm(s,t,e){const i=Object.keys(s);for(const n of i){const r=+n;if(r>=t){const o=s[n];delete s[n],(e>0||r>t)&&(s[r+e]=o)}}}function jm(s,t,e,i){return!e||s.type==="mouseout"?null:i?t:s}function nn(s,t,e){return s.options.clip?s[e]:t[e]}function zm(s,t){const{xScale:e,yScale:i}=s;return e&&i?{left:nn(e,t,"left"),right:nn(e,t,"right"),top:nn(i,t,"top"),bottom:nn(i,t,"bottom")}:t}class de{static register(...t){ue.add(...t),Qa()}static unregister(...t){ue.remove(...t),Qa()}constructor(t,e){const i=this.config=new Pm(e),n=Oh(t),r=Xa(n);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const o=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||im(n)),this.platform.updateConfig(i);const a=this.platform.acquireContext(n,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,h=l&&l.width;if(this.id=Vd(),this.ctx=a,this.canvas=l,this.width=h,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new wm,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=nf(u=>this.update(u),o.resizeDelay||0),this._dataChanges=[],On[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}pe.listen(this,"complete",Ka),pe.listen(this,"progress",$m),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:n,_aspectRatio:r}=this;return Z(t)?e&&r?r:n?i/n:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return ue}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():va(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return _a(this.canvas,this.ctx),this}stop(){return pe.stop(this),this}resize(t,e){pe.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,n=this.canvas,r=i.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(n,t,e,r),a=i.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,va(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),nt(i.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};tt(e,(i,n)=>{i.id=n})}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,n=Object.keys(i).reduce((o,a)=>(o[a]=!1,o),{});let r=[];e&&(r=r.concat(Object.keys(e).map(o=>{const a=e[o],l=Yr(o,a),c=l==="r",h=l==="x";return{options:a,dposition:c?"chartArea":h?"bottom":"left",dtype:c?"radialLinear":h?"category":"linear"}}))),tt(r,o=>{const a=o.options,l=a.id,c=Yr(l,a),h=j(a.type,o.dtype);(a.position===void 0||Za(a.position,c)!==Za(o.dposition))&&(a.position=o.dposition),n[l]=!0;let u=null;if(l in i&&i[l].type===h)u=i[l];else{const d=ue.getScale(h);u=new d({id:l,type:h,ctx:this.ctx,chart:this}),i[u.id]=u}u.init(a,t)}),tt(n,(o,a)=>{o||delete i[a]}),tt(i,o=>{It.configure(this,o,o.options),It.addBox(this,o)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((n,r)=>n.index-r.index),i>e){for(let n=e;n<i;++n)this._destroyDatasetMeta(n);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(Ja("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,n)=>{e.filter(r=>r===i._dataset).length===0&&this._destroyDatasetMeta(n)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,n;for(this._removeUnreferencedMetasets(),i=0,n=e.length;i<n;i++){const r=e[i];let o=this.getDatasetMeta(i);const a=r.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(i),o=this.getDatasetMeta(i)),o.type=a,o.indexAxis=r.indexAxis||qr(a,this.options),o.order=r.order||0,o.index=i,o.label=""+r.label,o.visible=this.isDatasetVisible(i),o.controller)o.controller.updateIndex(i),o.controller.linkScales();else{const l=ue.getController(a),{datasetElementType:c,dataElementType:h}=mt.datasets[a];Object.assign(l,{dataElementType:ue.getElement(h),datasetElementType:c&&ue.getElement(c)}),o.controller=new l(this,i),t.push(o.controller)}}return this._updateMetasets(),t}_resetElements(){tt(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),n=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,h=this.data.datasets.length;c<h;c++){const{controller:u}=this.getDatasetMeta(c),d=!n&&r.indexOf(u)===-1;u.buildOrUpdateElements(d),o=Math.max(+u.getMaxOverflow(),o)}o=this._minPadding=i.layout.autoPadding?o:0,this._updateLayout(o),n||tt(r,c=>{c.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(Ja("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){tt(this.scales,t=>{It.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!la(e,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:n,count:r}of e){const o=i==="_removeElements"?-r:r;Fm(t,n,o)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=r=>new Set(t.filter(o=>o[0]===r).map((o,a)=>a+","+o.splice(1).join(","))),n=i(0);for(let r=1;r<e;r++)if(!la(n,i(r)))return;return Array.from(n).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;It.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],tt(this.boxes,n=>{i&&n.position==="chartArea"||(n.configure&&n.configure(),this._layers.push(...n._layers()))},this),this._layers.forEach((n,r)=>{n._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,Be(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),n={meta:i,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",n)!==!1&&(i.controller._update(e),n.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",n))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(pe.has(this)?this.attached&&!pe.running(this)&&pe.start(this):(this.draw(),Ka({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:n}=this._resizeBeforeDraw;this._resize(i,n),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let n,r;for(n=0,r=e.length;n<r;++n){const o=e[n];(!t||o.visible)&&i.push(o)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i=t._clip,n=!i.disabled,r=zm(t,this.chartArea),o={meta:t,index:t.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(n&&Kn(e,{left:i.left===!1?0:r.left-i.left,right:i.right===!1?this.width:r.right+i.right,top:i.top===!1?0:r.top-i.top,bottom:i.bottom===!1?this.height:r.bottom+i.bottom}),t.controller.draw(),n&&Xn(e),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(t){return ke(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,n){const r=Ng.modes[e];return typeof r=="function"?r(this,t,i,n):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let n=i.filter(r=>r&&r._dataset===e).pop();return n||(n={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(n)),n}getContext(){return this.$context||(this.$context=Ue(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!e.hidden}setDatasetVisibility(t,e){const i=this.getDatasetMeta(t);i.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const n=i?"show":"hide",r=this.getDatasetMeta(t),o=r.controller._resolveAnimations(void 0,n);Mi(e)?(r.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),o.update(r,{visible:i}),this.update(a=>a.datasetIndex===t?n:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),pe.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),_a(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete On[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(r,o)=>{e.addEventListener(this,r,o),t[r]=o},n=(r,o,a)=>{r.offsetX=o,r.offsetY=a,this._eventHandler(r)};tt(this.options.events,r=>i(r,n))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(l,c)=>{e.addEventListener(this,l,c),t[l]=c},n=(l,c)=>{t[l]&&(e.removeEventListener(this,l,c),delete t[l])},r=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{n("attach",a),this.attached=!0,this.resize(),i("resize",r),i("detach",o)};o=()=>{this.attached=!1,n("resize",r),this._stop(),this._resize(0,0),i("attach",a)},e.isAttached(this.canvas)?a():o()}unbindEvents(){tt(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},tt(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const n=i?"set":"remove";let r,o,a,l;for(e==="dataset"&&(r=this.getDatasetMeta(t[0].datasetIndex),r.controller["_"+n+"DatasetHoverStyle"]()),a=0,l=t.length;a<l;++a){o=t[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[n+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map(({datasetIndex:r,index:o})=>{const a=this.getDatasetMeta(r);if(!a)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:a.data[o],index:o}});!In(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,i){const n=this.options.hover,r=(l,c)=>l.filter(h=>!c.some(u=>h.datasetIndex===u.datasetIndex&&h.index===u.index)),o=r(e,t),a=i?t:r(t,e);o.length&&this.updateHoverStyle(o,n.mode,!1),a.length&&n.mode&&this.updateHoverStyle(a,n.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},n=o=>(o.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,n)===!1)return;const r=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,n),(r||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:n=[],options:r}=this,o=e,a=this._getActiveElements(t,n,i,o),l=Yd(t),c=jm(t,this._lastEvent,i,l);i&&(this._lastEvent=null,nt(r.onHover,[t,a,this],this),l&&nt(r.onClick,[t,a,this],this));const h=!In(a,n);return(h||e)&&(this._active=a,this._updateHoverStyles(a,n,e)),this._lastEvent=c,h}_getActiveElements(t,e,i,n){if(t.type==="mouseout")return[];if(!i)return e;const r=this.options.hover;return this.getElementsAtEventForMode(t,r.mode,r,n)}}E(de,"defaults",mt),E(de,"instances",On),E(de,"overrides",ds),E(de,"registry",ue),E(de,"version",Lm),E(de,"getChart",Xa);function Qa(){return tt(de.instances,s=>s._plugins.invalidate())}function Vm(s,t,e){const{startAngle:i,pixelMargin:n,x:r,y:o,outerRadius:a,innerRadius:l}=t;let c=n/a;s.beginPath(),s.arc(r,o,a,i-c,e+c),l>n?(c=n/l,s.arc(r,o,l,e+c,i-c,!0)):s.arc(r,o,n,e+bt,i-bt),s.closePath(),s.clip()}function Wm(s){return Eo(s,["outerStart","outerEnd","innerStart","innerEnd"])}function Bm(s,t,e,i){const n=Wm(s.options.borderRadius),r=(e-t)/2,o=Math.min(r,i*t/2),a=l=>{const c=(e-Math.min(r,l))*i/2;return Mt(l,0,Math.min(r,c))};return{outerStart:a(n.outerStart),outerEnd:a(n.outerEnd),innerStart:Mt(n.innerStart,0,o),innerEnd:Mt(n.innerEnd,0,o)}}function ys(s,t,e,i){return{x:e+s*Math.cos(t),y:i+s*Math.sin(t)}}function jn(s,t,e,i,n,r){const{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:h}=t,u=Math.max(t.outerRadius+i+e-c,0),d=h>0?h+i+e+c:0;let f=0;const g=n-l;if(i){const z=h>0?h-i:0,F=u>0?u-i:0,U=(z+F)/2,X=U!==0?g*U/(U+i):g;f=(g-X)/2}const m=Math.max(.001,g*u-e/lt)/u,p=(g-m)/2,_=l+p+f,b=n-p-f,{outerStart:w,outerEnd:v,innerStart:x,innerEnd:T}=Bm(t,d,u,b-_),O=u-w,M=u-v,D=_+w/O,A=b-v/M,P=d+x,N=d+T,V=_+x/P,J=b-T/N;if(s.beginPath(),r){const z=(D+A)/2;if(s.arc(o,a,u,D,z),s.arc(o,a,u,z,A),v>0){const Q=ys(M,A,o,a);s.arc(Q.x,Q.y,v,A,b+bt)}const F=ys(N,b,o,a);if(s.lineTo(F.x,F.y),T>0){const Q=ys(N,J,o,a);s.arc(Q.x,Q.y,T,b+bt,J+Math.PI)}const U=(b-T/d+(_+x/d))/2;if(s.arc(o,a,d,b-T/d,U,!0),s.arc(o,a,d,U,_+x/d,!0),x>0){const Q=ys(P,V,o,a);s.arc(Q.x,Q.y,x,V+Math.PI,_-bt)}const X=ys(O,_,o,a);if(s.lineTo(X.x,X.y),w>0){const Q=ys(O,D,o,a);s.arc(Q.x,Q.y,w,_-bt,D)}}else{s.moveTo(o,a);const z=Math.cos(D)*u+o,F=Math.sin(D)*u+a;s.lineTo(z,F);const U=Math.cos(A)*u+o,X=Math.sin(A)*u+a;s.lineTo(U,X)}s.closePath()}function Hm(s,t,e,i,n){const{fullCircles:r,startAngle:o,circumference:a}=t;let l=t.endAngle;if(r){jn(s,t,e,i,l,n);for(let c=0;c<r;++c)s.fill();isNaN(a)||(l=o+(a%ot||ot))}return jn(s,t,e,i,l,n),s.fill(),l}function Um(s,t,e,i,n){const{fullCircles:r,startAngle:o,circumference:a,options:l}=t,{borderWidth:c,borderJoinStyle:h,borderDash:u,borderDashOffset:d}=l,f=l.borderAlign==="inner";if(!c)return;s.setLineDash(u||[]),s.lineDashOffset=d,f?(s.lineWidth=c*2,s.lineJoin=h||"round"):(s.lineWidth=c,s.lineJoin=h||"bevel");let g=t.endAngle;if(r){jn(s,t,e,i,g,n);for(let m=0;m<r;++m)s.stroke();isNaN(a)||(g=o+(a%ot||ot))}f&&Vm(s,t,g),r||(jn(s,t,e,i,g,n),s.stroke())}class hi extends oe{constructor(e){super();E(this,"circumference");E(this,"endAngle");E(this,"fullCircles");E(this,"innerRadius");E(this,"outerRadius");E(this,"pixelMargin");E(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,i,n){const r=this.getProps(["x","y"],n),{angle:o,distance:a}=Yc(r,{x:e,y:i}),{startAngle:l,endAngle:c,innerRadius:h,outerRadius:u,circumference:d}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),f=(this.options.spacing+this.options.borderWidth)/2,m=j(d,c-l)>=ot||Ei(o,l,c),p=we(a,h+f,u+f);return m&&p}getCenterPoint(e){const{x:i,y:n,startAngle:r,endAngle:o,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:c,spacing:h}=this.options,u=(r+o)/2,d=(a+l+h+c)/2;return{x:i+Math.cos(u)*d,y:n+Math.sin(u)*d}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:i,circumference:n}=this,r=(i.offset||0)/4,o=(i.spacing||0)/2,a=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=n>ot?Math.floor(n/ot):0,n===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const l=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(l)*r,Math.sin(l)*r);const c=1-Math.sin(Math.min(lt,n||0)),h=r*c;e.fillStyle=i.backgroundColor,e.strokeStyle=i.borderColor,Hm(e,this,h,o,a),Um(e,this,h,o,a),e.restore()}}E(hi,"id","arc"),E(hi,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),E(hi,"defaultRoutes",{backgroundColor:"backgroundColor"}),E(hi,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"});function Th(s,t,e=t){s.lineCap=j(e.borderCapStyle,t.borderCapStyle),s.setLineDash(j(e.borderDash,t.borderDash)),s.lineDashOffset=j(e.borderDashOffset,t.borderDashOffset),s.lineJoin=j(e.borderJoinStyle,t.borderJoinStyle),s.lineWidth=j(e.borderWidth,t.borderWidth),s.strokeStyle=j(e.borderColor,t.borderColor)}function qm(s,t,e){s.lineTo(e.x,e.y)}function Ym(s){return s.stepped?pf:s.tension||s.cubicInterpolationMode==="monotone"?_f:qm}function Mh(s,t,e={}){const i=s.length,{start:n=0,end:r=i-1}=e,{start:o,end:a}=t,l=Math.max(n,o),c=Math.min(r,a),h=n<o&&r<o||n>a&&r>a;return{count:i,start:l,loop:t.loop,ilen:c<l&&!h?i+c-l:c-l}}function Gm(s,t,e,i){const{points:n,options:r}=t,{count:o,start:a,loop:l,ilen:c}=Mh(n,e,i),h=Ym(r);let{move:u=!0,reverse:d}=i||{},f,g,m;for(f=0;f<=c;++f)g=n[(a+(d?c-f:f))%o],!g.skip&&(u?(s.moveTo(g.x,g.y),u=!1):h(s,m,g,d,r.stepped),m=g);return l&&(g=n[(a+(d?c:0))%o],h(s,m,g,d,r.stepped)),!!l}function Zm(s,t,e,i){const n=t.points,{count:r,start:o,ilen:a}=Mh(n,e,i),{move:l=!0,reverse:c}=i||{};let h=0,u=0,d,f,g,m,p,_;const b=v=>(o+(c?a-v:v))%r,w=()=>{m!==p&&(s.lineTo(h,p),s.lineTo(h,m),s.lineTo(h,_))};for(l&&(f=n[b(0)],s.moveTo(f.x,f.y)),d=0;d<=a;++d){if(f=n[b(d)],f.skip)continue;const v=f.x,x=f.y,T=v|0;T===g?(x<m?m=x:x>p&&(p=x),h=(u*h+v)/++u):(w(),s.lineTo(v,x),g=T,u=0,m=p=x),_=x}w()}function Gr(s){const t=s.options,e=t.borderDash&&t.borderDash.length;return!s._decimated&&!s._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?Zm:Gm}function Jm(s){return s.stepped?Zf:s.tension||s.cubicInterpolationMode==="monotone"?Jf:es}function Km(s,t,e,i){let n=t._path;n||(n=t._path=new Path2D,t.path(n,e,i)&&n.closePath()),Th(s,t.options),s.stroke(n)}function Xm(s,t,e,i){const{segments:n,options:r}=t,o=Gr(t);for(const a of n)Th(s,r,a.style),s.beginPath(),o(s,t,a,{start:e,end:e+i-1})&&s.closePath(),s.stroke()}const Qm=typeof Path2D=="function";function tp(s,t,e,i){Qm&&!t.options.segment?Km(s,t,e,i):Xm(s,t,e,i)}class Fe extends oe{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const n=i.spanGaps?this._loop:this._fullLoop;Vf(this._points,i,t,n,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=sg(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,i=t.length;return i&&e[t[i-1].end]}interpolate(t,e){const i=this.options,n=t[e],r=this.points,o=fh(this,{property:e,start:n,end:n});if(!o.length)return;const a=[],l=Jm(i);let c,h;for(c=0,h=o.length;c<h;++c){const{start:u,end:d}=o[c],f=r[u],g=r[d];if(f===g){a.push(f);continue}const m=Math.abs((n-f[e])/(g[e]-f[e])),p=l(f,g,m,i.stepped);p[e]=t[e],a.push(p)}return a.length===1?a[0]:a}pathSegment(t,e,i){return Gr(this)(t,this,e,i)}path(t,e,i){const n=this.segments,r=Gr(this);let o=this._loop;e=e||0,i=i||this.points.length-e;for(const a of n)o&=r(t,this,a,{start:e,end:e+i-1});return!!o}draw(t,e,i,n){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(t.save(),tp(t,this,i,n),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}E(Fe,"id","line"),E(Fe,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),E(Fe,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),E(Fe,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function tl(s,t,e,i){const n=s.options,{[e]:r}=s.getProps([e],i);return Math.abs(t-r)<n.radius+n.hitRadius}class Tn extends oe{constructor(e){super();E(this,"parsed");E(this,"skip");E(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,i,n){const r=this.options,{x:o,y:a}=this.getProps(["x","y"],n);return Math.pow(e-o,2)+Math.pow(i-a,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(e,i){return tl(this,e,"x",i)}inYRange(e,i){return tl(this,e,"y",i)}getCenterPoint(e){const{x:i,y:n}=this.getProps(["x","y"],e);return{x:i,y:n}}size(e){e=e||this.options||{};let i=e.radius||0;i=Math.max(i,i&&e.hoverRadius||0);const n=i&&e.borderWidth||0;return(i+n)*2}draw(e,i){const n=this.options;this.skip||n.radius<.1||!ke(this,i,this.size(n)/2)||(e.strokeStyle=n.borderColor,e.lineWidth=n.borderWidth,e.fillStyle=n.backgroundColor,Hr(e,n,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}E(Tn,"id","point"),E(Tn,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),E(Tn,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function Eh(s,t){const{x:e,y:i,base:n,width:r,height:o}=s.getProps(["x","y","base","width","height"],t);let a,l,c,h,u;return s.horizontal?(u=o/2,a=Math.min(e,n),l=Math.max(e,n),c=i-u,h=i+u):(u=r/2,a=e-u,l=e+u,c=Math.min(i,n),h=Math.max(i,n)),{left:a,top:c,right:l,bottom:h}}function je(s,t,e,i){return s?0:Mt(t,e,i)}function ep(s,t,e){const i=s.options.borderWidth,n=s.borderSkipped,r=sh(i);return{t:je(n.top,r.top,0,e),r:je(n.right,r.right,0,t),b:je(n.bottom,r.bottom,0,e),l:je(n.left,r.left,0,t)}}function sp(s,t,e){const{enableBorderRadius:i}=s.getProps(["enableBorderRadius"]),n=s.options.borderRadius,r=os(n),o=Math.min(t,e),a=s.borderSkipped,l=i||H(n);return{topLeft:je(!l||a.top||a.left,r.topLeft,0,o),topRight:je(!l||a.top||a.right,r.topRight,0,o),bottomLeft:je(!l||a.bottom||a.left,r.bottomLeft,0,o),bottomRight:je(!l||a.bottom||a.right,r.bottomRight,0,o)}}function ip(s){const t=Eh(s),e=t.right-t.left,i=t.bottom-t.top,n=ep(s,e/2,i/2),r=sp(s,e/2,i/2);return{outer:{x:t.left,y:t.top,w:e,h:i,radius:r},inner:{x:t.left+n.l,y:t.top+n.t,w:e-n.l-n.r,h:i-n.t-n.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(n.t,n.l)),topRight:Math.max(0,r.topRight-Math.max(n.t,n.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(n.b,n.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(n.b,n.r))}}}}function vr(s,t,e,i){const n=t===null,r=e===null,a=s&&!(n&&r)&&Eh(s,i);return a&&(n||we(t,a.left,a.right))&&(r||we(e,a.top,a.bottom))}function np(s){return s.topLeft||s.topRight||s.bottomLeft||s.bottomRight}function rp(s,t){s.rect(t.x,t.y,t.w,t.h)}function wr(s,t,e={}){const i=s.x!==e.x?-t:0,n=s.y!==e.y?-t:0,r=(s.x+s.w!==e.x+e.w?t:0)-i,o=(s.y+s.h!==e.y+e.h?t:0)-n;return{x:s.x+i,y:s.y+n,w:s.w+r,h:s.h+o,radius:s.radius}}class Mn extends oe{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:i,backgroundColor:n}}=this,{inner:r,outer:o}=ip(this),a=np(o.radius)?Ci:rp;t.save(),(o.w!==r.w||o.h!==r.h)&&(t.beginPath(),a(t,wr(o,e,r)),t.clip(),a(t,wr(r,-e,o)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),a(t,wr(r,e)),t.fillStyle=n,t.fill(),t.restore()}inRange(t,e,i){return vr(this,t,e,i)}inXRange(t,e){return vr(this,t,null,e)}inYRange(t,e){return vr(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:n,horizontal:r}=this.getProps(["x","y","base","horizontal"],t);return{x:r?(e+n)/2:e,y:r?i:(i+n)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}E(Mn,"id","bar"),E(Mn,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),E(Mn,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var op=Object.freeze({__proto__:null,ArcElement:hi,BarElement:Mn,LineElement:Fe,PointElement:Tn});const Zr=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],el=Zr.map(s=>s.replace("rgb(","rgba(").replace(")",", 0.5)"));function Ch(s){return Zr[s%Zr.length]}function Dh(s){return el[s%el.length]}function ap(s,t){return s.borderColor=Ch(t),s.backgroundColor=Dh(t),++t}function lp(s,t){return s.backgroundColor=s.data.map(()=>Ch(t++)),t}function cp(s,t){return s.backgroundColor=s.data.map(()=>Dh(t++)),t}function hp(s){let t=0;return(e,i)=>{const n=s.getDatasetMeta(i).controller;n instanceof ns?t=lp(e,t):n instanceof yi?t=cp(e,t):n&&(t=ap(e,t))}}function sl(s){let t;for(t in s)if(s[t].borderColor||s[t].backgroundColor)return!0;return!1}function up(s){return s&&(s.borderColor||s.backgroundColor)}var dp={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(s,t,e){if(!e.enabled)return;const{data:{datasets:i},options:n}=s.config,{elements:r}=n;if(!e.forceOverride&&(sl(i)||up(n)||r&&sl(r)))return;const o=hp(s);i.forEach(o)}};function fp(s,t,e,i,n){const r=n.samples||i;if(r>=e)return s.slice(t,t+e);const o=[],a=(e-2)/(r-2);let l=0;const c=t+e-1;let h=t,u,d,f,g,m;for(o[l++]=s[h],u=0;u<r-2;u++){let p=0,_=0,b;const w=Math.floor((u+1)*a)+1+t,v=Math.min(Math.floor((u+2)*a)+1,e)+t,x=v-w;for(b=w;b<v;b++)p+=s[b].x,_+=s[b].y;p/=x,_/=x;const T=Math.floor(u*a)+1+t,O=Math.min(Math.floor((u+1)*a)+1,e)+t,{x:M,y:D}=s[h];for(f=g=-1,b=T;b<O;b++)g=.5*Math.abs((M-p)*(s[b].y-D)-(M-s[b].x)*(_-D)),g>f&&(f=g,d=s[b],m=b);o[l++]=d,h=m}return o[l++]=s[c],o}function gp(s,t,e,i){let n=0,r=0,o,a,l,c,h,u,d,f,g,m;const p=[],_=t+e-1,b=s[t].x,v=s[_].x-b;for(o=t;o<t+e;++o){a=s[o],l=(a.x-b)/v*i,c=a.y;const x=l|0;if(x===h)c<g?(g=c,u=o):c>m&&(m=c,d=o),n=(r*n+a.x)/++r;else{const T=o-1;if(!Z(u)&&!Z(d)){const O=Math.min(u,d),M=Math.max(u,d);O!==f&&O!==T&&p.push({...s[O],x:n}),M!==f&&M!==T&&p.push({...s[M],x:n})}o>0&&T!==f&&p.push(s[T]),p.push(a),h=x,r=0,g=m=c,u=d=f=o}}return p}function Ah(s){if(s._decimated){const t=s._data;delete s._decimated,delete s._data,Object.defineProperty(s,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function il(s){s.data.datasets.forEach(t=>{Ah(t)})}function mp(s,t){const e=t.length;let i=0,n;const{iScale:r}=s,{min:o,max:a,minDefined:l,maxDefined:c}=r.getUserBounds();return l&&(i=Mt(xe(t,r.axis,o).lo,0,e-1)),c?n=Mt(xe(t,r.axis,a).hi+1,i,e)-i:n=e-i,{start:i,count:n}}var pp={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(s,t,e)=>{if(!e.enabled){il(s);return}const i=s.width;s.data.datasets.forEach((n,r)=>{const{_data:o,indexAxis:a}=n,l=s.getDatasetMeta(r),c=o||n.data;if(li([a,s.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;const h=s.scales[l.xAxisID];if(h.type!=="linear"&&h.type!=="time"||s.options.parsing)return;let{start:u,count:d}=mp(l,c);const f=e.threshold||4*i;if(d<=f){Ah(n);return}Z(o)&&(n._data=c,delete n.data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(m){this._data=m}}));let g;switch(e.algorithm){case"lttb":g=fp(c,u,d,i,e);break;case"min-max":g=gp(c,u,d,i);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}n._decimated=g})},destroy(s){il(s)}};function _p(s,t,e){const i=s.segments,n=s.points,r=t.points,o=[];for(const a of i){let{start:l,end:c}=a;c=Lo(l,c,n);const h=Jr(e,n[l],n[c],a.loop);if(!t.segments){o.push({source:a,target:h,start:n[l],end:n[c]});continue}const u=fh(t,h);for(const d of u){const f=Jr(e,r[d.start],r[d.end],d.loop),g=dh(a,n,f);for(const m of g)o.push({source:m,target:d,start:{[e]:nl(h,f,"start",Math.max)},end:{[e]:nl(h,f,"end",Math.min)}})}}return o}function Jr(s,t,e,i){if(i)return;let n=t[s],r=e[s];return s==="angle"&&(n=Bt(n),r=Bt(r)),{property:s,start:n,end:r}}function bp(s,t){const{x:e=null,y:i=null}=s||{},n=t.points,r=[];return t.segments.forEach(({start:o,end:a})=>{a=Lo(o,a,n);const l=n[o],c=n[a];i!==null?(r.push({x:l.x,y:i}),r.push({x:c.x,y:i})):e!==null&&(r.push({x:e,y:l.y}),r.push({x:e,y:c.y}))}),r}function Lo(s,t,e){for(;t>s;t--){const i=e[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function nl(s,t,e,i){return s&&t?i(s[e],t[e]):s?s[e]:t?t[e]:0}function Ph(s,t){let e=[],i=!1;return ht(s)?(i=!0,e=s):e=bp(s,t),e.length?new Fe({points:e,options:{tension:0},_loop:i,_fullLoop:i}):null}function rl(s){return s&&s.fill!==!1}function yp(s,t,e){let n=s[t].fill;const r=[t];let o;if(!e)return n;for(;n!==!1&&r.indexOf(n)===-1;){if(!gt(n))return n;if(o=s[n],!o)return!1;if(o.visible)return n;r.push(n),n=o.fill}return!1}function vp(s,t,e){const i=Sp(s);if(H(i))return isNaN(i.value)?!1:i;let n=parseFloat(i);return gt(n)&&Math.floor(n)===n?wp(i[0],t,n,e):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function wp(s,t,e,i){return(s==="-"||s==="+")&&(e=t+e),e===t||e<0||e>=i?!1:e}function xp(s,t){let e=null;return s==="start"?e=t.bottom:s==="end"?e=t.top:H(s)?e=t.getPixelForValue(s.value):t.getBasePixel&&(e=t.getBasePixel()),e}function kp(s,t,e){let i;return s==="start"?i=e:s==="end"?i=t.options.reverse?t.min:t.max:H(s)?i=s.value:i=t.getBaseValue(),i}function Sp(s){const t=s.options,e=t.fill;let i=j(e&&e.target,e);return i===void 0&&(i=!!t.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function Op(s){const{scale:t,index:e,line:i}=s,n=[],r=i.segments,o=i.points,a=Tp(t,e);a.push(Ph({x:null,y:t.bottom},i));for(let l=0;l<r.length;l++){const c=r[l];for(let h=c.start;h<=c.end;h++)Mp(n,o[h],a)}return new Fe({points:n,options:{}})}function Tp(s,t){const e=[],i=s.getMatchingVisibleMetas("line");for(let n=0;n<i.length;n++){const r=i[n];if(r.index===t)break;r.hidden||e.unshift(r.dataset)}return e}function Mp(s,t,e){const i=[];for(let n=0;n<e.length;n++){const r=e[n],{first:o,last:a,point:l}=Ep(r,t,"x");if(!(!l||o&&a)){if(o)i.unshift(l);else if(s.push(l),!a)break}}s.push(...i)}function Ep(s,t,e){const i=s.interpolate(t,e);if(!i)return{};const n=i[e],r=s.segments,o=s.points;let a=!1,l=!1;for(let c=0;c<r.length;c++){const h=r[c],u=o[h.start][e],d=o[h.end][e];if(we(n,u,d)){a=n===u,l=n===d;break}}return{first:a,last:l,point:i}}class Ih{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,i){const{x:n,y:r,radius:o}=this;return e=e||{start:0,end:ot},t.arc(n,r,o,e.end,e.start,!0),!i.bounds}interpolate(t){const{x:e,y:i,radius:n}=this,r=t.angle;return{x:e+Math.cos(r)*n,y:i+Math.sin(r)*n,angle:r}}}function Cp(s){const{chart:t,fill:e,line:i}=s;if(gt(e))return Dp(t,e);if(e==="stack")return Op(s);if(e==="shape")return!0;const n=Ap(s);return n instanceof Ih?n:Ph(n,i)}function Dp(s,t){const e=s.getDatasetMeta(t);return e&&s.isDatasetVisible(t)?e.dataset:null}function Ap(s){return(s.scale||{}).getPointPositionForValue?Ip(s):Pp(s)}function Pp(s){const{scale:t={},fill:e}=s,i=xp(e,t);if(gt(i)){const n=t.isHorizontal();return{x:n?i:null,y:n?null:i}}return null}function Ip(s){const{scale:t,fill:e}=s,i=t.options,n=t.getLabels().length,r=i.reverse?t.max:t.min,o=kp(e,t,r),a=[];if(i.grid.circular){const l=t.getPointPositionForValue(0,r);return new Ih({x:l.x,y:l.y,radius:t.getDistanceFromCenterForValue(o)})}for(let l=0;l<n;++l)a.push(t.getPointPositionForValue(l,o));return a}function xr(s,t,e){const i=Cp(t),{line:n,scale:r,axis:o}=t,a=n.options,l=a.fill,c=a.backgroundColor,{above:h=c,below:u=c}=l||{};i&&n.points.length&&(Kn(s,e),Rp(s,{line:n,target:i,above:h,below:u,area:e,scale:r,axis:o}),Xn(s))}function Rp(s,t){const{line:e,target:i,above:n,below:r,area:o,scale:a}=t,l=e._loop?"angle":t.axis;s.save(),l==="x"&&r!==n&&(ol(s,i,o.top),al(s,{line:e,target:i,color:n,scale:a,property:l}),s.restore(),s.save(),ol(s,i,o.bottom)),al(s,{line:e,target:i,color:r,scale:a,property:l}),s.restore()}function ol(s,t,e){const{segments:i,points:n}=t;let r=!0,o=!1;s.beginPath();for(const a of i){const{start:l,end:c}=a,h=n[l],u=n[Lo(l,c,n)];r?(s.moveTo(h.x,h.y),r=!1):(s.lineTo(h.x,e),s.lineTo(h.x,h.y)),o=!!t.pathSegment(s,a,{move:o}),o?s.closePath():s.lineTo(u.x,e)}s.lineTo(t.first().x,e),s.closePath(),s.clip()}function al(s,t){const{line:e,target:i,property:n,color:r,scale:o}=t,a=_p(e,i,n);for(const{source:l,target:c,start:h,end:u}of a){const{style:{backgroundColor:d=r}={}}=l,f=i!==!0;s.save(),s.fillStyle=d,Lp(s,o,f&&Jr(n,h,u)),s.beginPath();const g=!!e.pathSegment(s,l);let m;if(f){g?s.closePath():ll(s,i,u,n);const p=!!i.pathSegment(s,c,{move:g,reverse:!0});m=g&&p,m||ll(s,i,h,n)}s.closePath(),s.fill(m?"evenodd":"nonzero"),s.restore()}}function Lp(s,t,e){const{top:i,bottom:n}=t.chart.chartArea,{property:r,start:o,end:a}=e||{};r==="x"&&(s.beginPath(),s.rect(o,i,a-o,n-i),s.clip())}function ll(s,t,e,i){const n=t.interpolate(e,i);n&&s.lineTo(n.x,n.y)}var Np={id:"filler",afterDatasetsUpdate(s,t,e){const i=(s.data.datasets||[]).length,n=[];let r,o,a,l;for(o=0;o<i;++o)r=s.getDatasetMeta(o),a=r.dataset,l=null,a&&a.options&&a instanceof Fe&&(l={visible:s.isDatasetVisible(o),index:o,fill:vp(a,o,i),chart:s,axis:r.controller.options.indexAxis,scale:r.vScale,line:a}),r.$filler=l,n.push(l);for(o=0;o<i;++o)l=n[o],!(!l||l.fill===!1)&&(l.fill=yp(n,o,e.propagate))},beforeDraw(s,t,e){const i=e.drawTime==="beforeDraw",n=s.getSortedVisibleDatasetMetas(),r=s.chartArea;for(let o=n.length-1;o>=0;--o){const a=n[o].$filler;a&&(a.line.updateControlPoints(r,a.axis),i&&a.fill&&xr(s.ctx,a,r))}},beforeDatasetsDraw(s,t,e){if(e.drawTime!=="beforeDatasetsDraw")return;const i=s.getSortedVisibleDatasetMetas();for(let n=i.length-1;n>=0;--n){const r=i[n].$filler;rl(r)&&xr(s.ctx,r,s.chartArea)}},beforeDatasetDraw(s,t,e){const i=t.meta.$filler;!rl(i)||e.drawTime!=="beforeDatasetDraw"||xr(s.ctx,i,s.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const cl=(s,t)=>{let{boxHeight:e=t,boxWidth:i=t}=s;return s.usePointStyle&&(e=Math.min(e,t),i=s.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}},$p=(s,t)=>s!==null&&t!==null&&s.datasetIndex===t.datasetIndex&&s.index===t.index;class hl extends oe{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=nt(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,n)=>t.sort(i,n,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,n=Ot(i.font),r=n.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=cl(i,r);let c,h;e.font=n.string,this.isHorizontal()?(c=this.maxWidth,h=this._fitRows(o,r,a,l)+10):(h=this.maxHeight,c=this._fitCols(o,n,a,l)+10),this.width=Math.min(c,t.maxWidth||this.maxWidth),this.height=Math.min(h,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,n){const{ctx:r,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],h=n+a;let u=t;r.textAlign="left",r.textBaseline="middle";let d=-1,f=-h;return this.legendItems.forEach((g,m)=>{const p=i+e/2+r.measureText(g.text).width;(m===0||c[c.length-1]+p+2*a>o)&&(u+=h,c[c.length-(m>0?0:1)]=0,f+=h,d++),l[m]={left:0,top:f,row:d,width:p,height:n},c[c.length-1]+=p+a}),u}_fitCols(t,e,i,n){const{ctx:r,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],h=o-t;let u=a,d=0,f=0,g=0,m=0;return this.legendItems.forEach((p,_)=>{const{itemWidth:b,itemHeight:w}=Fp(i,e,r,p,n);_>0&&f+w+2*a>h&&(u+=d+a,c.push({width:d,height:f}),g+=d+a,m++,d=f=0),l[_]={left:g,top:f,col:m,width:b,height:w},d=Math.max(d,b),f+=w+a}),u+=d,c.push({width:d,height:f}),u}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:n},rtl:r}}=this,o=Is(r,this.left,this.width);if(this.isHorizontal()){let a=0,l=Dt(i,this.left+n,this.right-this.lineWidths[a]);for(const c of e)a!==c.row&&(a=c.row,l=Dt(i,this.left+n,this.right-this.lineWidths[a])),c.top+=this.top+t+n,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+n}else{let a=0,l=Dt(i,this.top+t+n,this.bottom-this.columnSizes[a].height);for(const c of e)c.col!==a&&(a=c.col,l=Dt(i,this.top+t+n,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+n,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+n}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Kn(t,this),this._draw(),Xn(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:n}=this,{align:r,labels:o}=t,a=mt.color,l=Is(t.rtl,this.left,this.width),c=Ot(o.font),{padding:h}=o,u=c.size,d=u/2;let f;this.drawTitle(),n.textAlign=l.textAlign("left"),n.textBaseline="middle",n.lineWidth=.5,n.font=c.string;const{boxWidth:g,boxHeight:m,itemHeight:p}=cl(o,u),_=function(T,O,M){if(isNaN(g)||g<=0||isNaN(m)||m<0)return;n.save();const D=j(M.lineWidth,1);if(n.fillStyle=j(M.fillStyle,a),n.lineCap=j(M.lineCap,"butt"),n.lineDashOffset=j(M.lineDashOffset,0),n.lineJoin=j(M.lineJoin,"miter"),n.lineWidth=D,n.strokeStyle=j(M.strokeStyle,a),n.setLineDash(j(M.lineDash,[])),o.usePointStyle){const A={radius:m*Math.SQRT2/2,pointStyle:M.pointStyle,rotation:M.rotation,borderWidth:D},P=l.xPlus(T,g/2),N=O+d;eh(n,A,P,N,o.pointStyleWidth&&g)}else{const A=O+Math.max((u-m)/2,0),P=l.leftForLtr(T,g),N=os(M.borderRadius);n.beginPath(),Object.values(N).some(V=>V!==0)?Ci(n,{x:P,y:A,w:g,h:m,radius:N}):n.rect(P,A,g,m),n.fill(),D!==0&&n.stroke()}n.restore()},b=function(T,O,M){fs(n,M.text,T,O+p/2,c,{strikethrough:M.hidden,textAlign:l.textAlign(M.textAlign)})},w=this.isHorizontal(),v=this._computeTitleHeight();w?f={x:Dt(r,this.left+h,this.right-i[0]),y:this.top+h+v,line:0}:f={x:this.left+h,y:Dt(r,this.top+v+h,this.bottom-e[0].height),line:0},ch(this.ctx,t.textDirection);const x=p+h;this.legendItems.forEach((T,O)=>{n.strokeStyle=T.fontColor,n.fillStyle=T.fontColor;const M=n.measureText(T.text).width,D=l.textAlign(T.textAlign||(T.textAlign=o.textAlign)),A=g+d+M;let P=f.x,N=f.y;l.setWidth(this.width),w?O>0&&P+A+h>this.right&&(N=f.y+=x,f.line++,P=f.x=Dt(r,this.left+h,this.right-i[f.line])):O>0&&N+x>this.bottom&&(P=f.x=P+e[f.line].width+h,f.line++,N=f.y=Dt(r,this.top+v+h,this.bottom-e[f.line].height));const V=l.x(P);if(_(V,N,T),P=rf(D,P+g+d,w?P+A:this.right,t.rtl),b(l.x(P),N,T),w)f.x+=A+h;else if(typeof T.text!="string"){const J=c.lineHeight;f.y+=Rh(T,J)+h}else f.y+=x}),hh(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=Ot(e.font),n=Rt(e.padding);if(!e.display)return;const r=Is(t.rtl,this.left,this.width),o=this.ctx,a=e.position,l=i.size/2,c=n.top+l;let h,u=this.left,d=this.width;if(this.isHorizontal())d=Math.max(...this.lineWidths),h=this.top+c,u=Dt(t.align,u,this.right-d);else{const g=this.columnSizes.reduce((m,p)=>Math.max(m,p.height),0);h=c+Dt(t.align,this.top,this.bottom-g-t.labels.padding-this._computeTitleHeight())}const f=Dt(a,u,u+d);o.textAlign=r.textAlign(To(a)),o.textBaseline="middle",o.strokeStyle=e.color,o.fillStyle=e.color,o.font=i.string,fs(o,e.text,f,h,i)}_computeTitleHeight(){const t=this.options.title,e=Ot(t.font),i=Rt(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,n,r;if(we(t,this.left,this.right)&&we(e,this.top,this.bottom)){for(r=this.legendHitBoxes,i=0;i<r.length;++i)if(n=r[i],we(t,n.left,n.left+n.width)&&we(e,n.top,n.top+n.height))return this.legendItems[i]}return null}handleEvent(t){const e=this.options;if(!Vp(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const n=this._hoveredItem,r=$p(n,i);n&&!r&&nt(e.onLeave,[t,n,this],this),this._hoveredItem=i,i&&!r&&nt(e.onHover,[t,i,this],this)}else i&&nt(e.onClick,[t,i,this],this)}}function Fp(s,t,e,i,n){const r=jp(i,s,t,e),o=zp(n,i,t.lineHeight);return{itemWidth:r,itemHeight:o}}function jp(s,t,e,i){let n=s.text;return n&&typeof n!="string"&&(n=n.reduce((r,o)=>r.length>o.length?r:o)),t+e.size/2+i.measureText(n).width}function zp(s,t,e){let i=s;return typeof t.text!="string"&&(i=Rh(t,e)),i}function Rh(s,t){const e=s.text?s.text.length:0;return t*e}function Vp(s,t){return!!((s==="mousemove"||s==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(s==="click"||s==="mouseup"))}var Wp={id:"legend",_element:hl,start(s,t,e){const i=s.legend=new hl({ctx:s.ctx,options:e,chart:s});It.configure(s,i,e),It.addBox(s,i)},stop(s){It.removeBox(s,s.legend),delete s.legend},beforeUpdate(s,t,e){const i=s.legend;It.configure(s,i,e),i.options=e},afterUpdate(s){const t=s.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(s,t){t.replay||s.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(s,t,e){const i=t.datasetIndex,n=e.chart;n.isDatasetVisible(i)?(n.hide(i),t.hidden=!0):(n.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:s=>s.chart.options.color,boxWidth:40,padding:10,generateLabels(s){const t=s.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:n,color:r,useBorderRadius:o,borderRadius:a}}=s.legend.options;return s._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(e?0:void 0),h=Rt(c.borderWidth);return{text:t[l.index].label,fillStyle:c.backgroundColor,fontColor:r,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(h.width+h.height)/4,strokeStyle:c.borderColor,pointStyle:i||c.pointStyle,rotation:c.rotation,textAlign:n||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:s=>s.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:s=>!s.startsWith("on"),labels:{_scriptable:s=>!["generateLabels","filter","sort"].includes(s)}}};class No extends oe{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;const n=ht(i.text)?i.text.length:1;this._padding=Rt(i.padding);const r=n*Ot(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:e,left:i,bottom:n,right:r,options:o}=this,a=o.align;let l=0,c,h,u;return this.isHorizontal()?(h=Dt(a,i,r),u=e+t,c=r-i):(o.position==="left"?(h=i+t,u=Dt(a,n,e),l=lt*-.5):(h=r-t,u=Dt(a,e,n),l=lt*.5),c=n-e),{titleX:h,titleY:u,maxWidth:c,rotation:l}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const i=Ot(e.font),r=i.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(r);fs(t,e.text,0,0,i,{color:e.color,maxWidth:l,rotation:c,textAlign:To(e.align),textBaseline:"middle",translation:[o,a]})}}function Bp(s,t){const e=new No({ctx:s.ctx,options:t,chart:s});It.configure(s,e,t),It.addBox(s,e),s.titleBlock=e}var Hp={id:"title",_element:No,start(s,t,e){Bp(s,e)},stop(s){const t=s.titleBlock;It.removeBox(s,t),delete s.titleBlock},beforeUpdate(s,t,e){const i=s.titleBlock;It.configure(s,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const rn=new WeakMap;var Up={id:"subtitle",start(s,t,e){const i=new No({ctx:s.ctx,options:e,chart:s});It.configure(s,i,e),It.addBox(s,i),rn.set(s,i)},stop(s){It.removeBox(s,rn.get(s)),rn.delete(s)},beforeUpdate(s,t,e){const i=rn.get(s);It.configure(s,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const ui={average(s){if(!s.length)return!1;let t,e,i=new Set,n=0,r=0;for(t=0,e=s.length;t<e;++t){const a=s[t].element;if(a&&a.hasValue()){const l=a.tooltipPosition();i.add(l.x),n+=l.y,++r}}return{x:[...i].reduce((a,l)=>a+l)/i.size,y:n/r}},nearest(s,t){if(!s.length)return!1;let e=t.x,i=t.y,n=Number.POSITIVE_INFINITY,r,o,a;for(r=0,o=s.length;r<o;++r){const l=s[r].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),h=Wr(t,c);h<n&&(n=h,a=l)}}if(a){const l=a.tooltipPosition();e=l.x,i=l.y}return{x:e,y:i}}};function he(s,t){return t&&(ht(t)?Array.prototype.push.apply(s,t):s.push(t)),s}function _e(s){return(typeof s=="string"||s instanceof String)&&s.indexOf(`
`)>-1?s.split(`
`):s}function qp(s,t){const{element:e,datasetIndex:i,index:n}=t,r=s.getDatasetMeta(i).controller,{label:o,value:a}=r.getLabelAndValue(n);return{chart:s,label:o,parsed:r.getParsed(n),raw:s.data.datasets[i].data[n],formattedValue:a,dataset:r.getDataset(),dataIndex:n,datasetIndex:i,element:e}}function ul(s,t){const e=s.chart.ctx,{body:i,footer:n,title:r}=s,{boxWidth:o,boxHeight:a}=t,l=Ot(t.bodyFont),c=Ot(t.titleFont),h=Ot(t.footerFont),u=r.length,d=n.length,f=i.length,g=Rt(t.padding);let m=g.height,p=0,_=i.reduce((v,x)=>v+x.before.length+x.lines.length+x.after.length,0);if(_+=s.beforeBody.length+s.afterBody.length,u&&(m+=u*c.lineHeight+(u-1)*t.titleSpacing+t.titleMarginBottom),_){const v=t.displayColors?Math.max(a,l.lineHeight):l.lineHeight;m+=f*v+(_-f)*l.lineHeight+(_-1)*t.bodySpacing}d&&(m+=t.footerMarginTop+d*h.lineHeight+(d-1)*t.footerSpacing);let b=0;const w=function(v){p=Math.max(p,e.measureText(v).width+b)};return e.save(),e.font=c.string,tt(s.title,w),e.font=l.string,tt(s.beforeBody.concat(s.afterBody),w),b=t.displayColors?o+2+t.boxPadding:0,tt(i,v=>{tt(v.before,w),tt(v.lines,w),tt(v.after,w)}),b=0,e.font=h.string,tt(s.footer,w),e.restore(),p+=g.width,{width:p,height:m}}function Yp(s,t){const{y:e,height:i}=t;return e<i/2?"top":e>s.height-i/2?"bottom":"center"}function Gp(s,t,e,i){const{x:n,width:r}=i,o=e.caretSize+e.caretPadding;if(s==="left"&&n+r+o>t.width||s==="right"&&n-r-o<0)return!0}function Zp(s,t,e,i){const{x:n,width:r}=e,{width:o,chartArea:{left:a,right:l}}=s;let c="center";return i==="center"?c=n<=(a+l)/2?"left":"right":n<=r/2?c="left":n>=o-r/2&&(c="right"),Gp(c,s,t,e)&&(c="center"),c}function dl(s,t,e){const i=e.yAlign||t.yAlign||Yp(s,e);return{xAlign:e.xAlign||t.xAlign||Zp(s,t,e,i),yAlign:i}}function Jp(s,t){let{x:e,width:i}=s;return t==="right"?e-=i:t==="center"&&(e-=i/2),e}function Kp(s,t,e){let{y:i,height:n}=s;return t==="top"?i+=e:t==="bottom"?i-=n+e:i-=n/2,i}function fl(s,t,e,i){const{caretSize:n,caretPadding:r,cornerRadius:o}=s,{xAlign:a,yAlign:l}=e,c=n+r,{topLeft:h,topRight:u,bottomLeft:d,bottomRight:f}=os(o);let g=Jp(t,a);const m=Kp(t,l,c);return l==="center"?a==="left"?g+=c:a==="right"&&(g-=c):a==="left"?g-=Math.max(h,d)+n:a==="right"&&(g+=Math.max(u,f)+n),{x:Mt(g,0,i.width-t.width),y:Mt(m,0,i.height-t.height)}}function on(s,t,e){const i=Rt(e.padding);return t==="center"?s.x+s.width/2:t==="right"?s.x+s.width-i.right:s.x+i.left}function gl(s){return he([],_e(s))}function Xp(s,t,e){return Ue(s,{tooltip:t,tooltipItems:e,type:"tooltip"})}function ml(s,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?s.override(e):s}const Lh={beforeTitle:me,title(s){if(s.length>0){const t=s[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:me,beforeBody:me,beforeLabel:me,label(s){if(this&&this.options&&this.options.mode==="dataset")return s.label+": "+s.formattedValue||s.formattedValue;let t=s.dataset.label||"";t&&(t+=": ");const e=s.formattedValue;return Z(e)||(t+=e),t},labelColor(s){const e=s.chart.getDatasetMeta(s.datasetIndex).controller.getStyle(s.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(s){const e=s.chart.getDatasetMeta(s.datasetIndex).controller.getStyle(s.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:me,afterBody:me,beforeFooter:me,footer:me,afterFooter:me};function Ft(s,t,e,i){const n=s[t].call(e,i);return typeof n>"u"?Lh[t].call(e,i):n}class Kr extends oe{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),n=i.enabled&&e.options.animation&&i.animations,r=new gh(this.chart,n);return n._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=Xp(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:i}=e,n=Ft(i,"beforeTitle",this,t),r=Ft(i,"title",this,t),o=Ft(i,"afterTitle",this,t);let a=[];return a=he(a,_e(n)),a=he(a,_e(r)),a=he(a,_e(o)),a}getBeforeBody(t,e){return gl(Ft(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:i}=e,n=[];return tt(t,r=>{const o={before:[],lines:[],after:[]},a=ml(i,r);he(o.before,_e(Ft(a,"beforeLabel",this,r))),he(o.lines,Ft(a,"label",this,r)),he(o.after,_e(Ft(a,"afterLabel",this,r))),n.push(o)}),n}getAfterBody(t,e){return gl(Ft(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:i}=e,n=Ft(i,"beforeFooter",this,t),r=Ft(i,"footer",this,t),o=Ft(i,"afterFooter",this,t);let a=[];return a=he(a,_e(n)),a=he(a,_e(r)),a=he(a,_e(o)),a}_createItems(t){const e=this._active,i=this.chart.data,n=[],r=[],o=[];let a=[],l,c;for(l=0,c=e.length;l<c;++l)a.push(qp(this.chart,e[l]));return t.filter&&(a=a.filter((h,u,d)=>t.filter(h,u,d,i))),t.itemSort&&(a=a.sort((h,u)=>t.itemSort(h,u,i))),tt(a,h=>{const u=ml(t.callbacks,h);n.push(Ft(u,"labelColor",this,h)),r.push(Ft(u,"labelPointStyle",this,h)),o.push(Ft(u,"labelTextColor",this,h))}),this.labelColors=n,this.labelPointStyles=r,this.labelTextColors=o,this.dataPoints=a,a}update(t,e){const i=this.options.setContext(this.getContext()),n=this._active;let r,o=[];if(!n.length)this.opacity!==0&&(r={opacity:0});else{const a=ui[i.position].call(this,n,this._eventPosition);o=this._createItems(i),this.title=this.getTitle(o,i),this.beforeBody=this.getBeforeBody(o,i),this.body=this.getBody(o,i),this.afterBody=this.getAfterBody(o,i),this.footer=this.getFooter(o,i);const l=this._size=ul(this,i),c=Object.assign({},a,l),h=dl(this.chart,i,c),u=fl(i,c,h,this.chart);this.xAlign=h.xAlign,this.yAlign=h.yAlign,r={opacity:1,x:u.x,y:u.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,r&&this._resolveAnimations().update(this,r),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,n){const r=this.getCaretPosition(t,i,n);e.lineTo(r.x1,r.y1),e.lineTo(r.x2,r.y2),e.lineTo(r.x3,r.y3)}getCaretPosition(t,e,i){const{xAlign:n,yAlign:r}=this,{caretSize:o,cornerRadius:a}=i,{topLeft:l,topRight:c,bottomLeft:h,bottomRight:u}=os(a),{x:d,y:f}=t,{width:g,height:m}=e;let p,_,b,w,v,x;return r==="center"?(v=f+m/2,n==="left"?(p=d,_=p-o,w=v+o,x=v-o):(p=d+g,_=p+o,w=v-o,x=v+o),b=p):(n==="left"?_=d+Math.max(l,h)+o:n==="right"?_=d+g-Math.max(c,u)-o:_=this.caretX,r==="top"?(w=f,v=w-o,p=_-o,b=_+o):(w=f+m,v=w+o,p=_+o,b=_-o),x=w),{x1:p,x2:_,x3:b,y1:w,y2:v,y3:x}}drawTitle(t,e,i){const n=this.title,r=n.length;let o,a,l;if(r){const c=Is(i.rtl,this.x,this.width);for(t.x=on(this,i.titleAlign,i),e.textAlign=c.textAlign(i.titleAlign),e.textBaseline="middle",o=Ot(i.titleFont),a=i.titleSpacing,e.fillStyle=i.titleColor,e.font=o.string,l=0;l<r;++l)e.fillText(n[l],c.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+a,l+1===r&&(t.y+=i.titleMarginBottom-a)}}_drawColorBox(t,e,i,n,r){const o=this.labelColors[i],a=this.labelPointStyles[i],{boxHeight:l,boxWidth:c}=r,h=Ot(r.bodyFont),u=on(this,"left",r),d=n.x(u),f=l<h.lineHeight?(h.lineHeight-l)/2:0,g=e.y+f;if(r.usePointStyle){const m={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},p=n.leftForLtr(d,c)+c/2,_=g+l/2;t.strokeStyle=r.multiKeyBackground,t.fillStyle=r.multiKeyBackground,Hr(t,m,p,_),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,Hr(t,m,p,_)}else{t.lineWidth=H(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;const m=n.leftForLtr(d,c),p=n.leftForLtr(n.xPlus(d,1),c-2),_=os(o.borderRadius);Object.values(_).some(b=>b!==0)?(t.beginPath(),t.fillStyle=r.multiKeyBackground,Ci(t,{x:m,y:g,w:c,h:l,radius:_}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),Ci(t,{x:p,y:g+1,w:c-2,h:l-2,radius:_}),t.fill()):(t.fillStyle=r.multiKeyBackground,t.fillRect(m,g,c,l),t.strokeRect(m,g,c,l),t.fillStyle=o.backgroundColor,t.fillRect(p,g+1,c-2,l-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:n}=this,{bodySpacing:r,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:h}=i,u=Ot(i.bodyFont);let d=u.lineHeight,f=0;const g=Is(i.rtl,this.x,this.width),m=function(M){e.fillText(M,g.x(t.x+f),t.y+d/2),t.y+=d+r},p=g.textAlign(o);let _,b,w,v,x,T,O;for(e.textAlign=o,e.textBaseline="middle",e.font=u.string,t.x=on(this,p,i),e.fillStyle=i.bodyColor,tt(this.beforeBody,m),f=a&&p!=="right"?o==="center"?c/2+h:c+2+h:0,v=0,T=n.length;v<T;++v){for(_=n[v],b=this.labelTextColors[v],e.fillStyle=b,tt(_.before,m),w=_.lines,a&&w.length&&(this._drawColorBox(e,t,v,g,i),d=Math.max(u.lineHeight,l)),x=0,O=w.length;x<O;++x)m(w[x]),d=u.lineHeight;tt(_.after,m)}f=0,d=u.lineHeight,tt(this.afterBody,m),t.y-=r}drawFooter(t,e,i){const n=this.footer,r=n.length;let o,a;if(r){const l=Is(i.rtl,this.x,this.width);for(t.x=on(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=l.textAlign(i.footerAlign),e.textBaseline="middle",o=Ot(i.footerFont),e.fillStyle=i.footerColor,e.font=o.string,a=0;a<r;++a)e.fillText(n[a],l.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+i.footerSpacing}}drawBackground(t,e,i,n){const{xAlign:r,yAlign:o}=this,{x:a,y:l}=t,{width:c,height:h}=i,{topLeft:u,topRight:d,bottomLeft:f,bottomRight:g}=os(n.cornerRadius);e.fillStyle=n.backgroundColor,e.strokeStyle=n.borderColor,e.lineWidth=n.borderWidth,e.beginPath(),e.moveTo(a+u,l),o==="top"&&this.drawCaret(t,e,i,n),e.lineTo(a+c-d,l),e.quadraticCurveTo(a+c,l,a+c,l+d),o==="center"&&r==="right"&&this.drawCaret(t,e,i,n),e.lineTo(a+c,l+h-g),e.quadraticCurveTo(a+c,l+h,a+c-g,l+h),o==="bottom"&&this.drawCaret(t,e,i,n),e.lineTo(a+f,l+h),e.quadraticCurveTo(a,l+h,a,l+h-f),o==="center"&&r==="left"&&this.drawCaret(t,e,i,n),e.lineTo(a,l+u),e.quadraticCurveTo(a,l,a+u,l),e.closePath(),e.fill(),n.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,i=this.$animations,n=i&&i.x,r=i&&i.y;if(n||r){const o=ui[t.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=ul(this,t),l=Object.assign({},o,this._size),c=dl(e,t,l),h=fl(t,l,c,e);(n._to!==h.x||r._to!==h.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,h))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const n={width:this.width,height:this.height},r={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const o=Rt(e.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&a&&(t.save(),t.globalAlpha=i,this.drawBackground(r,t,n,e),ch(t,e.textDirection),r.y+=o.top,this.drawTitle(r,t,e),this.drawBody(r,t,e),this.drawFooter(r,t,e),hh(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,n=t.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),r=!In(i,n),o=this._positionChanged(n,e);(r||o)&&(this._active=n,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const n=this.options,r=this._active||[],o=this._getActiveElements(t,r,e,i),a=this._positionChanged(o,t),l=e||!In(o,r)||a;return l&&(this._active=o,(n.enabled||n.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),l}_getActiveElements(t,e,i,n){const r=this.options;if(t.type==="mouseout")return[];if(!n)return e.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(t,r.mode,r,i);return r.reverse&&o.reverse(),o}_positionChanged(t,e){const{caretX:i,caretY:n,options:r}=this,o=ui[r.position].call(this,t,e);return o!==!1&&(i!==o.x||n!==o.y)}}E(Kr,"positioners",ui);var Qp={id:"tooltip",_element:Kr,positioners:ui,afterInit(s,t,e){e&&(s.tooltip=new Kr({chart:s,options:e}))},beforeUpdate(s,t,e){s.tooltip&&s.tooltip.initialize(e)},reset(s,t,e){s.tooltip&&s.tooltip.initialize(e)},afterDraw(s){const t=s.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(s.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(s.ctx),s.notifyPlugins("afterTooltipDraw",e)}},afterEvent(s,t){if(s.tooltip){const e=t.replay;s.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(s,t)=>t.bodyFont.size,boxWidth:(s,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Lh},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:s=>s!=="filter"&&s!=="itemSort"&&s!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},t_=Object.freeze({__proto__:null,Colors:dp,Decimation:pp,Filler:Np,Legend:Wp,SubTitle:Up,Title:Hp,Tooltip:Qp});const e_=(s,t,e,i)=>(typeof t=="string"?(e=s.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function s_(s,t,e,i){const n=s.indexOf(t);if(n===-1)return e_(s,t,e,i);const r=s.lastIndexOf(t);return n!==r?e:n}const i_=(s,t)=>s===null?null:Mt(Math.round(s),0,t);function pl(s){const t=this.getLabels();return s>=0&&s<t.length?t[s]:s}class Xr extends gs{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const i=this.getLabels();for(const{index:n,label:r}of e)i[n]===r&&i.splice(n,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(Z(t))return null;const i=this.getLabels();return e=isFinite(e)&&i[e]===t?e:s_(i,t,j(e,t),this._addedLabels),i_(e,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:n}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),e||(n=this.getLabels().length-1)),this.min=i,this.max=n}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,n=[];let r=this.getLabels();r=t===0&&e===r.length-1?r:r.slice(t,e+1),this._valueRange=Math.max(r.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let o=t;o<=e;o++)n.push({value:o});return n}getLabelForValue(t){return pl.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}E(Xr,"id","category"),E(Xr,"defaults",{ticks:{callback:pl}});function n_(s,t){const e=[],{bounds:n,step:r,min:o,max:a,precision:l,count:c,maxTicks:h,maxDigits:u,includeBounds:d}=s,f=r||1,g=h-1,{min:m,max:p}=t,_=!Z(o),b=!Z(a),w=!Z(c),v=(p-m)/(u+1);let x=ha((p-m)/g/f)*f,T,O,M,D;if(x<1e-14&&!_&&!b)return[{value:m},{value:p}];D=Math.ceil(p/x)-Math.floor(m/x),D>g&&(x=ha(D*x/g/f)*f),Z(l)||(T=Math.pow(10,l),x=Math.ceil(x*T)/T),n==="ticks"?(O=Math.floor(m/x)*x,M=Math.ceil(p/x)*x):(O=m,M=p),_&&b&&r&&Kd((a-o)/r,x/1e3)?(D=Math.round(Math.min((a-o)/x,h)),x=(a-o)/D,O=o,M=a):w?(O=_?o:O,M=b?a:M,D=c-1,x=(M-O)/D):(D=(M-O)/x,pi(D,Math.round(D),x/1e3)?D=Math.round(D):D=Math.ceil(D));const A=Math.max(ua(x),ua(O));T=Math.pow(10,Z(l)?A:l),O=Math.round(O*T)/T,M=Math.round(M*T)/T;let P=0;for(_&&(d&&O!==o?(e.push({value:o}),O<o&&P++,pi(Math.round((O+P*x)*T)/T,o,_l(o,v,s))&&P++):O<o&&P++);P<D;++P){const N=Math.round((O+P*x)*T)/T;if(b&&N>a)break;e.push({value:N})}return b&&d&&M!==a?e.length&&pi(e[e.length-1].value,a,_l(a,v,s))?e[e.length-1].value=a:e.push({value:a}):(!b||M===a)&&e.push({value:M}),e}function _l(s,t,{horizontal:e,minRotation:i}){const n=ie(i),r=(e?Math.sin(n):Math.cos(n))||.001,o=.75*t*(""+s).length;return Math.min(t/r,o)}class zn extends gs{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return Z(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:n,max:r}=this;const o=l=>n=e?n:l,a=l=>r=i?r:l;if(t){const l=ge(n),c=ge(r);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(n===r){let l=r===0?1:Math.abs(r*.05);a(r+l),t||o(n-l)}this.min=n,this.max=r}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:i}=t,n;return i?(n=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,n>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${n} ticks. Limiting to 1000.`),n=1e3)):(n=this.computeTickLimit(),e=e||11),e&&(n=Math.min(e,n)),n}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const n={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},r=this._range||this,o=n_(n,r);return t.bounds==="ticks"&&qc(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const n=(i-e)/Math.max(t.length-1,1)/2;e-=n,i+=n}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return $i(t,this.chart.options.locale,this.options.ticks.format)}}class Qr extends zn{determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=gt(t)?t:0,this.max=gt(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=ie(this.options.ticks.minRotation),n=(t?Math.sin(i):Math.cos(i))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,r.lineHeight/n))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}E(Qr,"id","linear"),E(Qr,"defaults",{ticks:{callback:Jn.formatters.numeric}});const Ai=s=>Math.floor($e(s)),Ze=(s,t)=>Math.pow(10,Ai(s)+t);function bl(s){return s/Math.pow(10,Ai(s))===1}function yl(s,t,e){const i=Math.pow(10,e),n=Math.floor(s/i);return Math.ceil(t/i)-n}function r_(s,t){const e=t-s;let i=Ai(e);for(;yl(s,t,i)>10;)i++;for(;yl(s,t,i)<10;)i--;return Math.min(i,Ai(s))}function o_(s,{min:t,max:e}){t=Wt(s.min,t);const i=[],n=Ai(t);let r=r_(t,e),o=r<0?Math.pow(10,Math.abs(r)):1;const a=Math.pow(10,r),l=n>r?Math.pow(10,n):0,c=Math.round((t-l)*o)/o,h=Math.floor((t-l)/a/10)*a*10;let u=Math.floor((c-h)/Math.pow(10,r)),d=Wt(s.min,Math.round((l+h+u*Math.pow(10,r))*o)/o);for(;d<e;)i.push({value:d,major:bl(d),significand:u}),u>=10?u=u<15?15:20:u++,u>=20&&(r++,u=2,o=r>=0?1:o),d=Math.round((l+h+u*Math.pow(10,r))*o)/o;const f=Wt(s.max,d);return i.push({value:f,major:bl(f),significand:u}),i}class to extends gs{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const i=zn.prototype.parse.apply(this,[t,e]);if(i===0){this._zero=!0;return}return gt(i)&&i>0?i:null}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=gt(t)?Math.max(0,t):null,this.max=gt(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!gt(this._userMin)&&(this.min=t===Ze(this.min,0)?Ze(this.min,-1):Ze(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let i=this.min,n=this.max;const r=a=>i=t?i:a,o=a=>n=e?n:a;i===n&&(i<=0?(r(1),o(10)):(r(Ze(i,-1)),o(Ze(n,1)))),i<=0&&r(Ze(n,-1)),n<=0&&o(Ze(i,1)),this.min=i,this.max=n}buildTicks(){const t=this.options,e={min:this._userMin,max:this._userMax},i=o_(e,this);return t.bounds==="ticks"&&qc(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(t){return t===void 0?"0":$i(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=$e(t),this._valueRange=$e(this.max)-$e(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:($e(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}}E(to,"id","logarithmic"),E(to,"defaults",{ticks:{callback:Jn.formatters.logarithmic,major:{enabled:!0}}});function eo(s){const t=s.ticks;if(t.display&&s.display){const e=Rt(t.backdropPadding);return j(t.font&&t.font.size,mt.font.size)+e.height}return 0}function a_(s,t,e){return e=ht(e)?e:[e],{w:mf(s,t.string,e),h:e.length*t.lineHeight}}function vl(s,t,e,i,n){return s===i||s===n?{start:t-e/2,end:t+e/2}:s<i||s>n?{start:t-e,end:t}:{start:t,end:t+e}}function l_(s){const t={l:s.left+s._padding.left,r:s.right-s._padding.right,t:s.top+s._padding.top,b:s.bottom-s._padding.bottom},e=Object.assign({},t),i=[],n=[],r=s._pointLabels.length,o=s.options.pointLabels,a=o.centerPointLabels?lt/r:0;for(let l=0;l<r;l++){const c=o.setContext(s.getPointLabelContext(l));n[l]=c.padding;const h=s.getPointPosition(l,s.drawingArea+n[l],a),u=Ot(c.font),d=a_(s.ctx,u,s._pointLabels[l]);i[l]=d;const f=Bt(s.getIndexAngle(l)+a),g=Math.round(So(f)),m=vl(g,h.x,d.w,0,180),p=vl(g,h.y,d.h,90,270);c_(e,t,f,m,p)}s.setCenterPoint(t.l-e.l,e.r-t.r,t.t-e.t,e.b-t.b),s._pointLabelItems=d_(s,i,n)}function c_(s,t,e,i,n){const r=Math.abs(Math.sin(e)),o=Math.abs(Math.cos(e));let a=0,l=0;i.start<t.l?(a=(t.l-i.start)/r,s.l=Math.min(s.l,t.l-a)):i.end>t.r&&(a=(i.end-t.r)/r,s.r=Math.max(s.r,t.r+a)),n.start<t.t?(l=(t.t-n.start)/o,s.t=Math.min(s.t,t.t-l)):n.end>t.b&&(l=(n.end-t.b)/o,s.b=Math.max(s.b,t.b+l))}function h_(s,t,e){const i=s.drawingArea,{extra:n,additionalAngle:r,padding:o,size:a}=e,l=s.getPointPosition(t,i+n+o,r),c=Math.round(So(Bt(l.angle+bt))),h=m_(l.y,a.h,c),u=f_(c),d=g_(l.x,a.w,u);return{visible:!0,x:l.x,y:h,textAlign:u,left:d,top:h,right:d+a.w,bottom:h+a.h}}function u_(s,t){if(!t)return!0;const{left:e,top:i,right:n,bottom:r}=s;return!(ke({x:e,y:i},t)||ke({x:e,y:r},t)||ke({x:n,y:i},t)||ke({x:n,y:r},t))}function d_(s,t,e){const i=[],n=s._pointLabels.length,r=s.options,{centerPointLabels:o,display:a}=r.pointLabels,l={extra:eo(r)/2,additionalAngle:o?lt/n:0};let c;for(let h=0;h<n;h++){l.padding=e[h],l.size=t[h];const u=h_(s,h,l);i.push(u),a==="auto"&&(u.visible=u_(u,c),u.visible&&(c=u))}return i}function f_(s){return s===0||s===180?"center":s<180?"left":"right"}function g_(s,t,e){return e==="right"?s-=t:e==="center"&&(s-=t/2),s}function m_(s,t,e){return e===90||e===270?s-=t/2:(e>270||e<90)&&(s-=t),s}function p_(s,t,e){const{left:i,top:n,right:r,bottom:o}=e,{backdropColor:a}=t;if(!Z(a)){const l=os(t.borderRadius),c=Rt(t.backdropPadding);s.fillStyle=a;const h=i-c.left,u=n-c.top,d=r-i+c.width,f=o-n+c.height;Object.values(l).some(g=>g!==0)?(s.beginPath(),Ci(s,{x:h,y:u,w:d,h:f,radius:l}),s.fill()):s.fillRect(h,u,d,f)}}function __(s,t){const{ctx:e,options:{pointLabels:i}}=s;for(let n=t-1;n>=0;n--){const r=s._pointLabelItems[n];if(!r.visible)continue;const o=i.setContext(s.getPointLabelContext(n));p_(e,o,r);const a=Ot(o.font),{x:l,y:c,textAlign:h}=r;fs(e,s._pointLabels[n],l,c+a.lineHeight/2,a,{color:o.color,textAlign:h,textBaseline:"middle"})}}function Nh(s,t,e,i){const{ctx:n}=s;if(e)n.arc(s.xCenter,s.yCenter,t,0,ot);else{let r=s.getPointPosition(0,t);n.moveTo(r.x,r.y);for(let o=1;o<i;o++)r=s.getPointPosition(o,t),n.lineTo(r.x,r.y)}}function b_(s,t,e,i,n){const r=s.ctx,o=t.circular,{color:a,lineWidth:l}=t;!o&&!i||!a||!l||e<0||(r.save(),r.strokeStyle=a,r.lineWidth=l,r.setLineDash(n.dash),r.lineDashOffset=n.dashOffset,r.beginPath(),Nh(s,e,o,i),r.closePath(),r.stroke(),r.restore())}function y_(s,t,e){return Ue(s,{label:e,index:t,type:"pointLabel"})}class di extends zn{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=Rt(eo(this.options)/2),e=this.width=this.maxWidth-t.width,i=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+i/2+t.top),this.drawingArea=Math.floor(Math.min(e,i)/2)}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!1);this.min=gt(t)&&!isNaN(t)?t:0,this.max=gt(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/eo(this.options))}generateTickLabels(t){zn.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((e,i)=>{const n=nt(this.options.pointLabels.callback,[e,i],this);return n||n===0?n:""}).filter((e,i)=>this.chart.getDataVisibility(i))}fit(){const t=this.options;t.display&&t.pointLabels.display?l_(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,i,n){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((i-n)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,i,n))}getIndexAngle(t){const e=ot/(this._pointLabels.length||1),i=this.options.startAngle||0;return Bt(t*e+ie(i))}getDistanceFromCenterForValue(t){if(Z(t))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(Z(t))return NaN;const e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){const e=this._pointLabels||[];if(t>=0&&t<e.length){const i=e[t];return y_(this.getContext(),t,i)}}getPointPosition(t,e,i=0){const n=this.getIndexAngle(t)-bt+i;return{x:Math.cos(n)*e+this.xCenter,y:Math.sin(n)*e+this.yCenter,angle:n}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:i,right:n,bottom:r}=this._pointLabelItems[t];return{left:e,top:i,right:n,bottom:r}}drawBackground(){const{backgroundColor:t,grid:{circular:e}}=this.options;if(t){const i=this.ctx;i.save(),i.beginPath(),Nh(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),i.closePath(),i.fillStyle=t,i.fill(),i.restore()}}drawGrid(){const t=this.ctx,e=this.options,{angleLines:i,grid:n,border:r}=e,o=this._pointLabels.length;let a,l,c;if(e.pointLabels.display&&__(this,o),n.display&&this.ticks.forEach((h,u)=>{if(u!==0||u===0&&this.min<0){l=this.getDistanceFromCenterForValue(h.value);const d=this.getContext(u),f=n.setContext(d),g=r.setContext(d);b_(this,f,l,o,g)}}),i.display){for(t.save(),a=o-1;a>=0;a--){const h=i.setContext(this.getPointLabelContext(a)),{color:u,lineWidth:d}=h;!d||!u||(t.lineWidth=d,t.strokeStyle=u,t.setLineDash(h.borderDash),t.lineDashOffset=h.borderDashOffset,l=this.getDistanceFromCenterForValue(e.ticks.reverse?this.min:this.max),c=this.getPointPosition(a,l),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(c.x,c.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,e=this.options,i=e.ticks;if(!i.display)return;const n=this.getIndexAngle(0);let r,o;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(n),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&this.min>=0&&!e.reverse)return;const c=i.setContext(this.getContext(l)),h=Ot(c.font);if(r=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){t.font=h.string,o=t.measureText(a.label).width,t.fillStyle=c.backdropColor;const u=Rt(c.backdropPadding);t.fillRect(-o/2-u.left,-r-h.size/2-u.top,o+u.width,h.size+u.height)}fs(t,a.label,0,-r,h,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),t.restore()}drawTitle(){}}E(di,"id","radialLinear"),E(di,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Jn.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}}),E(di,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),E(di,"descriptors",{angleLines:{_fallback:"grid"}});const tr={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},zt=Object.keys(tr);function wl(s,t){return s-t}function xl(s,t){if(Z(t))return null;const e=s._adapter,{parser:i,round:n,isoWeekday:r}=s._parseOpts;let o=t;return typeof i=="function"&&(o=i(o)),gt(o)||(o=typeof i=="string"?e.parse(o,i):e.parse(o)),o===null?null:(n&&(o=n==="week"&&(Fs(r)||r===!0)?e.startOf(o,"isoWeek",r):e.startOf(o,n)),+o)}function kl(s,t,e,i){const n=zt.length;for(let r=zt.indexOf(s);r<n-1;++r){const o=tr[zt[r]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((e-t)/(a*o.size))<=i)return zt[r]}return zt[n-1]}function v_(s,t,e,i,n){for(let r=zt.length-1;r>=zt.indexOf(e);r--){const o=zt[r];if(tr[o].common&&s._adapter.diff(n,i,o)>=t-1)return o}return zt[e?zt.indexOf(e):0]}function w_(s){for(let t=zt.indexOf(s)+1,e=zt.length;t<e;++t)if(tr[zt[t]].common)return zt[t]}function Sl(s,t,e){if(!e)s[t]=!0;else if(e.length){const{lo:i,hi:n}=Oo(e,t),r=e[i]>=t?e[i]:e[n];s[r]=!0}}function x_(s,t,e,i){const n=s._adapter,r=+n.startOf(t[0].value,i),o=t[t.length-1].value;let a,l;for(a=r;a<=o;a=+n.add(a,1,i))l=e[a],l>=0&&(t[l].major=!0);return t}function Ol(s,t,e){const i=[],n={},r=t.length;let o,a;for(o=0;o<r;++o)a=t[o],n[a]=o,i.push({value:a,major:!1});return r===0||!e?i:x_(s,i,n,e)}class Pi extends gs{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const i=t.time||(t.time={}),n=this._adapter=new Ag._date(t.adapters.date);n.init(e),mi(i.displayFormats,n.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:xl(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,i=t.time.unit||"day";let{min:n,max:r,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(n=Math.min(n,c.min)),!a&&!isNaN(c.max)&&(r=Math.max(r,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&l(this.getMinMax(!1))),n=gt(n)&&!isNaN(n)?n:+e.startOf(Date.now(),i),r=gt(r)&&!isNaN(r)?r:+e.endOf(Date.now(),i)+1,this.min=Math.min(n,r-1),this.max=Math.max(n+1,r)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,n=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&n.length&&(this.min=this._userMin||n[0],this.max=this._userMax||n[n.length-1]);const r=this.min,o=this.max,a=ef(n,r,o);return this._unit=e.unit||(i.autoSkip?kl(e.minUnit,this.min,this.max,this._getLabelCapacity(r)):v_(this,a.length,e.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:w_(this._unit),this.initOffsets(n),t.reverse&&a.reverse(),Ol(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,i=0,n,r;this.options.offset&&t.length&&(n=this.getDecimalForValue(t[0]),t.length===1?e=1-n:e=(this.getDecimalForValue(t[1])-n)/2,r=this.getDecimalForValue(t[t.length-1]),t.length===1?i=r:i=(r-this.getDecimalForValue(t[t.length-2]))/2);const o=t.length<3?.5:.25;e=Mt(e,0,o),i=Mt(i,0,o),this._offsets={start:e,end:i,factor:1/(e+1+i)}}_generate(){const t=this._adapter,e=this.min,i=this.max,n=this.options,r=n.time,o=r.unit||kl(r.minUnit,e,i,this._getLabelCapacity(e)),a=j(n.ticks.stepSize,1),l=o==="week"?r.isoWeekday:!1,c=Fs(l)||l===!0,h={};let u=e,d,f;if(c&&(u=+t.startOf(u,"isoWeek",l)),u=+t.startOf(u,c?"day":o),t.diff(i,e,o)>1e5*a)throw new Error(e+" and "+i+" are too far apart with stepSize of "+a+" "+o);const g=n.ticks.source==="data"&&this.getDataTimestamps();for(d=u,f=0;d<i;d=+t.add(d,a,o),f++)Sl(h,d,g);return(d===i||n.bounds==="ticks"||f===1)&&Sl(h,d,g),Object.keys(h).sort(wl).map(m=>+m)}getLabelForValue(t){const e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}format(t,e){const n=this.options.time.displayFormats,r=this._unit,o=e||n[r];return this._adapter.format(t,o)}_tickFormatFunction(t,e,i,n){const r=this.options,o=r.ticks.callback;if(o)return nt(o,[t,e,i],this);const a=r.time.displayFormats,l=this._unit,c=this._majorUnit,h=l&&a[l],u=c&&a[c],d=i[e],f=c&&u&&d&&d.major;return this._adapter.format(t,n||(f?u:h))}generateTickLabels(t){let e,i,n;for(e=0,i=t.length;e<i;++e)n=t[e],n.label=this._tickFormatFunction(n.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,n=ie(this.isHorizontal()?e.maxRotation:e.minRotation),r=Math.cos(n),o=Math.sin(n),a=this._resolveTickFontOptions(0).size;return{w:i*r+a*o,h:i*o+a*r}}_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,n=i[e.unit]||i.millisecond,r=this._tickFormatFunction(t,0,Ol(this,[t],this._majorUnit),n),o=this._getLabelSize(r),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let t=this._cache.data||[],e,i;if(t.length)return t;const n=this.getMatchingVisibleMetas();if(this._normalized&&n.length)return this._cache.data=n[0].controller.getAllParsedValues(this);for(e=0,i=n.length;e<i;++e)t=t.concat(n[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,i;if(t.length)return t;const n=this.getLabels();for(e=0,i=n.length;e<i;++e)t.push(xl(this,n[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return Zc(t.sort(wl))}}E(Pi,"id","time"),E(Pi,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function an(s,t,e){let i=0,n=s.length-1,r,o,a,l;e?(t>=s[i].pos&&t<=s[n].pos&&({lo:i,hi:n}=xe(s,"pos",t)),{pos:r,time:a}=s[i],{pos:o,time:l}=s[n]):(t>=s[i].time&&t<=s[n].time&&({lo:i,hi:n}=xe(s,"time",t)),{time:r,pos:a}=s[i],{time:o,pos:l}=s[n]);const c=o-r;return c?a+(l-a)*(t-r)/c:a}class so extends Pi{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=an(e,this.min),this._tableRange=an(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,n=[],r=[];let o,a,l,c,h;for(o=0,a=t.length;o<a;++o)c=t[o],c>=e&&c<=i&&n.push(c);if(n.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(o=0,a=n.length;o<a;++o)h=n[o+1],l=n[o-1],c=n[o],Math.round((h+l)/2)!==c&&r.push({time:c,pos:o/(a-1)});return r}_generate(){const t=this.min,e=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(e)||i.length===1)&&i.push(e),i.sort((n,r)=>n-r)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return e.length&&i.length?t=this.normalize(e.concat(i)):t=e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(an(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return an(this._table,i*this._tableRange+this._minPos,!0)}}E(so,"id","timeseries"),E(so,"defaults",Pi.defaults);var k_=Object.freeze({__proto__:null,CategoryScale:Xr,LinearScale:Qr,LogarithmicScale:to,RadialLinearScale:di,TimeScale:Pi,TimeSeriesScale:so});const S_=[Dg,op,t_,k_],vs=[];function ji(s,t=L){let e;const i=new Set;function n(a){if(ce(s,a)&&(s=a,e)){const l=!vs.length;for(const c of i)c[1](),vs.push(c,s);if(l){for(let c=0;c<vs.length;c+=2)vs[c][0](vs[c+1]);vs.length=0}}}function r(a){n(a(s))}function o(a,l=L){const c=[a,l];return i.add(c),i.size===1&&(e=t(n,r)||L),a(s),()=>{i.delete(c),i.size===0&&e&&(e(),e=null)}}return{set:n,update:r,subscribe:o}}const O_="modulepreload",T_=function(s){return"/"+s},Tl={},Vs=function(t,e,i){let n=Promise.resolve();if(e&&e.length>0){document.getElementsByTagName("link");const r=document.querySelector("meta[property=csp-nonce]"),o=(r==null?void 0:r.nonce)||(r==null?void 0:r.getAttribute("nonce"));n=Promise.all(e.map(a=>{if(a=T_(a),a in Tl)return;Tl[a]=!0;const l=a.endsWith(".css"),c=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${c}`))return;const h=document.createElement("link");if(h.rel=l?"stylesheet":O_,l||(h.as="script",h.crossOrigin=""),h.href=a,o&&h.setAttribute("nonce",o),document.head.appendChild(h),l)return new Promise((u,d)=>{h.addEventListener("load",u),h.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${a}`)))})}))}return n.then(()=>t()).catch(r=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=r,window.dispatchEvent(o),!o.defaultPrevented)throw r})},M_=s=>{let t;return s?t=s:typeof fetch>"u"?t=(...e)=>Vs(()=>Promise.resolve().then(()=>zi),void 0).then(({default:i})=>i(...e)):t=fetch,(...e)=>t(...e)};class $o extends Error{constructor(t,e="FunctionsError",i){super(t),this.name=e,this.context=i}}class E_ extends $o{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class C_ extends $o{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class D_ extends $o{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var io;(function(s){s.Any="any",s.ApNortheast1="ap-northeast-1",s.ApNortheast2="ap-northeast-2",s.ApSouth1="ap-south-1",s.ApSoutheast1="ap-southeast-1",s.ApSoutheast2="ap-southeast-2",s.CaCentral1="ca-central-1",s.EuCentral1="eu-central-1",s.EuWest1="eu-west-1",s.EuWest2="eu-west-2",s.EuWest3="eu-west-3",s.SaEast1="sa-east-1",s.UsEast1="us-east-1",s.UsWest1="us-west-1",s.UsWest2="us-west-2"})(io||(io={}));var A_=function(s,t,e,i){function n(r){return r instanceof e?r:new e(function(o){o(r)})}return new(e||(e=Promise))(function(r,o){function a(h){try{c(i.next(h))}catch(u){o(u)}}function l(h){try{c(i.throw(h))}catch(u){o(u)}}function c(h){h.done?r(h.value):n(h.value).then(a,l)}c((i=i.apply(s,t||[])).next())})};class P_{constructor(t,{headers:e={},customFetch:i,region:n=io.Any}={}){this.url=t,this.headers=e,this.region=n,this.fetch=M_(i)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,e={}){var i;return A_(this,void 0,void 0,function*(){try{const{headers:n,method:r,body:o}=e;let a={},{region:l}=e;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let c;o&&(n&&!Object.prototype.hasOwnProperty.call(n,"Content-Type")||!n)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(a["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(a["Content-Type"]="application/json",c=JSON.stringify(o)));const h=yield this.fetch(`${this.url}/${t}`,{method:r||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),n),body:c}).catch(g=>{throw new E_(g)}),u=h.headers.get("x-relay-error");if(u&&u==="true")throw new C_(h);if(!h.ok)throw new D_(h);let d=((i=h.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),f;return d==="application/json"?f=yield h.json():d==="application/octet-stream"?f=yield h.blob():d==="text/event-stream"?f=h:d==="multipart/form-data"?f=yield h.formData():f=yield h.text(),{data:f,error:null}}catch(n){return{data:null,error:n}}})}}var I_=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ws=I_();const R_=Ws.fetch,Fo=Ws.fetch.bind(Ws),$h=Ws.Headers,L_=Ws.Request,N_=Ws.Response,zi=Object.freeze(Object.defineProperty({__proto__:null,Headers:$h,Request:L_,Response:N_,default:Fo,fetch:R_},Symbol.toStringTag,{value:"Module"}));class $_ extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}}class F_{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=Fo:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}then(t,e){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const i=this.fetch;let n=i(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async r=>{var o,a,l;let c=null,h=null,u=null,d=r.status,f=r.statusText;if(r.ok){if(this.method!=="HEAD"){const _=await r.text();_===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?h=_:h=JSON.parse(_))}const m=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),p=(a=r.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");m&&p&&p.length>1&&(u=parseInt(p[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(c={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,u=null,d=406,f="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const m=await r.text();try{c=JSON.parse(m),Array.isArray(c)&&r.status===404&&(h=[],c=null,d=200,f="OK")}catch{r.status===404&&m===""?(d=204,f="No Content"):c={message:m}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,d=200,f="OK"),c&&this.shouldThrowOnError)throw new $_(c)}return{error:c,data:h,count:u,status:d,statusText:f}});return this.shouldThrowOnError||(n=n.catch(r=>{var o,a,l;return{error:{message:`${(o=r==null?void 0:r.name)!==null&&o!==void 0?o:"FetchError"}: ${r==null?void 0:r.message}`,details:`${(a=r==null?void 0:r.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=r==null?void 0:r.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),n.then(t,e)}}class j_ extends F_{select(t){let e=!1;const i=(t??"*").split("").map(n=>/\s/.test(n)&&!e?"":(n==='"'&&(e=!e),n)).join("");return this.url.searchParams.set("select",i),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:e=!0,nullsFirst:i,foreignTable:n,referencedTable:r=n}={}){const o=r?`${r}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${t}.${e?"asc":"desc"}${i===void 0?"":i?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:i=e}={}){const n=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(n,`${t}`),this}range(t,e,{foreignTable:i,referencedTable:n=i}={}){const r=typeof n>"u"?"offset":`${n}.offset`,o=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${t}`),this.url.searchParams.set(o,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:e=!1,settings:i=!1,buffers:n=!1,wal:r=!1,format:o="text"}={}){var a;const l=[t?"analyze":null,e?"verbose":null,i?"settings":null,n?"buffers":null,r?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${c}"; options=${l};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}class Es extends j_{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}in(t,e){const i=Array.from(new Set(e)).map(n=>typeof n=="string"&&new RegExp("[,()]").test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`in.(${i})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:i,type:n}={}){let r="";n==="plain"?r="pl":n==="phrase"?r="ph":n==="websearch"&&(r="w");const o=i===void 0?"":`(${i})`;return this.url.searchParams.append(t,`${r}fts${o}.${e}`),this}match(t){return Object.entries(t).forEach(([e,i])=>{this.url.searchParams.append(e,`eq.${i}`)}),this}not(t,e,i){return this.url.searchParams.append(t,`not.${e}.${i}`),this}or(t,{foreignTable:e,referencedTable:i=e}={}){const n=i?`${i}.or`:"or";return this.url.searchParams.append(n,`(${t})`),this}filter(t,e,i){return this.url.searchParams.append(t,`${e}.${i}`),this}}class z_{constructor(t,{headers:e={},schema:i,fetch:n}){this.url=t,this.headers=e,this.schema=i,this.fetch=n}select(t,{head:e=!1,count:i}={}){const n=e?"HEAD":"GET";let r=!1;const o=(t??"*").split("").map(a=>/\s/.test(a)&&!r?"":(a==='"'&&(r=!r),a)).join("");return this.url.searchParams.set("select",o),i&&(this.headers.Prefer=`count=${i}`),new Es({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:e,defaultToNull:i=!0}={}){const n="POST",r=[];if(this.headers.Prefer&&r.push(this.headers.Prefer),e&&r.push(`count=${e}`),i||r.push("missing=default"),this.headers.Prefer=r.join(","),Array.isArray(t)){const o=t.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Es({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:e,ignoreDuplicates:i=!1,count:n,defaultToNull:r=!0}={}){const o="POST",a=[`resolution=${i?"ignore":"merge"}-duplicates`];if(e!==void 0&&this.url.searchParams.set("on_conflict",e),this.headers.Prefer&&a.push(this.headers.Prefer),n&&a.push(`count=${n}`),r||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const l=t.reduce((c,h)=>c.concat(Object.keys(h)),[]);if(l.length>0){const c=[...new Set(l)].map(h=>`"${h}"`);this.url.searchParams.set("columns",c.join(","))}}return new Es({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:e}={}){const i="PATCH",n=[];return this.headers.Prefer&&n.push(this.headers.Prefer),e&&n.push(`count=${e}`),this.headers.Prefer=n.join(","),new Es({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const e="DELETE",i=[];return t&&i.push(`count=${t}`),this.headers.Prefer&&i.unshift(this.headers.Prefer),this.headers.Prefer=i.join(","),new Es({method:e,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}const V_="1.15.2",W_={"X-Client-Info":`postgrest-js/${V_}`};class jo{constructor(t,{headers:e={},schema:i,fetch:n}={}){this.url=t,this.headers=Object.assign(Object.assign({},W_),e),this.schemaName=i,this.fetch=n}from(t){const e=new URL(`${this.url}/${t}`);return new z_(e,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new jo(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,e={},{head:i=!1,get:n=!1,count:r}={}){let o;const a=new URL(`${this.url}/rpc/${t}`);let l;i||n?(o=i?"HEAD":"GET",Object.entries(e).filter(([h,u])=>u!==void 0).map(([h,u])=>[h,Array.isArray(u)?`{${u.join(",")}}`:`${u}`]).forEach(([h,u])=>{a.searchParams.append(h,u)})):(o="POST",l=e);const c=Object.assign({},this.headers);return r&&(c.Prefer=`count=${r}`),new Es({method:o,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}}const B_="2.9.5",H_={"X-Client-Info":`realtime-js/${B_}`},U_="1.0.0",Fh=1e4,q_=1e3;var Rs;(function(s){s[s.connecting=0]="connecting",s[s.open=1]="open",s[s.closing=2]="closing",s[s.closed=3]="closed"})(Rs||(Rs={}));var Vt;(function(s){s.closed="closed",s.errored="errored",s.joined="joined",s.joining="joining",s.leaving="leaving"})(Vt||(Vt={}));var se;(function(s){s.close="phx_close",s.error="phx_error",s.join="phx_join",s.reply="phx_reply",s.leave="phx_leave",s.access_token="access_token"})(se||(se={}));var no;(function(s){s.websocket="websocket"})(no||(no={}));var is;(function(s){s.Connecting="connecting",s.Open="open",s.Closing="closing",s.Closed="closed"})(is||(is={}));class jh{constructor(t,e){this.callback=t,this.timerCalc=e,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=e}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}class Y_{constructor(){this.HEADER_LENGTH=1}decode(t,e){return t.constructor===ArrayBuffer?e(this._binaryDecode(t)):e(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const e=new DataView(t),i=new TextDecoder;return this._decodeBroadcast(t,e,i)}_decodeBroadcast(t,e,i){const n=e.getUint8(1),r=e.getUint8(2);let o=this.HEADER_LENGTH+2;const a=i.decode(t.slice(o,o+n));o=o+n;const l=i.decode(t.slice(o,o+r));o=o+r;const c=JSON.parse(i.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class kr{constructor(t,e,i={},n=Fh){this.channel=t,this.event=e,this.payload=i,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,e){var i;return this._hasReceived(t)&&e((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:t,callback:e}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,e){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:e})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:e}){this.recHooks.filter(i=>i.status===t).forEach(i=>i.callback(e))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Ml;(function(s){s.SYNC="sync",s.JOIN="join",s.LEAVE="leave"})(Ml||(Ml={}));class vi{constructor(t,e){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(e==null?void 0:e.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},n=>{const{onJoin:r,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=vi.syncState(this.state,n,r,o),this.pendingDiffs.forEach(l=>{this.state=vi.syncDiff(this.state,l,r,o)}),this.pendingDiffs=[],a()}),this.channel._on(i.diff,{},n=>{const{onJoin:r,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=vi.syncDiff(this.state,n,r,o),a())}),this.onJoin((n,r,o)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:r,newPresences:o})}),this.onLeave((n,r,o)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:r,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,e,i,n){const r=this.cloneDeep(t),o=this.transformState(e),a={},l={};return this.map(r,(c,h)=>{o[c]||(l[c]=h)}),this.map(o,(c,h)=>{const u=r[c];if(u){const d=h.map(p=>p.presence_ref),f=u.map(p=>p.presence_ref),g=h.filter(p=>f.indexOf(p.presence_ref)<0),m=u.filter(p=>d.indexOf(p.presence_ref)<0);g.length>0&&(a[c]=g),m.length>0&&(l[c]=m)}else a[c]=h}),this.syncDiff(r,{joins:a,leaves:l},i,n)}static syncDiff(t,e,i,n){const{joins:r,leaves:o}={joins:this.transformState(e.joins),leaves:this.transformState(e.leaves)};return i||(i=()=>{}),n||(n=()=>{}),this.map(r,(a,l)=>{var c;const h=(c=t[a])!==null&&c!==void 0?c:[];if(t[a]=this.cloneDeep(l),h.length>0){const u=t[a].map(f=>f.presence_ref),d=h.filter(f=>u.indexOf(f.presence_ref)<0);t[a].unshift(...d)}i(a,h,l)}),this.map(o,(a,l)=>{let c=t[a];if(!c)return;const h=l.map(u=>u.presence_ref);c=c.filter(u=>h.indexOf(u.presence_ref)<0),t[a]=c,n(a,c,l),c.length===0&&delete t[a]}),t}static map(t,e){return Object.getOwnPropertyNames(t).map(i=>e(i,t[i]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((e,i)=>{const n=t[i];return"metas"in n?e[i]=n.metas.map(r=>(r.presence_ref=r.phx_ref,delete r.phx_ref,delete r.phx_ref_prev,r)):e[i]=n,e},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var it;(function(s){s.abstime="abstime",s.bool="bool",s.date="date",s.daterange="daterange",s.float4="float4",s.float8="float8",s.int2="int2",s.int4="int4",s.int4range="int4range",s.int8="int8",s.int8range="int8range",s.json="json",s.jsonb="jsonb",s.money="money",s.numeric="numeric",s.oid="oid",s.reltime="reltime",s.text="text",s.time="time",s.timestamp="timestamp",s.timestamptz="timestamptz",s.timetz="timetz",s.tsrange="tsrange",s.tstzrange="tstzrange"})(it||(it={}));const El=(s,t,e={})=>{var i;const n=(i=e.skipTypes)!==null&&i!==void 0?i:[];return Object.keys(t).reduce((r,o)=>(r[o]=G_(o,s,t,n),r),{})},G_=(s,t,e,i)=>{const n=t.find(a=>a.name===s),r=n==null?void 0:n.type,o=e[s];return r&&!i.includes(r)?zh(r,o):ro(o)},zh=(s,t)=>{if(s.charAt(0)==="_"){const e=s.slice(1,s.length);return X_(t,e)}switch(s){case it.bool:return Z_(t);case it.float4:case it.float8:case it.int2:case it.int4:case it.int8:case it.numeric:case it.oid:return J_(t);case it.json:case it.jsonb:return K_(t);case it.timestamp:return Q_(t);case it.abstime:case it.date:case it.daterange:case it.int4range:case it.int8range:case it.money:case it.reltime:case it.text:case it.time:case it.timestamptz:case it.timetz:case it.tsrange:case it.tstzrange:return ro(t);default:return ro(t)}},ro=s=>s,Z_=s=>{switch(s){case"t":return!0;case"f":return!1;default:return s}},J_=s=>{if(typeof s=="string"){const t=parseFloat(s);if(!Number.isNaN(t))return t}return s},K_=s=>{if(typeof s=="string")try{return JSON.parse(s)}catch(t){return console.log(`JSON parse error: ${t}`),s}return s},X_=(s,t)=>{if(typeof s!="string")return s;const e=s.length-1,i=s[e];if(s[0]==="{"&&i==="}"){let r;const o=s.slice(1,e);try{r=JSON.parse("["+o+"]")}catch{r=o?o.split(","):[]}return r.map(a=>zh(t,a))}return s},Q_=s=>typeof s=="string"?s.replace(" ","T"):s;var Cl;(function(s){s.ALL="*",s.INSERT="INSERT",s.UPDATE="UPDATE",s.DELETE="DELETE"})(Cl||(Cl={}));var Dl;(function(s){s.BROADCAST="broadcast",s.PRESENCE="presence",s.POSTGRES_CHANGES="postgres_changes"})(Dl||(Dl={}));var Al;(function(s){s.SUBSCRIBED="SUBSCRIBED",s.TIMED_OUT="TIMED_OUT",s.CLOSED="CLOSED",s.CHANNEL_ERROR="CHANNEL_ERROR"})(Al||(Al={}));class zo{constructor(t,e={config:{}},i){this.topic=t,this.params=e,this.socket=i,this.bindings={},this.state=Vt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""}},e.config),this.timeout=this.socket.timeout,this.joinPush=new kr(this,se.join,this.params,this.timeout),this.rejoinTimer=new jh(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Vt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(n=>n.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Vt.closed,this.socket._remove(this)}),this._onError(n=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,n),this.state=Vt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Vt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(se.reply,{},(n,r)=>{this._trigger(this._replyEventName(r),n)}),this.presence=new vi(this),this.broadcastEndpointURL=this._broadcastEndpointURL()}subscribe(t,e=this.timeout){var i,n;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:r,presence:o}}=this.params;this._onError(c=>t&&t("CHANNEL_ERROR",c)),this._onClose(()=>t&&t("CLOSED"));const a={},l={broadcast:r,presence:o,postgres_changes:(n=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(c=>c.filter))!==null&&n!==void 0?n:[]};this.socket.accessToken&&(a.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:l},a)),this.joinedOnce=!0,this._rejoin(e),this.joinPush.receive("ok",({postgres_changes:c})=>{var h;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),c===void 0){t&&t("SUBSCRIBED");return}else{const u=this.bindings.postgres_changes,d=(h=u==null?void 0:u.length)!==null&&h!==void 0?h:0,f=[];for(let g=0;g<d;g++){const m=u[g],{filter:{event:p,schema:_,table:b,filter:w}}=m,v=c&&c[g];if(v&&v.event===p&&v.schema===_&&v.table===b&&v.filter===w)f.push(Object.assign(Object.assign({},m),{id:v.id}));else{this.unsubscribe(),t&&t("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=f,t&&t("SUBSCRIBED");return}}).receive("error",c=>{t&&t("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{t&&t("TIMED_OUT")})}return this}presenceState(){return this.presence.state}async track(t,e={}){return await this.send({type:"presence",event:"track",payload:t},e.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,e,i){return this._on(t,e,i)}async send(t,e={}){var i,n;if(!this._canPush()&&t.type==="broadcast"){const{event:r,payload:o}=t,a={method:"POST",headers:{apikey:(i=this.socket.apiKey)!==null&&i!==void 0?i:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:r,payload:o}]})};try{return(await this._fetchWithTimeout(this.broadcastEndpointURL,a,(n=e.timeout)!==null&&n!==void 0?n:this.timeout)).ok?"ok":"error"}catch(l){return l.name==="AbortError"?"timed out":"error"}}else return new Promise(r=>{var o,a,l;const c=this._push(t.type,t,e.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&r("ok"),c.receive("ok",()=>r("ok")),c.receive("error",()=>r("error")),c.receive("timeout",()=>r("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Vt.leaving;const e=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(se.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(i=>{const n=new kr(this,se.leave,{},t);n.receive("ok",()=>{e(),i("ok")}).receive("timeout",()=>{e(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})})}_broadcastEndpointURL(){let t=this.socket.endPoint;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"}async _fetchWithTimeout(t,e,i){const n=new AbortController,r=setTimeout(()=>n.abort(),i),o=await this.socket.fetch(t,Object.assign(Object.assign({},e),{signal:n.signal}));return clearTimeout(r),o}_push(t,e,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new kr(this,t,e,i);return this._canPush()?n.send():(n.startTimeout(),this.pushBuffer.push(n)),n}_onMessage(t,e,i){return e}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,e,i){var n,r;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:c,join:h}=se;if(i&&[a,l,c,h].indexOf(o)>=0&&i!==this._joinRef())return;let d=this._onMessage(o,e,i);if(e&&!d)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(f=>{var g,m,p;return((g=f.filter)===null||g===void 0?void 0:g.event)==="*"||((p=(m=f.filter)===null||m===void 0?void 0:m.event)===null||p===void 0?void 0:p.toLocaleLowerCase())===o}).map(f=>f.callback(d,i)):(r=this.bindings[o])===null||r===void 0||r.filter(f=>{var g,m,p,_,b,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const v=f.id,x=(g=f.filter)===null||g===void 0?void 0:g.event;return v&&((m=e.ids)===null||m===void 0?void 0:m.includes(v))&&(x==="*"||(x==null?void 0:x.toLocaleLowerCase())===((p=e.data)===null||p===void 0?void 0:p.type.toLocaleLowerCase()))}else{const v=(b=(_=f==null?void 0:f.filter)===null||_===void 0?void 0:_.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return v==="*"||v===((w=e==null?void 0:e.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof d=="object"&&"ids"in d){const g=d.data,{schema:m,table:p,commit_timestamp:_,type:b,errors:w}=g;d=Object.assign(Object.assign({},{schema:m,table:p,commit_timestamp:_,eventType:b,new:{},old:{},errors:w}),this._getPayloadRecords(g))}f.callback(d,i)})}_isClosed(){return this.state===Vt.closed}_isJoined(){return this.state===Vt.joined}_isJoining(){return this.state===Vt.joining}_isLeaving(){return this.state===Vt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,e,i){const n=t.toLocaleLowerCase(),r={type:n,filter:e,callback:i};return this.bindings[n]?this.bindings[n].push(r):this.bindings[n]=[r],this}_off(t,e){const i=t.toLocaleLowerCase();return this.bindings[i]=this.bindings[i].filter(n=>{var r;return!(((r=n.type)===null||r===void 0?void 0:r.toLocaleLowerCase())===i&&zo.isEqual(n.filter,e))}),this}static isEqual(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const i in t)if(t[i]!==e[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(se.close,{},t)}_onError(t){this._on(se.error,{},e=>t(e))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Vt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const e={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(e.new=El(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(e.old=El(t.columns,t.old_record)),e}}const tb=()=>{},eb=typeof WebSocket<"u";class sb{constructor(t,e){var i;this.accessToken=null,this.apiKey=null,this.channels=[],this.endPoint="",this.headers=H_,this.params={},this.timeout=Fh,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=tb,this.conn=null,this.sendBuffer=[],this.serializer=new Y_,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=r=>{let o;return r?o=r:typeof fetch>"u"?o=(...a)=>Vs(()=>Promise.resolve().then(()=>zi),void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${t}/${no.websocket}`,e!=null&&e.transport?this.transport=e.transport:this.transport=null,e!=null&&e.params&&(this.params=e.params),e!=null&&e.headers&&(this.headers=Object.assign(Object.assign({},this.headers),e.headers)),e!=null&&e.timeout&&(this.timeout=e.timeout),e!=null&&e.logger&&(this.logger=e.logger),e!=null&&e.heartbeatIntervalMs&&(this.heartbeatIntervalMs=e.heartbeatIntervalMs);const n=(i=e==null?void 0:e.params)===null||i===void 0?void 0:i.apikey;n&&(this.accessToken=n,this.apiKey=n),this.reconnectAfterMs=e!=null&&e.reconnectAfterMs?e.reconnectAfterMs:r=>[1e3,2e3,5e3,1e4][r-1]||1e4,this.encode=e!=null&&e.encode?e.encode:(r,o)=>o(JSON.stringify(r)),this.decode=e!=null&&e.decode?e.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new jh(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(e==null?void 0:e.fetch)}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers});return}if(eb){this.conn=new WebSocket(this._endPointURL()),this.setupConnection();return}this.conn=new ib(this._endPointURL(),void 0,{close:()=>{this.conn=null}}),Vs(()=>import("./browser-BImCA5dO.js").then(t=>t.b),[]).then(({default:t})=>{this.conn=new t(this._endPointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}disconnect(t,e){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,e??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const e=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),e}async removeAllChannels(){const t=await Promise.all(this.channels.map(e=>e.unsubscribe()));return this.disconnect(),t}log(t,e,i){this.logger(t,e,i)}connectionState(){switch(this.conn&&this.conn.readyState){case Rs.connecting:return is.Connecting;case Rs.open:return is.Open;case Rs.closing:return is.Closing;default:return is.Closed}}isConnected(){return this.connectionState()===is.Open}channel(t,e={config:{}}){const i=new zo(`realtime:${t}`,e,this);return this.channels.push(i),i}push(t){const{topic:e,event:i,payload:n,ref:r}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${e} ${i} (${r})`,n),this.isConnected()?o():this.sendBuffer.push(o)}setAuth(t){this.accessToken=t,this.channels.forEach(e=>{t&&e.updateJoinPayload({access_token:t}),e.joinedOnce&&e._isJoined()&&e._push(se.access_token,{access_token:t})})}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let e=this.channels.find(i=>i.topic===t&&(i._isJoined()||i._isJoining()));e&&(this.log("transport",`leaving duplicate topic "${t}"`),e.unsubscribe())}_remove(t){this.channels=this.channels.filter(e=>e._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:U_}))}_onConnMessage(t){this.decode(t.data,e=>{let{topic:i,event:n,payload:r,ref:o}=e;(o&&o===this.pendingHeartbeatRef||n===(r==null?void 0:r.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${r.status||""} ${i} ${n} ${o&&"("+o+")"||""}`,r),this.channels.filter(a=>a._isMember(i)).forEach(a=>a._trigger(n,r,o)),this.stateChangeCallbacks.message.forEach(a=>a(e))})}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(e=>e(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(e=>e(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(se.error))}_appendParams(t,e){if(Object.keys(e).length===0)return t;const i=t.match(/\?/)?"&":"?",n=new URLSearchParams(e);return`${t}${i}${n}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(q_,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}}class ib{constructor(t,e,i){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Rs.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=i.close}}class Vo extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function At(s){return typeof s=="object"&&s!==null&&"__isStorageError"in s}class nb extends Vo{constructor(t,e){super(t),this.name="StorageApiError",this.status=e}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Pl extends Vo{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}}var rb=function(s,t,e,i){function n(r){return r instanceof e?r:new e(function(o){o(r)})}return new(e||(e=Promise))(function(r,o){function a(h){try{c(i.next(h))}catch(u){o(u)}}function l(h){try{c(i.throw(h))}catch(u){o(u)}}function c(h){h.done?r(h.value):n(h.value).then(a,l)}c((i=i.apply(s,t||[])).next())})};const Vh=s=>{let t;return s?t=s:typeof fetch>"u"?t=(...e)=>Vs(()=>Promise.resolve().then(()=>zi),void 0).then(({default:i})=>i(...e)):t=fetch,(...e)=>t(...e)},ob=()=>rb(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Vs(()=>Promise.resolve().then(()=>zi),void 0)).Response:Response});var Hs=function(s,t,e,i){function n(r){return r instanceof e?r:new e(function(o){o(r)})}return new(e||(e=Promise))(function(r,o){function a(h){try{c(i.next(h))}catch(u){o(u)}}function l(h){try{c(i.throw(h))}catch(u){o(u)}}function c(h){h.done?r(h.value):n(h.value).then(a,l)}c((i=i.apply(s,t||[])).next())})};const Sr=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),ab=(s,t)=>Hs(void 0,void 0,void 0,function*(){const e=yield ob();s instanceof e?s.json().then(i=>{t(new nb(Sr(i),s.status||500))}).catch(i=>{t(new Pl(Sr(i),i))}):t(new Pl(Sr(s),s))}),lb=(s,t,e,i)=>{const n={method:s,headers:(t==null?void 0:t.headers)||{}};return s==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n.body=JSON.stringify(i),Object.assign(Object.assign({},n),e))};function er(s,t,e,i,n,r){return Hs(this,void 0,void 0,function*(){return new Promise((o,a)=>{s(e,lb(t,i,n,r)).then(l=>{if(!l.ok)throw l;return i!=null&&i.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>ab(l,a))})})}function oo(s,t,e,i){return Hs(this,void 0,void 0,function*(){return er(s,"GET",t,e,i)})}function Pe(s,t,e,i,n){return Hs(this,void 0,void 0,function*(){return er(s,"POST",t,i,n,e)})}function cb(s,t,e,i,n){return Hs(this,void 0,void 0,function*(){return er(s,"PUT",t,i,n,e)})}function Wh(s,t,e,i,n){return Hs(this,void 0,void 0,function*(){return er(s,"DELETE",t,i,n,e)})}var qt=function(s,t,e,i){function n(r){return r instanceof e?r:new e(function(o){o(r)})}return new(e||(e=Promise))(function(r,o){function a(h){try{c(i.next(h))}catch(u){o(u)}}function l(h){try{c(i.throw(h))}catch(u){o(u)}}function c(h){h.done?r(h.value):n(h.value).then(a,l)}c((i=i.apply(s,t||[])).next())})};const hb={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Il={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class ub{constructor(t,e={},i,n){this.url=t,this.headers=e,this.bucketId=i,this.fetch=Vh(n)}uploadOrUpdate(t,e,i,n){return qt(this,void 0,void 0,function*(){try{let r;const o=Object.assign(Object.assign({},Il),n),a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});typeof Blob<"u"&&i instanceof Blob?(r=new FormData,r.append("cacheControl",o.cacheControl),r.append("",i)):typeof FormData<"u"&&i instanceof FormData?(r=i,r.append("cacheControl",o.cacheControl)):(r=i,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType);const l=this._removeEmptyFolders(e),c=this._getFinalPath(l),h=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:t,body:r,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),u=yield h.json();return h.ok?{data:{path:l,id:u.Id,fullPath:u.Key},error:null}:{data:null,error:u}}catch(r){if(At(r))return{data:null,error:r};throw r}})}upload(t,e,i){return qt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,e,i)})}uploadToSignedUrl(t,e,i,n){return qt(this,void 0,void 0,function*(){const r=this._removeEmptyFolders(t),o=this._getFinalPath(r),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",e);try{let l;const c=Object.assign({upsert:Il.upsert},n),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&i instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",i)):typeof FormData<"u"&&i instanceof FormData?(l=i,l.append("cacheControl",c.cacheControl)):(l=i,h["cache-control"]=`max-age=${c.cacheControl}`,h["content-type"]=c.contentType);const u=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:h}),d=yield u.json();return u.ok?{data:{path:r,fullPath:d.Key},error:null}:{data:null,error:d}}catch(l){if(At(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t){return qt(this,void 0,void 0,function*(){try{let e=this._getFinalPath(t);const i=yield Pe(this.fetch,`${this.url}/object/upload/sign/${e}`,{},{headers:this.headers}),n=new URL(this.url+i.url),r=n.searchParams.get("token");if(!r)throw new Vo("No token returned by API");return{data:{signedUrl:n.toString(),path:t,token:r},error:null}}catch(e){if(At(e))return{data:null,error:e};throw e}})}update(t,e,i){return qt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,e,i)})}move(t,e){return qt(this,void 0,void 0,function*(){try{return{data:yield Pe(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:e},{headers:this.headers}),error:null}}catch(i){if(At(i))return{data:null,error:i};throw i}})}copy(t,e){return qt(this,void 0,void 0,function*(){try{return{data:{path:(yield Pe(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:e},{headers:this.headers})).Key},error:null}}catch(i){if(At(i))return{data:null,error:i};throw i}})}createSignedUrl(t,e,i){return qt(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t),r=yield Pe(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:e},i!=null&&i.transform?{transform:i.transform}:{}),{headers:this.headers});const o=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return r={signedUrl:encodeURI(`${this.url}${r.signedURL}${o}`)},{data:r,error:null}}catch(n){if(At(n))return{data:null,error:n};throw n}})}createSignedUrls(t,e,i){return qt(this,void 0,void 0,function*(){try{const n=yield Pe(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:e,paths:t},{headers:this.headers}),r=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return{data:n.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${r}`):null})),error:null}}catch(n){if(At(n))return{data:null,error:n};throw n}})}download(t,e){return qt(this,void 0,void 0,function*(){const n=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),o=r?`?${r}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield oo(this.fetch,`${this.url}/${n}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(At(a))return{data:null,error:a};throw a}})}getPublicUrl(t,e){const i=this._getFinalPath(t),n=[],r=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";r!==""&&n.push(r);const a=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});l!==""&&n.push(l);let c=n.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${i}${c}`)}}}remove(t){return qt(this,void 0,void 0,function*(){try{return{data:yield Wh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(e){if(At(e))return{data:null,error:e};throw e}})}list(t,e,i){return qt(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},hb),e),{prefix:t||""});return{data:yield Pe(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},i),error:null}}catch(n){if(At(n))return{data:null,error:n};throw n}})}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}}const db="2.5.5",fb={"X-Client-Info":`storage-js/${db}`};var ws=function(s,t,e,i){function n(r){return r instanceof e?r:new e(function(o){o(r)})}return new(e||(e=Promise))(function(r,o){function a(h){try{c(i.next(h))}catch(u){o(u)}}function l(h){try{c(i.throw(h))}catch(u){o(u)}}function c(h){h.done?r(h.value):n(h.value).then(a,l)}c((i=i.apply(s,t||[])).next())})};class gb{constructor(t,e={},i){this.url=t,this.headers=Object.assign(Object.assign({},fb),e),this.fetch=Vh(i)}listBuckets(){return ws(this,void 0,void 0,function*(){try{return{data:yield oo(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(At(t))return{data:null,error:t};throw t}})}getBucket(t){return ws(this,void 0,void 0,function*(){try{return{data:yield oo(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(e){if(At(e))return{data:null,error:e};throw e}})}createBucket(t,e={public:!1}){return ws(this,void 0,void 0,function*(){try{return{data:yield Pe(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(At(i))return{data:null,error:i};throw i}})}updateBucket(t,e){return ws(this,void 0,void 0,function*(){try{return{data:yield cb(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(At(i))return{data:null,error:i};throw i}})}emptyBucket(t){return ws(this,void 0,void 0,function*(){try{return{data:yield Pe(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(e){if(At(e))return{data:null,error:e};throw e}})}deleteBucket(t){return ws(this,void 0,void 0,function*(){try{return{data:yield Wh(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(e){if(At(e))return{data:null,error:e};throw e}})}}class mb extends gb{constructor(t,e={},i){super(t,e,i)}from(t){return new ub(this.url,this.headers,t,this.fetch)}}const pb="2.43.2";let fi="";typeof Deno<"u"?fi="deno":typeof document<"u"?fi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?fi="react-native":fi="node";const _b={"X-Client-Info":`supabase-js-${fi}/${pb}`},bb={headers:_b},yb={schema:"public"},vb={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},wb={};var xb=function(s,t,e,i){function n(r){return r instanceof e?r:new e(function(o){o(r)})}return new(e||(e=Promise))(function(r,o){function a(h){try{c(i.next(h))}catch(u){o(u)}}function l(h){try{c(i.throw(h))}catch(u){o(u)}}function c(h){h.done?r(h.value):n(h.value).then(a,l)}c((i=i.apply(s,t||[])).next())})};const kb=s=>{let t;return s?t=s:typeof fetch>"u"?t=Fo:t=fetch,(...e)=>t(...e)},Sb=()=>typeof Headers>"u"?$h:Headers,Ob=(s,t,e)=>{const i=kb(e),n=Sb();return(r,o)=>xb(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:s;let c=new n(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",s),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),i(r,Object.assign(Object.assign({},o),{headers:c}))})};function Tb(s){return s.replace(/\/$/,"")}function Mb(s,t){const{db:e,auth:i,realtime:n,global:r}=s,{db:o,auth:a,realtime:l,global:c}=t;return{db:Object.assign(Object.assign({},o),e),auth:Object.assign(Object.assign({},a),i),realtime:Object.assign(Object.assign({},l),n),global:Object.assign(Object.assign({},c),r)}}const Bh="2.64.2",Eb="http://localhost:9999",Cb="supabase.auth.token",Db={"X-Client-Info":`gotrue-js/${Bh}`},Rl=10,ao="X-Supabase-Api-Version",Hh={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function Ab(s){return Math.round(Date.now()/1e3)+s}function Pb(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(s){const t=Math.random()*16|0;return(s=="x"?t:t&3|8).toString(16)})}const ee=()=>typeof document<"u",Je={tested:!1,writable:!1},wi=()=>{if(!ee())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Je.tested)return Je.writable;const s=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(s,s),globalThis.localStorage.removeItem(s),Je.tested=!0,Je.writable=!0}catch{Je.tested=!0,Je.writable=!1}return Je.writable};function Or(s){const t={},e=new URL(s);if(e.hash&&e.hash[0]==="#")try{new URLSearchParams(e.hash.substring(1)).forEach((n,r)=>{t[r]=n})}catch{}return e.searchParams.forEach((i,n)=>{t[n]=i}),t}const Uh=s=>{let t;return s?t=s:typeof fetch>"u"?t=(...e)=>Vs(()=>Promise.resolve().then(()=>zi),void 0).then(({default:i})=>i(...e)):t=fetch,(...e)=>t(...e)},Ib=s=>typeof s=="object"&&s!==null&&"status"in s&&"ok"in s&&"json"in s&&typeof s.json=="function",qh=async(s,t,e)=>{await s.setItem(t,JSON.stringify(e))},ln=async(s,t)=>{const e=await s.getItem(t);if(!e)return null;try{return JSON.parse(e)}catch{return e}},Tr=async(s,t)=>{await s.removeItem(t)};function Rb(s){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let e="",i,n,r,o,a,l,c,h=0;for(s=s.replace("-","+").replace("_","/");h<s.length;)o=t.indexOf(s.charAt(h++)),a=t.indexOf(s.charAt(h++)),l=t.indexOf(s.charAt(h++)),c=t.indexOf(s.charAt(h++)),i=o<<2|a>>4,n=(a&15)<<4|l>>2,r=(l&3)<<6|c,e=e+String.fromCharCode(i),l!=64&&n!=0&&(e=e+String.fromCharCode(n)),c!=64&&r!=0&&(e=e+String.fromCharCode(r));return e}class sr{constructor(){this.promise=new sr.promiseConstructor((t,e)=>{this.resolve=t,this.reject=e})}}sr.promiseConstructor=Promise;function Ll(s){const t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,e=s.split(".");if(e.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(e[1]))throw new Error("JWT is not valid: payload is not in base64url format");const i=e[1];return JSON.parse(Rb(i))}async function Lb(s){return await new Promise(t=>{setTimeout(()=>t(null),s)})}function Nb(s,t){return new Promise((i,n)=>{(async()=>{for(let r=0;r<1/0;r++)try{const o=await s(r);if(!t(r,null,o)){i(o);return}}catch(o){if(!t(r,o)){n(o);return}}})()})}function $b(s){return("0"+s.toString(16)).substr(-2)}function Fb(){const t=new Uint32Array(56);if(typeof crypto>"u"){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=e.length;let n="";for(let r=0;r<56;r++)n+=e.charAt(Math.floor(Math.random()*i));return n}return crypto.getRandomValues(t),Array.from(t,$b).join("")}async function jb(s){const e=new TextEncoder().encode(s),i=await crypto.subtle.digest("SHA-256",e),n=new Uint8Array(i);return Array.from(n).map(r=>String.fromCharCode(r)).join("")}function zb(s){return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Vb(s){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),s;const e=await jb(s);return zb(e)}async function xs(s,t,e=!1){const i=Fb();let n=i;e&&(n+="/PASSWORD_RECOVERY"),await qh(s,`${t}-code-verifier`,n);const r=await Vb(i);return[r,i===r?"plain":"s256"]}const Wb=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Bb(s){const t=s.headers.get(ao);if(!t||!t.match(Wb))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}class Wo extends Error{constructor(t,e,i){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=e,this.code=i}}function W(s){return typeof s=="object"&&s!==null&&"__isAuthError"in s}class Hb extends Wo{constructor(t,e,i){super(t,e,i),this.name="AuthApiError",this.status=e,this.code=i}}function Ub(s){return W(s)&&s.name==="AuthApiError"}class Yh extends Wo{constructor(t,e){super(t),this.name="AuthUnknownError",this.originalError=e}}class ms extends Wo{constructor(t,e,i,n){super(t,i,n),this.name=e,this.status=i}}class Ke extends ms{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class Mr extends ms{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class cn extends ms{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class hn extends ms{constructor(t,e=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Nl extends ms{constructor(t,e=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class lo extends ms{constructor(t,e){super(t,"AuthRetryableFetchError",e,void 0)}}function Er(s){return W(s)&&s.name==="AuthRetryableFetchError"}class $l extends ms{constructor(t,e,i){super(t,"AuthWeakPasswordError",e,"weak_password"),this.reasons=i}}var qb=function(s,t){var e={};for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&t.indexOf(i)<0&&(e[i]=s[i]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(s);n<i.length;n++)t.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(s,i[n])&&(e[i[n]]=s[i[n]]);return e};const ss=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),Yb=[502,503,504];async function Fl(s){var t;if(!Ib(s))throw new lo(ss(s),0);if(Yb.includes(s.status))throw new lo(ss(s),s.status);let e;try{e=await s.json()}catch(r){throw new Yh(ss(r),r)}let i;const n=Bb(s);if(n&&n.getTime()>=Hh["2024-01-01"].timestamp&&typeof e=="object"&&e&&typeof e.code=="string"?i=e.code:typeof e=="object"&&e&&typeof e.error_code=="string"&&(i=e.error_code),i){if(i==="weak_password")throw new $l(ss(e),s.status,((t=e.weak_password)===null||t===void 0?void 0:t.reasons)||[])}else if(typeof e=="object"&&e&&typeof e.weak_password=="object"&&e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.reasons.reduce((r,o)=>r&&typeof o=="string",!0))throw new $l(ss(e),s.status,e.weak_password.reasons);throw new Hb(ss(e),s.status||500,i)}const Gb=(s,t,e,i)=>{const n={method:s,headers:(t==null?void 0:t.headers)||{}};return s==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),n.body=JSON.stringify(i),Object.assign(Object.assign({},n),e))};async function q(s,t,e,i){var n;const r=Object.assign({},i==null?void 0:i.headers);r[ao]||(r[ao]=Hh["2024-01-01"].name),i!=null&&i.jwt&&(r.Authorization=`Bearer ${i.jwt}`);const o=(n=i==null?void 0:i.query)!==null&&n!==void 0?n:{};i!=null&&i.redirectTo&&(o.redirect_to=i.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await Zb(s,t,e+a,{headers:r,noResolveJson:i==null?void 0:i.noResolveJson},{},i==null?void 0:i.body);return i!=null&&i.xform?i==null?void 0:i.xform(l):{data:Object.assign({},l),error:null}}async function Zb(s,t,e,i,n,r){const o=Gb(t,i,n,r);let a;try{a=await s(e,Object.assign({},o))}catch(l){throw console.error(l),new lo(ss(l),0)}if(a.ok||await Fl(a),i!=null&&i.noResolveJson)return a;try{return await a.json()}catch(l){await Fl(l)}}function Ae(s){var t;let e=null;Qb(s)&&(e=Object.assign({},s),s.expires_at||(e.expires_at=Ab(s.expires_in)));const i=(t=s.user)!==null&&t!==void 0?t:s;return{data:{session:e,user:i},error:null}}function jl(s){const t=Ae(s);return!t.error&&s.weak_password&&typeof s.weak_password=="object"&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.message&&typeof s.weak_password.message=="string"&&s.weak_password.reasons.reduce((e,i)=>e&&typeof i=="string",!0)&&(t.data.weak_password=s.weak_password),t}function Re(s){var t;return{data:{user:(t=s.user)!==null&&t!==void 0?t:s},error:null}}function Jb(s){return{data:s,error:null}}function Kb(s){const{action_link:t,email_otp:e,hashed_token:i,redirect_to:n,verification_type:r}=s,o=qb(s,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:e,hashed_token:i,redirect_to:n,verification_type:r},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Xb(s){return s}function Qb(s){return s.access_token&&s.refresh_token&&s.expires_in}var ty=function(s,t){var e={};for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&t.indexOf(i)<0&&(e[i]=s[i]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(s);n<i.length;n++)t.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(s,i[n])&&(e[i[n]]=s[i[n]]);return e};class ey{constructor({url:t="",headers:e={},fetch:i}){this.url=t,this.headers=e,this.fetch=Uh(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,e="global"){try{return await q(this.fetch,"POST",`${this.url}/logout?scope=${e}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(i){if(W(i))return{data:null,error:i};throw i}}async inviteUserByEmail(t,e={}){try{return await q(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:e.data},headers:this.headers,redirectTo:e.redirectTo,xform:Re})}catch(i){if(W(i))return{data:{user:null},error:i};throw i}}async generateLink(t){try{const{options:e}=t,i=ty(t,["options"]),n=Object.assign(Object.assign({},i),e);return"newEmail"in i&&(n.new_email=i==null?void 0:i.newEmail,delete n.newEmail),await q(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:Kb,redirectTo:e==null?void 0:e.redirectTo})}catch(e){if(W(e))return{data:{properties:null,user:null},error:e};throw e}}async createUser(t){try{return await q(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Re})}catch(e){if(W(e))return{data:{user:null},error:e};throw e}}async listUsers(t){var e,i,n,r,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},h=await q(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(e=t==null?void 0:t.page)===null||e===void 0?void 0:e.toString())!==null&&i!==void 0?i:"",per_page:(r=(n=t==null?void 0:t.perPage)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:""},xform:Xb});if(h.error)throw h.error;const u=await h.json(),d=(o=h.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(l=(a=h.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(g=>{const m=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),p=JSON.parse(g.split(";")[1].split("=")[1]);c[`${p}Page`]=m}),c.total=parseInt(d)),{data:Object.assign(Object.assign({},u),c),error:null}}catch(c){if(W(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){try{return await q(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Re})}catch(e){if(W(e))return{data:{user:null},error:e};throw e}}async updateUserById(t,e){try{return await q(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:e,headers:this.headers,xform:Re})}catch(i){if(W(i))return{data:{user:null},error:i};throw i}}async deleteUser(t,e=!1){try{return await q(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:e},xform:Re})}catch(i){if(W(i))return{data:{user:null},error:i};throw i}}async _listFactors(t){try{const{data:e,error:i}=await q(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:e,error:i}}catch(e){if(W(e))return{data:null,error:e};throw e}}async _deleteFactor(t){try{return{data:await q(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(e){if(W(e))return{data:null,error:e};throw e}}}const sy={getItem:s=>wi()?globalThis.localStorage.getItem(s):null,setItem:(s,t)=>{wi()&&globalThis.localStorage.setItem(s,t)},removeItem:s=>{wi()&&globalThis.localStorage.removeItem(s)}};function zl(s={}){return{getItem:t=>s[t]||null,setItem:(t,e)=>{s[t]=e},removeItem:t=>{delete s[t]}}}function iy(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const ks={debug:!!(globalThis&&wi()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Gh extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class ny extends Gh{}async function ry(s,t,e){ks.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",s,t);const i=new globalThis.AbortController;return t>0&&setTimeout(()=>{i.abort(),ks.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",s)},t),await globalThis.navigator.locks.request(s,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async n=>{if(n){ks.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",s,n.name);try{return await e()}finally{ks.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",s,n.name)}}else{if(t===0)throw ks.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",s),new ny(`Acquiring an exclusive Navigator LockManager lock "${s}" immediately failed`);if(ks.debug)try{const r=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(r,null,"  "))}catch(r){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",r)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await e()}})}iy();const oy={url:Eb,storageKey:Cb,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Db,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},ni=30*1e3,Vl=3;async function Wl(s,t,e){return await e()}class Ii{constructor(t){var e,i;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ii.nextInstanceID,Ii.nextInstanceID+=1,this.instanceID>0&&ee()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},oy),t);if(this.logDebugMessages=!!n.debug,typeof n.debug=="function"&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new ey({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=Uh(n.fetch),this.lock=n.lock||Wl,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:ee()&&(!((e=globalThis==null?void 0:globalThis.navigator)===null||e===void 0)&&e.locks)?this.lock=ry:this.lock=Wl,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?n.storage?this.storage=n.storage:wi()?this.storage=sy:(this.memoryStorage={},this.storage=zl(this.memoryStorage)):(this.memoryStorage={},this.storage=zl(this.memoryStorage)),ee()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(r){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",r)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async r=>{this._debug("received broadcast notification from other tab or client",r),await this._notifyAllSubscribers(r.data.event,r.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Bh}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){try{const t=ee()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",t),t||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:e,error:i}=await this._getSessionFromURL(t);if(i)return this._debug("#_initialize()","error detecting session from URL",i),(i==null?void 0:i.message)==="Identity is already linked"||(i==null?void 0:i.message)==="Identity is already linked to another user"?{error:i}:(await this._removeSession(),{error:i});const{session:n,redirectType:r}=e;return this._debug("#_initialize()","detected session in URL",n,"redirect type",r),await this._saveSession(n),setTimeout(async()=>{r==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",n):await this._notifyAllSubscribers("SIGNED_IN",n)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return W(t)?{error:t}:{error:new Yh("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var e,i,n;try{await this._removeSession();const r=await q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(e=t==null?void 0:t.options)===null||e===void 0?void 0:e.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.captchaToken}},xform:Ae}),{data:o,error:a}=r;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(r){if(W(r))return{data:{user:null,session:null},error:r};throw r}}async signUp(t){var e,i,n;try{await this._removeSession();let r;if("email"in t){const{email:h,password:u,options:d}=t;let f=null,g=null;this.flowType==="pkce"&&([f,g]=await xs(this.storage,this.storageKey)),r=await q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:d==null?void 0:d.emailRedirectTo,body:{email:h,password:u,data:(e=d==null?void 0:d.data)!==null&&e!==void 0?e:{},gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:f,code_challenge_method:g},xform:Ae})}else if("phone"in t){const{phone:h,password:u,options:d}=t;r=await q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:u,data:(i=d==null?void 0:d.data)!==null&&i!==void 0?i:{},channel:(n=d==null?void 0:d.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:Ae})}else throw new cn("You must provide either an email or phone number and a password");const{data:o,error:a}=r;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(r){if(W(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithPassword(t){try{await this._removeSession();let e;if("email"in t){const{email:r,password:o,options:a}=t;e=await q(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:r,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:jl})}else if("phone"in t){const{phone:r,password:o,options:a}=t;e=await q(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:r,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:jl})}else throw new cn("You must provide either an email or phone number and a password");const{data:i,error:n}=e;return n?{data:{user:null,session:null},error:n}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new Mr}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:n})}catch(e){if(W(e))return{data:{user:null,session:null},error:e};throw e}}async signInWithOAuth(t){var e,i,n,r;return await this._removeSession(),await this._handleProviderSignIn(t.provider,{redirectTo:(e=t.options)===null||e===void 0?void 0:e.redirectTo,scopes:(i=t.options)===null||i===void 0?void 0:i.scopes,queryParams:(n=t.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(r=t.options)===null||r===void 0?void 0:r.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const e=await ln(this.storage,`${this.storageKey}-code-verifier`),[i,n]=(e??"").split("/"),{data:r,error:o}=await q(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:i},xform:Ae});return await Tr(this.storage,`${this.storageKey}-code-verifier`),o?{data:{user:null,session:null,redirectType:null},error:o}:!r||!r.session||!r.user?{data:{user:null,session:null,redirectType:null},error:new Mr}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign(Object.assign({},r),{redirectType:n??null}),error:o})}async signInWithIdToken(t){await this._removeSession();try{const{options:e,provider:i,token:n,access_token:r,nonce:o}=t,a=await q(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:n,access_token:r,nonce:o,gotrue_meta_security:{captcha_token:e==null?void 0:e.captchaToken}},xform:Ae}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Mr}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(e){if(W(e))return{data:{user:null,session:null},error:e};throw e}}async signInWithOtp(t){var e,i,n,r,o;try{if(await this._removeSession(),"email"in t){const{email:a,options:l}=t;let c=null,h=null;this.flowType==="pkce"&&([c,h]=await xs(this.storage,this.storageKey));const{error:u}=await q(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(e=l==null?void 0:l.data)!==null&&e!==void 0?e:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:h},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:u}}if("phone"in t){const{phone:a,options:l}=t,{data:c,error:h}=await q(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:h}}throw new cn("You must provide either an email or phone number.")}catch(a){if(W(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var e,i;try{t.type!=="email_change"&&t.type!=="phone_change"&&await this._removeSession();let n,r;"options"in t&&(n=(e=t.options)===null||e===void 0?void 0:e.redirectTo,r=(i=t.options)===null||i===void 0?void 0:i.captchaToken);const{data:o,error:a}=await q(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:r}}),redirectTo:n,xform:Ae});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(n){if(W(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithSSO(t){var e,i,n;try{await this._removeSession();let r=null,o=null;return this.flowType==="pkce"&&([r,o]=await xs(this.storage,this.storageKey)),await q(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(i=(e=t.options)===null||e===void 0?void 0:e.redirectTo)!==null&&i!==void 0?i:void 0}),!((n=t==null?void 0:t.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:r,code_challenge_method:o}),headers:this.headers,xform:Jb})}catch(r){if(W(r))return{data:null,error:r};throw r}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:e},error:i}=t;if(i)throw i;if(!e)throw new Ke;const{error:n}=await q(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:e.access_token});return{data:{user:null,session:null},error:n}})}catch(t){if(W(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{t.type!="email_change"&&t.type!="phone_change"&&await this._removeSession();const e=`${this.url}/resend`;if("email"in t){const{email:i,type:n,options:r}=t,{error:o}=await q(this.fetch,"POST",e,{headers:this.headers,body:{email:i,type:n,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},redirectTo:r==null?void 0:r.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:i,type:n,options:r}=t,{data:o,error:a}=await q(this.fetch,"POST",e,{headers:this.headers,body:{phone:i,type:n,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new cn("You must provide either an email or phone number and a type")}catch(e){if(W(e))return{data:{user:null,session:null},error:e};throw e}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async e=>e))}async _acquireLock(t,e){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await i,await e()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=e();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const n=[...this.pendingInLock];await Promise.all(n),this.pendingInLock.splice(0,n.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const e=await this.__loadSession();return await t(e)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const e=await ln(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",e),e!==null&&(this._isValidSession(e)?t=e:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const i=t.expires_at?t.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",t.expires_at),!i){if(this.storage.isServer){const o=this.suppressGetSessionWarning;t=new Proxy(t,{get(l,c,h){return!o&&c==="user"&&console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and many not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),Reflect.get(l,c,h)}})}return{data:{session:t},error:null}}const{session:n,error:r}=await this._callRefreshToken(t.refresh_token);return r?{data:{session:null},error:r}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await q(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Re}):await this._useSession(async e=>{var i,n,r;const{data:o,error:a}=e;if(a)throw a;return!(!((i=o.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ke}:await q(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(r=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&r!==void 0?r:void 0,xform:Re})})}catch(e){if(W(e))return{data:{user:null},error:e};throw e}}async updateUser(t,e={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,e))}async _updateUser(t,e={}){try{return await this._useSession(async i=>{const{data:n,error:r}=i;if(r)throw r;if(!n.session)throw new Ke;const o=n.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await xs(this.storage,this.storageKey));const{data:c,error:h}=await q(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:e==null?void 0:e.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Re});if(h)throw h;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(i){if(W(i))return{data:{user:null},error:i};throw i}}_decodeJWT(t){return Ll(t)}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ke;const e=Date.now()/1e3;let i=e,n=!0,r=null;const o=Ll(t.access_token);if(o.exp&&(i=o.exp,n=i<=e),n){const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};r=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;r={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:i-e,expires_at:i},await this._saveSession(r),await this._notifyAllSubscribers("SIGNED_IN",r)}return{data:{user:r.user,session:r},error:null}}catch(e){if(W(e))return{data:{session:null,user:null},error:e};throw e}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async e=>{var i;if(!t){const{data:o,error:a}=e;if(a)throw a;t=(i=o.session)!==null&&i!==void 0?i:void 0}if(!(t!=null&&t.refresh_token))throw new Ke;const{session:n,error:r}=await this._callRefreshToken(t.refresh_token);return r?{data:{user:null,session:null},error:r}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}})}catch(e){if(W(e))return{data:{user:null,session:null},error:e};throw e}}async _getSessionFromURL(t){try{if(!ee())throw new hn("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new hn("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!t)throw new Nl("Not a valid PKCE flow url.");const e=Or(window.location.href);if(t){if(!e.code)throw new Nl("No code detected.");const{data:b,error:w}=await this._exchangeCodeForSession(e.code);if(w)throw w;const v=new URL(window.location.href);return v.searchParams.delete("code"),window.history.replaceState(window.history.state,"",v.toString()),{data:{session:b.session,redirectType:null},error:null}}if(e.error||e.error_description||e.error_code)throw new hn(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});const{provider_token:i,provider_refresh_token:n,access_token:r,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=e;if(!r||!a||!o||!c)throw new hn("No session defined in URL");const h=Math.round(Date.now()/1e3),u=parseInt(a);let d=h+u;l&&(d=parseInt(l));const f=d-h;f*1e3<=ni&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${u}s`);const g=d-u;h-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,d,h):h-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clok for skew",g,d,h);const{data:m,error:p}=await this._getUser(r);if(p)throw p;const _={provider_token:i,provider_refresh_token:n,access_token:r,expires_in:u,expires_at:d,refresh_token:o,token_type:c,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:_,redirectType:e.type},error:null}}catch(e){if(W(e))return{data:{session:null,redirectType:null},error:e};throw e}}_isImplicitGrantFlow(){const t=Or(window.location.href);return!!(ee()&&(t.access_token||t.error_description))}async _isPKCEFlow(){const t=Or(window.location.href),e=await ln(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&e)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async e=>{var i;const{data:n,error:r}=e;if(r)return{error:r};const o=(i=n.session)===null||i===void 0?void 0:i.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(Ub(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await Tr(this.storage,`${this.storageKey}-code-verifier`),await this._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}})}onAuthStateChange(t){const e=Pb(),i={id:e,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",e),this.stateChangeEmitters.delete(e)}};return this._debug("#onAuthStateChange()","registered callback with id",e),this.stateChangeEmitters.set(e,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(e)})))(),{data:{subscription:i}}}async _emitInitialSession(t){return await this._useSession(async e=>{var i,n;try{const{data:{session:r},error:o}=e;if(o)throw o;await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",r)),this._debug("INITIAL_SESSION","callback id",t,"session",r)}catch(r){await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",r),console.error(r)}})}async resetPasswordForEmail(t,e={}){let i=null,n=null;this.flowType==="pkce"&&([i,n]=await xs(this.storage,this.storageKey,!0));try{return await q(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:i,code_challenge_method:n,gotrue_meta_security:{captcha_token:e.captchaToken}},headers:this.headers,redirectTo:e.redirectTo})}catch(r){if(W(r))return{data:null,error:r};throw r}}async getUserIdentities(){var t;try{const{data:e,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(t=e.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(e){if(W(e))return{data:null,error:e};throw e}}async linkIdentity(t){var e;try{const{data:i,error:n}=await this._useSession(async r=>{var o,a,l,c,h;const{data:u,error:d}=r;if(d)throw d;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await q(this.fetch,"GET",f,{headers:this.headers,jwt:(h=(c=u.session)===null||c===void 0?void 0:c.access_token)!==null&&h!==void 0?h:void 0})});if(n)throw n;return ee()&&!(!((e=t.options)===null||e===void 0)&&e.skipBrowserRedirect)&&window.location.assign(i==null?void 0:i.url),{data:{provider:t.provider,url:i==null?void 0:i.url},error:null}}catch(i){if(W(i))return{data:{provider:t.provider,url:null},error:i};throw i}}async unlinkIdentity(t){try{return await this._useSession(async e=>{var i,n;const{data:r,error:o}=e;if(o)throw o;return await q(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(n=(i=r.session)===null||i===void 0?void 0:i.access_token)!==null&&n!==void 0?n:void 0})})}catch(e){if(W(e))return{data:null,error:e};throw e}}async _refreshAccessToken(t){const e=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(e,"begin");try{const i=Date.now();return await Nb(async n=>(n>0&&await Lb(200*Math.pow(2,n-1)),this._debug(e,"refreshing attempt",n),await q(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ae})),(n,r)=>{const o=200*Math.pow(2,n);return r&&Er(r)&&Date.now()+o-i<ni})}catch(i){if(this._debug(e,"error",i),W(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(e,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,e){const i=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:e.redirectTo,scopes:e.scopes,queryParams:e.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",e,"url",i),ee()&&!e.skipBrowserRedirect&&window.location.assign(i),{data:{provider:t,url:i},error:null}}async _recoverAndRefresh(){var t;const e="#_recoverAndRefresh()";this._debug(e,"begin");try{const i=await ln(this.storage,this.storageKey);if(this._debug(e,"session from storage",i),!this._isValidSession(i)){this._debug(e,"session is not valid"),i!==null&&await this._removeSession();return}const n=Math.round(Date.now()/1e3),r=((t=i.expires_at)!==null&&t!==void 0?t:1/0)<n+Rl;if(this._debug(e,`session has${r?"":" not"} expired with margin of ${Rl}s`),r){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),Er(o)||(this._debug(e,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(e,"error",i),console.error(i);return}finally{this._debug(e,"end")}}async _callRefreshToken(t){var e,i;if(!t)throw new Ke;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new sr;const{data:r,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!r.session)throw new Ke;await this._saveSession(r.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",r.session);const a={session:r.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(r){if(this._debug(n,"error",r),W(r)){const o={session:null,error:r};return Er(r)||(await this._removeSession(),await this._notifyAllSubscribers("SIGNED_OUT",null)),(e=this.refreshingDeferred)===null||e===void 0||e.resolve(o),o}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(r),r}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(t,e,i=!0){const n=`#_notifyAllSubscribers(${t})`;this._debug(n,"begin",e,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:t,session:e});const r=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,e)}catch(l){r.push(l)}});if(await Promise.all(o),r.length>0){for(let a=0;a<r.length;a+=1)console.error(r[a]);throw r[0]}}finally{this._debug(n,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await qh(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Tr(this.storage,this.storageKey)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ee()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(e){console.error("removing visibilitychange callback failed",e)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ni);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async e=>{const{data:{session:i}}=e;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((i.expires_at*1e3-t)/ni);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${ni}ms, refresh threshold is ${Vl} ticks`),n<=Vl&&await this._callRefreshToken(i.refresh_token)})}catch(e){console.error("Auto refresh tick failed with error. This is likely a transient error.",e)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Gh)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ee()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const e=`#_onVisibilityChanged(${t})`;this._debug(e,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(e,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,e,i){const n=[`provider=${encodeURIComponent(e)}`];if(i!=null&&i.redirectTo&&n.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i!=null&&i.scopes&&n.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[r,o]=await xs(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(r)}`,code_challenge_method:`${encodeURIComponent(o)}`});n.push(a.toString())}if(i!=null&&i.queryParams){const r=new URLSearchParams(i.queryParams);n.push(r.toString())}return i!=null&&i.skipBrowserRedirect&&n.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${t}?${n.join("&")}`}async _unenroll(t){try{return await this._useSession(async e=>{var i;const{data:n,error:r}=e;return r?{data:null,error:r}:await q(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(i=n==null?void 0:n.session)===null||i===void 0?void 0:i.access_token})})}catch(e){if(W(e))return{data:null,error:e};throw e}}async _enroll(t){try{return await this._useSession(async e=>{var i,n;const{data:r,error:o}=e;if(o)return{data:null,error:o};const{data:a,error:l}=await q(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:t.friendlyName,factor_type:t.factorType,issuer:t.issuer},headers:this.headers,jwt:(i=r==null?void 0:r.session)===null||i===void 0?void 0:i.access_token});return l?{data:null,error:l}:(!((n=a==null?void 0:a.totp)===null||n===void 0)&&n.qr_code&&(a.totp.qr_code=`data:image/svg+xml;utf-8,${a.totp.qr_code}`),{data:a,error:null})})}catch(e){if(W(e))return{data:null,error:e};throw e}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async e=>{var i;const{data:n,error:r}=e;if(r)return{data:null,error:r};const{data:o,error:a}=await q(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(i=n==null?void 0:n.session)===null||i===void 0?void 0:i.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(e){if(W(e))return{data:null,error:e};throw e}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async e=>{var i;const{data:n,error:r}=e;return r?{data:null,error:r}:await q(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{headers:this.headers,jwt:(i=n==null?void 0:n.session)===null||i===void 0?void 0:i.access_token})})}catch(e){if(W(e))return{data:null,error:e};throw e}})}async _challengeAndVerify(t){const{data:e,error:i}=await this._challenge({factorId:t.factorId});return i?{data:null,error:i}:await this._verify({factorId:t.factorId,challengeId:e.id,code:t.code})}async _listFactors(){const{data:{user:t},error:e}=await this.getUser();if(e)return{data:null,error:e};const i=(t==null?void 0:t.factors)||[],n=i.filter(r=>r.factor_type==="totp"&&r.status==="verified");return{data:{all:i,totp:n},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var e,i;const{data:{session:n},error:r}=t;if(r)return{data:null,error:r};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(n.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((i=(e=n.user.factors)===null||e===void 0?void 0:e.filter(u=>u.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(l="aal2");const h=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:h},error:null}}))}}Ii.nextInstanceID=0;const ay=Ii;class ly extends ay{constructor(t){super(t)}}var cy=function(s,t,e,i){function n(r){return r instanceof e?r:new e(function(o){o(r)})}return new(e||(e=Promise))(function(r,o){function a(h){try{c(i.next(h))}catch(u){o(u)}}function l(h){try{c(i.throw(h))}catch(u){o(u)}}function c(h){h.done?r(h.value):n(h.value).then(a,l)}c((i=i.apply(s,t||[])).next())})};class hy{constructor(t,e,i){var n,r,o,a,l,c,h,u;if(this.supabaseUrl=t,this.supabaseKey=e,!t)throw new Error("supabaseUrl is required.");if(!e)throw new Error("supabaseKey is required.");const d=Tb(t);this.realtimeUrl=`${d}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${d}/auth/v1`,this.storageUrl=`${d}/storage/v1`,this.functionsUrl=`${d}/functions/v1`;const f=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,g={db:yb,realtime:wb,auth:Object.assign(Object.assign({},vb),{storageKey:f}),global:bb},m=Mb(i??{},g);this.storageKey=(r=(n=m.auth)===null||n===void 0?void 0:n.storageKey)!==null&&r!==void 0?r:"",this.headers=(a=(o=m.global)===null||o===void 0?void 0:o.headers)!==null&&a!==void 0?a:{},this.auth=this._initSupabaseAuthClient((l=m.auth)!==null&&l!==void 0?l:{},this.headers,(c=m.global)===null||c===void 0?void 0:c.fetch),this.fetch=Ob(e,this._getAccessToken.bind(this),(h=m.global)===null||h===void 0?void 0:h.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},m.realtime)),this.rest=new jo(`${d}/rest/v1`,{headers:this.headers,schema:(u=m.db)===null||u===void 0?void 0:u.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new P_(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new mb(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},i={}){return this.rest.rpc(t,e,i)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,e;return cy(this,void 0,void 0,function*(){const{data:i}=yield this.auth.getSession();return(e=(t=i.session)===null||t===void 0?void 0:t.access_token)!==null&&e!==void 0?e:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:i,storage:n,storageKey:r,flowType:o,debug:a},l,c){var h;const u={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ly({url:this.authUrl,headers:Object.assign(Object.assign({},u),l),storageKey:r,autoRefreshToken:t,persistSession:e,detectSessionInUrl:i,storage:n,flowType:o,debug:a,fetch:c,hasCustomAuthorizationHeader:(h="Authorization"in this.headers)!==null&&h!==void 0?h:!1})}_initRealtimeClient(t){return new sb(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,i)=>{this._handleTokenChanged(e,"CLIENT",i==null?void 0:i.access_token)})}_handleTokenChanged(t,e,i){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==i?(this.realtime.setAuth(i??null),this.changedAccessToken=i):t==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const uy=(s,t,e)=>new hy(s,t,e),dy="https://qipnvyttafkjlwfkolsq.supabase.co",fy="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFpcG52eXR0YWZramx3ZmtvbHNxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTIwNTc5NzksImV4cCI6MjAyNzYzMzk3OX0.8D2UoQHC89N9KQDej-5v1N13n6mCSjP0WiO_xs2Vh34",Xt=uy(dy,fy);let Kt,Vi=ji(),ir=ji();async function gy(){let{data:s,error:t}=await Xt.auth.getUser();if(t)return console.log("Not logged in!"),!1;if(s.user&&s.user.email)return console.log(s),Kt=s.user,Vi.set(s.user.id),ir.set(s.user.email),!0}async function my(s){Kt=s.detail}class ps extends Error{}class py extends ps{constructor(t){super(`Invalid DateTime: ${t.toMessage()}`)}}class _y extends ps{constructor(t){super(`Invalid Interval: ${t.toMessage()}`)}}class by extends ps{constructor(t){super(`Invalid Duration: ${t.toMessage()}`)}}class Cs extends ps{}class Zh extends ps{constructor(t){super(`Invalid unit ${t}`)}}class jt extends ps{}class Ce extends ps{constructor(){super("Zone is an abstract class")}}const C="numeric",ae="short",Ht="long",Vn={year:C,month:C,day:C},Jh={year:C,month:ae,day:C},yy={year:C,month:ae,day:C,weekday:ae},Kh={year:C,month:Ht,day:C},Xh={year:C,month:Ht,day:C,weekday:Ht},Qh={hour:C,minute:C},tu={hour:C,minute:C,second:C},eu={hour:C,minute:C,second:C,timeZoneName:ae},su={hour:C,minute:C,second:C,timeZoneName:Ht},iu={hour:C,minute:C,hourCycle:"h23"},nu={hour:C,minute:C,second:C,hourCycle:"h23"},ru={hour:C,minute:C,second:C,hourCycle:"h23",timeZoneName:ae},ou={hour:C,minute:C,second:C,hourCycle:"h23",timeZoneName:Ht},au={year:C,month:C,day:C,hour:C,minute:C},lu={year:C,month:C,day:C,hour:C,minute:C,second:C},cu={year:C,month:ae,day:C,hour:C,minute:C},hu={year:C,month:ae,day:C,hour:C,minute:C,second:C},vy={year:C,month:ae,day:C,weekday:ae,hour:C,minute:C},uu={year:C,month:Ht,day:C,hour:C,minute:C,timeZoneName:ae},du={year:C,month:Ht,day:C,hour:C,minute:C,second:C,timeZoneName:ae},fu={year:C,month:Ht,day:C,weekday:Ht,hour:C,minute:C,timeZoneName:Ht},gu={year:C,month:Ht,day:C,weekday:Ht,hour:C,minute:C,second:C,timeZoneName:Ht};class Wi{get type(){throw new Ce}get name(){throw new Ce}get ianaName(){return this.name}get isUniversal(){throw new Ce}offsetName(t,e){throw new Ce}formatOffset(t,e){throw new Ce}offset(t){throw new Ce}equals(t){throw new Ce}get isValid(){throw new Ce}}let Cr=null;class nr extends Wi{static get instance(){return Cr===null&&(Cr=new nr),Cr}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(t,{format:e,locale:i}){return ku(t,e,i)}formatOffset(t,e){return xi(this.offset(t),e)}offset(t){return-new Date(t).getTimezoneOffset()}equals(t){return t.type==="system"}get isValid(){return!0}}let En={};function wy(s){return En[s]||(En[s]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:s,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),En[s]}const xy={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function ky(s,t){const e=s.format(t).replace(/\u200E/g,""),i=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(e),[,n,r,o,a,l,c,h]=i;return[o,n,r,a,l,c,h]}function Sy(s,t){const e=s.formatToParts(t),i=[];for(let n=0;n<e.length;n++){const{type:r,value:o}=e[n],a=xy[r];r==="era"?i[a]=o:$(a)||(i[a]=parseInt(o,10))}return i}let un={};class Te extends Wi{static create(t){return un[t]||(un[t]=new Te(t)),un[t]}static resetCache(){un={},En={}}static isValidSpecifier(t){return this.isValidZone(t)}static isValidZone(t){if(!t)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:t}).format(),!0}catch{return!1}}constructor(t){super(),this.zoneName=t,this.valid=Te.isValidZone(t)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(t,{format:e,locale:i}){return ku(t,e,i,this.name)}formatOffset(t,e){return xi(this.offset(t),e)}offset(t){const e=new Date(t);if(isNaN(e))return NaN;const i=wy(this.name);let[n,r,o,a,l,c,h]=i.formatToParts?Sy(i,e):ky(i,e);a==="BC"&&(n=-Math.abs(n)+1);const d=or({year:n,month:r,day:o,hour:l===24?0:l,minute:c,second:h,millisecond:0});let f=+e;const g=f%1e3;return f-=g>=0?g:1e3+g,(d-f)/(60*1e3)}equals(t){return t.type==="iana"&&t.name===this.name}get isValid(){return this.valid}}let Bl={};function Oy(s,t={}){const e=JSON.stringify([s,t]);let i=Bl[e];return i||(i=new Intl.ListFormat(s,t),Bl[e]=i),i}let co={};function ho(s,t={}){const e=JSON.stringify([s,t]);let i=co[e];return i||(i=new Intl.DateTimeFormat(s,t),co[e]=i),i}let uo={};function Ty(s,t={}){const e=JSON.stringify([s,t]);let i=uo[e];return i||(i=new Intl.NumberFormat(s,t),uo[e]=i),i}let fo={};function My(s,t={}){const{base:e,...i}=t,n=JSON.stringify([s,i]);let r=fo[n];return r||(r=new Intl.RelativeTimeFormat(s,t),fo[n]=r),r}let gi=null;function Ey(){return gi||(gi=new Intl.DateTimeFormat().resolvedOptions().locale,gi)}let Hl={};function Cy(s){let t=Hl[s];if(!t){const e=new Intl.Locale(s);t="getWeekInfo"in e?e.getWeekInfo():e.weekInfo,Hl[s]=t}return t}function Dy(s){const t=s.indexOf("-x-");t!==-1&&(s=s.substring(0,t));const e=s.indexOf("-u-");if(e===-1)return[s];{let i,n;try{i=ho(s).resolvedOptions(),n=s}catch{const l=s.substring(0,e);i=ho(l).resolvedOptions(),n=l}const{numberingSystem:r,calendar:o}=i;return[n,r,o]}}function Ay(s,t,e){return(e||t)&&(s.includes("-u-")||(s+="-u"),e&&(s+=`-ca-${e}`),t&&(s+=`-nu-${t}`)),s}function Py(s){const t=[];for(let e=1;e<=12;e++){const i=R.utc(2009,e,1);t.push(s(i))}return t}function Iy(s){const t=[];for(let e=1;e<=7;e++){const i=R.utc(2016,11,13+e);t.push(s(i))}return t}function dn(s,t,e,i){const n=s.listingMode();return n==="error"?null:n==="en"?e(t):i(t)}function Ry(s){return s.numberingSystem&&s.numberingSystem!=="latn"?!1:s.numberingSystem==="latn"||!s.locale||s.locale.startsWith("en")||new Intl.DateTimeFormat(s.intl).resolvedOptions().numberingSystem==="latn"}class Ly{constructor(t,e,i){this.padTo=i.padTo||0,this.floor=i.floor||!1;const{padTo:n,floor:r,...o}=i;if(!e||Object.keys(o).length>0){const a={useGrouping:!1,...i};i.padTo>0&&(a.minimumIntegerDigits=i.padTo),this.inf=Ty(t,a)}}format(t){if(this.inf){const e=this.floor?Math.floor(t):t;return this.inf.format(e)}else{const e=this.floor?Math.floor(t):qo(t,3);return vt(e,this.padTo)}}}class Ny{constructor(t,e,i){this.opts=i,this.originalZone=void 0;let n;if(this.opts.timeZone)this.dt=t;else if(t.zone.type==="fixed"){const o=-1*(t.offset/60),a=o>=0?`Etc/GMT+${o}`:`Etc/GMT${o}`;t.offset!==0&&Te.create(a).valid?(n=a,this.dt=t):(n="UTC",this.dt=t.offset===0?t:t.setZone("UTC").plus({minutes:t.offset}),this.originalZone=t.zone)}else t.zone.type==="system"?this.dt=t:t.zone.type==="iana"?(this.dt=t,n=t.zone.name):(n="UTC",this.dt=t.setZone("UTC").plus({minutes:t.offset}),this.originalZone=t.zone);const r={...this.opts};r.timeZone=r.timeZone||n,this.dtf=ho(e,r)}format(){return this.originalZone?this.formatToParts().map(({value:t})=>t).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const t=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?t.map(e=>{if(e.type==="timeZoneName"){const i=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...e,value:i}}else return e}):t}resolvedOptions(){return this.dtf.resolvedOptions()}}class $y{constructor(t,e,i){this.opts={style:"long",...i},!e&&wu()&&(this.rtf=My(t,i))}format(t,e){return this.rtf?this.rtf.format(t,e):i0(e,t,this.opts.numeric,this.opts.style!=="long")}formatToParts(t,e){return this.rtf?this.rtf.formatToParts(t,e):[]}}const Fy={firstDay:1,minimalDays:4,weekend:[6,7]};class et{static fromOpts(t){return et.create(t.locale,t.numberingSystem,t.outputCalendar,t.weekSettings,t.defaultToEN)}static create(t,e,i,n,r=!1){const o=t||_t.defaultLocale,a=o||(r?"en-US":Ey()),l=e||_t.defaultNumberingSystem,c=i||_t.defaultOutputCalendar,h=go(n)||_t.defaultWeekSettings;return new et(a,l,c,h,o)}static resetCache(){gi=null,co={},uo={},fo={}}static fromObject({locale:t,numberingSystem:e,outputCalendar:i,weekSettings:n}={}){return et.create(t,e,i,n)}constructor(t,e,i,n,r){const[o,a,l]=Dy(t);this.locale=o,this.numberingSystem=e||a||null,this.outputCalendar=i||l||null,this.weekSettings=n,this.intl=Ay(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=r,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=Ry(this)),this.fastNumbersCached}listingMode(){const t=this.isEnglish(),e=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return t&&e?"en":"intl"}clone(t){return!t||Object.getOwnPropertyNames(t).length===0?this:et.create(t.locale||this.specifiedLocale,t.numberingSystem||this.numberingSystem,t.outputCalendar||this.outputCalendar,go(t.weekSettings)||this.weekSettings,t.defaultToEN||!1)}redefaultToEN(t={}){return this.clone({...t,defaultToEN:!0})}redefaultToSystem(t={}){return this.clone({...t,defaultToEN:!1})}months(t,e=!1){return dn(this,t,Tu,()=>{const i=e?{month:t,day:"numeric"}:{month:t},n=e?"format":"standalone";return this.monthsCache[n][t]||(this.monthsCache[n][t]=Py(r=>this.extract(r,i,"month"))),this.monthsCache[n][t]})}weekdays(t,e=!1){return dn(this,t,Cu,()=>{const i=e?{weekday:t,year:"numeric",month:"long",day:"numeric"}:{weekday:t},n=e?"format":"standalone";return this.weekdaysCache[n][t]||(this.weekdaysCache[n][t]=Iy(r=>this.extract(r,i,"weekday"))),this.weekdaysCache[n][t]})}meridiems(){return dn(this,void 0,()=>Du,()=>{if(!this.meridiemCache){const t={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[R.utc(2016,11,13,9),R.utc(2016,11,13,19)].map(e=>this.extract(e,t,"dayperiod"))}return this.meridiemCache})}eras(t){return dn(this,t,Au,()=>{const e={era:t};return this.eraCache[t]||(this.eraCache[t]=[R.utc(-40,1,1),R.utc(2017,1,1)].map(i=>this.extract(i,e,"era"))),this.eraCache[t]})}extract(t,e,i){const n=this.dtFormatter(t,e),r=n.formatToParts(),o=r.find(a=>a.type.toLowerCase()===i);return o?o.value:null}numberFormatter(t={}){return new Ly(this.intl,t.forceSimple||this.fastNumbers,t)}dtFormatter(t,e={}){return new Ny(t,this.intl,e)}relFormatter(t={}){return new $y(this.intl,this.isEnglish(),t)}listFormatter(t={}){return Oy(this.intl,t)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:xu()?Cy(this.locale):Fy}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(t){return this.locale===t.locale&&this.numberingSystem===t.numberingSystem&&this.outputCalendar===t.outputCalendar}}let Dr=null;class Nt extends Wi{static get utcInstance(){return Dr===null&&(Dr=new Nt(0)),Dr}static instance(t){return t===0?Nt.utcInstance:new Nt(t)}static parseSpecifier(t){if(t){const e=t.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(e)return new Nt(ar(e[1],e[2]))}return null}constructor(t){super(),this.fixed=t}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${xi(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${xi(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(t,e){return xi(this.fixed,e)}get isUniversal(){return!0}offset(){return this.fixed}equals(t){return t.type==="fixed"&&t.fixed===this.fixed}get isValid(){return!0}}class jy extends Wi{constructor(t){super(),this.zoneName=t}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function Le(s,t){if($(s)||s===null)return t;if(s instanceof Wi)return s;if(Wy(s)){const e=s.toLowerCase();return e==="default"?t:e==="local"||e==="system"?nr.instance:e==="utc"||e==="gmt"?Nt.utcInstance:Nt.parseSpecifier(e)||Te.create(s)}else return ls(s)?Nt.instance(s):typeof s=="object"&&"offset"in s&&typeof s.offset=="function"?s:new jy(s)}let Ul=()=>Date.now(),ql="system",Yl=null,Gl=null,Zl=null,Jl=60,Kl,Xl=null;class _t{static get now(){return Ul}static set now(t){Ul=t}static set defaultZone(t){ql=t}static get defaultZone(){return Le(ql,nr.instance)}static get defaultLocale(){return Yl}static set defaultLocale(t){Yl=t}static get defaultNumberingSystem(){return Gl}static set defaultNumberingSystem(t){Gl=t}static get defaultOutputCalendar(){return Zl}static set defaultOutputCalendar(t){Zl=t}static get defaultWeekSettings(){return Xl}static set defaultWeekSettings(t){Xl=go(t)}static get twoDigitCutoffYear(){return Jl}static set twoDigitCutoffYear(t){Jl=t%100}static get throwOnInvalid(){return Kl}static set throwOnInvalid(t){Kl=t}static resetCaches(){et.resetCache(),Te.resetCache()}}class ne{constructor(t,e){this.reason=t,this.explanation=e}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const mu=[0,31,59,90,120,151,181,212,243,273,304,334],pu=[0,31,60,91,121,152,182,213,244,274,305,335];function Zt(s,t){return new ne("unit out of range",`you specified ${t} (of type ${typeof t}) as a ${s}, which is invalid`)}function Bo(s,t,e){const i=new Date(Date.UTC(s,t-1,e));s<100&&s>=0&&i.setUTCFullYear(i.getUTCFullYear()-1900);const n=i.getUTCDay();return n===0?7:n}function _u(s,t,e){return e+(Bi(s)?pu:mu)[t-1]}function bu(s,t){const e=Bi(s)?pu:mu,i=e.findIndex(r=>r<t),n=t-e[i];return{month:i+1,day:n}}function Ho(s,t){return(s-t+7)%7+1}function Wn(s,t=4,e=1){const{year:i,month:n,day:r}=s,o=_u(i,n,r),a=Ho(Bo(i,n,r),e);let l=Math.floor((o-a+14-t)/7),c;return l<1?(c=i-1,l=Ri(c,t,e)):l>Ri(i,t,e)?(c=i+1,l=1):c=i,{weekYear:c,weekNumber:l,weekday:a,...lr(s)}}function Ql(s,t=4,e=1){const{weekYear:i,weekNumber:n,weekday:r}=s,o=Ho(Bo(i,1,t),e),a=Ls(i);let l=n*7+r-o-7+t,c;l<1?(c=i-1,l+=Ls(c)):l>a?(c=i+1,l-=Ls(i)):c=i;const{month:h,day:u}=bu(c,l);return{year:c,month:h,day:u,...lr(s)}}function Ar(s){const{year:t,month:e,day:i}=s,n=_u(t,e,i);return{year:t,ordinal:n,...lr(s)}}function tc(s){const{year:t,ordinal:e}=s,{month:i,day:n}=bu(t,e);return{year:t,month:i,day:n,...lr(s)}}function ec(s,t){if(!$(s.localWeekday)||!$(s.localWeekNumber)||!$(s.localWeekYear)){if(!$(s.weekday)||!$(s.weekNumber)||!$(s.weekYear))throw new Cs("Cannot mix locale-based week fields with ISO-based week fields");return $(s.localWeekday)||(s.weekday=s.localWeekday),$(s.localWeekNumber)||(s.weekNumber=s.localWeekNumber),$(s.localWeekYear)||(s.weekYear=s.localWeekYear),delete s.localWeekday,delete s.localWeekNumber,delete s.localWeekYear,{minDaysInFirstWeek:t.getMinDaysInFirstWeek(),startOfWeek:t.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function zy(s,t=4,e=1){const i=rr(s.weekYear),n=Jt(s.weekNumber,1,Ri(s.weekYear,t,e)),r=Jt(s.weekday,1,7);return i?n?r?!1:Zt("weekday",s.weekday):Zt("week",s.weekNumber):Zt("weekYear",s.weekYear)}function Vy(s){const t=rr(s.year),e=Jt(s.ordinal,1,Ls(s.year));return t?e?!1:Zt("ordinal",s.ordinal):Zt("year",s.year)}function yu(s){const t=rr(s.year),e=Jt(s.month,1,12),i=Jt(s.day,1,Bn(s.year,s.month));return t?e?i?!1:Zt("day",s.day):Zt("month",s.month):Zt("year",s.year)}function vu(s){const{hour:t,minute:e,second:i,millisecond:n}=s,r=Jt(t,0,23)||t===24&&e===0&&i===0&&n===0,o=Jt(e,0,59),a=Jt(i,0,59),l=Jt(n,0,999);return r?o?a?l?!1:Zt("millisecond",n):Zt("second",i):Zt("minute",e):Zt("hour",t)}function $(s){return typeof s>"u"}function ls(s){return typeof s=="number"}function rr(s){return typeof s=="number"&&s%1===0}function Wy(s){return typeof s=="string"}function By(s){return Object.prototype.toString.call(s)==="[object Date]"}function wu(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function xu(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function Hy(s){return Array.isArray(s)?s:[s]}function sc(s,t,e){if(s.length!==0)return s.reduce((i,n)=>{const r=[t(n),n];return i&&e(i[0],r[0])===i[0]?i:r},null)[1]}function Uy(s,t){return t.reduce((e,i)=>(e[i]=s[i],e),{})}function Bs(s,t){return Object.prototype.hasOwnProperty.call(s,t)}function go(s){if(s==null)return null;if(typeof s!="object")throw new jt("Week settings must be an object");if(!Jt(s.firstDay,1,7)||!Jt(s.minimalDays,1,7)||!Array.isArray(s.weekend)||s.weekend.some(t=>!Jt(t,1,7)))throw new jt("Invalid week settings");return{firstDay:s.firstDay,minimalDays:s.minimalDays,weekend:Array.from(s.weekend)}}function Jt(s,t,e){return rr(s)&&s>=t&&s<=e}function qy(s,t){return s-t*Math.floor(s/t)}function vt(s,t=2){const e=s<0;let i;return e?i="-"+(""+-s).padStart(t,"0"):i=(""+s).padStart(t,"0"),i}function Ie(s){if(!($(s)||s===null||s===""))return parseInt(s,10)}function Xe(s){if(!($(s)||s===null||s===""))return parseFloat(s)}function Uo(s){if(!($(s)||s===null||s==="")){const t=parseFloat("0."+s)*1e3;return Math.floor(t)}}function qo(s,t,e=!1){const i=10**t;return(e?Math.trunc:Math.round)(s*i)/i}function Bi(s){return s%4===0&&(s%100!==0||s%400===0)}function Ls(s){return Bi(s)?366:365}function Bn(s,t){const e=qy(t-1,12)+1,i=s+(t-e)/12;return e===2?Bi(i)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][e-1]}function or(s){let t=Date.UTC(s.year,s.month-1,s.day,s.hour,s.minute,s.second,s.millisecond);return s.year<100&&s.year>=0&&(t=new Date(t),t.setUTCFullYear(s.year,s.month-1,s.day)),+t}function ic(s,t,e){return-Ho(Bo(s,1,t),e)+t-1}function Ri(s,t=4,e=1){const i=ic(s,t,e),n=ic(s+1,t,e);return(Ls(s)-i+n)/7}function mo(s){return s>99?s:s>_t.twoDigitCutoffYear?1900+s:2e3+s}function ku(s,t,e,i=null){const n=new Date(s),r={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};i&&(r.timeZone=i);const o={timeZoneName:t,...r},a=new Intl.DateTimeFormat(e,o).formatToParts(n).find(l=>l.type.toLowerCase()==="timezonename");return a?a.value:null}function ar(s,t){let e=parseInt(s,10);Number.isNaN(e)&&(e=0);const i=parseInt(t,10)||0,n=e<0||Object.is(e,-0)?-i:i;return e*60+n}function Su(s){const t=Number(s);if(typeof s=="boolean"||s===""||Number.isNaN(t))throw new jt(`Invalid unit value ${s}`);return t}function Hn(s,t){const e={};for(const i in s)if(Bs(s,i)){const n=s[i];if(n==null)continue;e[t(i)]=Su(n)}return e}function xi(s,t){const e=Math.trunc(Math.abs(s/60)),i=Math.trunc(Math.abs(s%60)),n=s>=0?"+":"-";switch(t){case"short":return`${n}${vt(e,2)}:${vt(i,2)}`;case"narrow":return`${n}${e}${i>0?`:${i}`:""}`;case"techie":return`${n}${vt(e,2)}${vt(i,2)}`;default:throw new RangeError(`Value format ${t} is out of range for property format`)}}function lr(s){return Uy(s,["hour","minute","second","millisecond"])}const Yy=["January","February","March","April","May","June","July","August","September","October","November","December"],Ou=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Gy=["J","F","M","A","M","J","J","A","S","O","N","D"];function Tu(s){switch(s){case"narrow":return[...Gy];case"short":return[...Ou];case"long":return[...Yy];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const Mu=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],Eu=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],Zy=["M","T","W","T","F","S","S"];function Cu(s){switch(s){case"narrow":return[...Zy];case"short":return[...Eu];case"long":return[...Mu];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const Du=["AM","PM"],Jy=["Before Christ","Anno Domini"],Ky=["BC","AD"],Xy=["B","A"];function Au(s){switch(s){case"narrow":return[...Xy];case"short":return[...Ky];case"long":return[...Jy];default:return null}}function Qy(s){return Du[s.hour<12?0:1]}function t0(s,t){return Cu(t)[s.weekday-1]}function e0(s,t){return Tu(t)[s.month-1]}function s0(s,t){return Au(t)[s.year<0?0:1]}function i0(s,t,e="always",i=!1){const n={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},r=["hours","minutes","seconds"].indexOf(s)===-1;if(e==="auto"&&r){const u=s==="days";switch(t){case 1:return u?"tomorrow":`next ${n[s][0]}`;case-1:return u?"yesterday":`last ${n[s][0]}`;case 0:return u?"today":`this ${n[s][0]}`}}const o=Object.is(t,-0)||t<0,a=Math.abs(t),l=a===1,c=n[s],h=i?l?c[1]:c[2]||c[1]:l?n[s][0]:s;return o?`${a} ${h} ago`:`in ${a} ${h}`}function nc(s,t){let e="";for(const i of s)i.literal?e+=i.val:e+=t(i.val);return e}const n0={D:Vn,DD:Jh,DDD:Kh,DDDD:Xh,t:Qh,tt:tu,ttt:eu,tttt:su,T:iu,TT:nu,TTT:ru,TTTT:ou,f:au,ff:cu,fff:uu,ffff:fu,F:lu,FF:hu,FFF:du,FFFF:gu};class Pt{static create(t,e={}){return new Pt(t,e)}static parseFormat(t){let e=null,i="",n=!1;const r=[];for(let o=0;o<t.length;o++){const a=t.charAt(o);a==="'"?(i.length>0&&r.push({literal:n||/^\s+$/.test(i),val:i}),e=null,i="",n=!n):n||a===e?i+=a:(i.length>0&&r.push({literal:/^\s+$/.test(i),val:i}),i=a,e=a)}return i.length>0&&r.push({literal:n||/^\s+$/.test(i),val:i}),r}static macroTokenToFormatOpts(t){return n0[t]}constructor(t,e){this.opts=e,this.loc=t,this.systemLoc=null}formatWithSystemDefault(t,e){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(t,{...this.opts,...e}).format()}dtFormatter(t,e={}){return this.loc.dtFormatter(t,{...this.opts,...e})}formatDateTime(t,e){return this.dtFormatter(t,e).format()}formatDateTimeParts(t,e){return this.dtFormatter(t,e).formatToParts()}formatInterval(t,e){return this.dtFormatter(t.start,e).dtf.formatRange(t.start.toJSDate(),t.end.toJSDate())}resolvedOptions(t,e){return this.dtFormatter(t,e).resolvedOptions()}num(t,e=0){if(this.opts.forceSimple)return vt(t,e);const i={...this.opts};return e>0&&(i.padTo=e),this.loc.numberFormatter(i).format(t)}formatDateTimeFromString(t,e){const i=this.loc.listingMode()==="en",n=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",r=(f,g)=>this.loc.extract(t,f,g),o=f=>t.isOffsetFixed&&t.offset===0&&f.allowZ?"Z":t.isValid?t.zone.formatOffset(t.ts,f.format):"",a=()=>i?Qy(t):r({hour:"numeric",hourCycle:"h12"},"dayperiod"),l=(f,g)=>i?e0(t,f):r(g?{month:f}:{month:f,day:"numeric"},"month"),c=(f,g)=>i?t0(t,f):r(g?{weekday:f}:{weekday:f,month:"long",day:"numeric"},"weekday"),h=f=>{const g=Pt.macroTokenToFormatOpts(f);return g?this.formatWithSystemDefault(t,g):f},u=f=>i?s0(t,f):r({era:f},"era"),d=f=>{switch(f){case"S":return this.num(t.millisecond);case"u":case"SSS":return this.num(t.millisecond,3);case"s":return this.num(t.second);case"ss":return this.num(t.second,2);case"uu":return this.num(Math.floor(t.millisecond/10),2);case"uuu":return this.num(Math.floor(t.millisecond/100));case"m":return this.num(t.minute);case"mm":return this.num(t.minute,2);case"h":return this.num(t.hour%12===0?12:t.hour%12);case"hh":return this.num(t.hour%12===0?12:t.hour%12,2);case"H":return this.num(t.hour);case"HH":return this.num(t.hour,2);case"Z":return o({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return o({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return o({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return t.zone.offsetName(t.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return t.zone.offsetName(t.ts,{format:"long",locale:this.loc.locale});case"z":return t.zoneName;case"a":return a();case"d":return n?r({day:"numeric"},"day"):this.num(t.day);case"dd":return n?r({day:"2-digit"},"day"):this.num(t.day,2);case"c":return this.num(t.weekday);case"ccc":return c("short",!0);case"cccc":return c("long",!0);case"ccccc":return c("narrow",!0);case"E":return this.num(t.weekday);case"EEE":return c("short",!1);case"EEEE":return c("long",!1);case"EEEEE":return c("narrow",!1);case"L":return n?r({month:"numeric",day:"numeric"},"month"):this.num(t.month);case"LL":return n?r({month:"2-digit",day:"numeric"},"month"):this.num(t.month,2);case"LLL":return l("short",!0);case"LLLL":return l("long",!0);case"LLLLL":return l("narrow",!0);case"M":return n?r({month:"numeric"},"month"):this.num(t.month);case"MM":return n?r({month:"2-digit"},"month"):this.num(t.month,2);case"MMM":return l("short",!1);case"MMMM":return l("long",!1);case"MMMMM":return l("narrow",!1);case"y":return n?r({year:"numeric"},"year"):this.num(t.year);case"yy":return n?r({year:"2-digit"},"year"):this.num(t.year.toString().slice(-2),2);case"yyyy":return n?r({year:"numeric"},"year"):this.num(t.year,4);case"yyyyyy":return n?r({year:"numeric"},"year"):this.num(t.year,6);case"G":return u("short");case"GG":return u("long");case"GGGGG":return u("narrow");case"kk":return this.num(t.weekYear.toString().slice(-2),2);case"kkkk":return this.num(t.weekYear,4);case"W":return this.num(t.weekNumber);case"WW":return this.num(t.weekNumber,2);case"n":return this.num(t.localWeekNumber);case"nn":return this.num(t.localWeekNumber,2);case"ii":return this.num(t.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(t.localWeekYear,4);case"o":return this.num(t.ordinal);case"ooo":return this.num(t.ordinal,3);case"q":return this.num(t.quarter);case"qq":return this.num(t.quarter,2);case"X":return this.num(Math.floor(t.ts/1e3));case"x":return this.num(t.ts);default:return h(f)}};return nc(Pt.parseFormat(e),d)}formatDurationFromString(t,e){const i=l=>{switch(l[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},n=l=>c=>{const h=i(c);return h?this.num(l.get(h),c.length):c},r=Pt.parseFormat(e),o=r.reduce((l,{literal:c,val:h})=>c?l:l.concat(h),[]),a=t.shiftTo(...o.map(i).filter(l=>l));return nc(r,n(a))}}const Pu=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function Us(...s){const t=s.reduce((e,i)=>e+i.source,"");return RegExp(`^${t}$`)}function qs(...s){return t=>s.reduce(([e,i,n],r)=>{const[o,a,l]=r(t,n);return[{...e,...o},a||i,l]},[{},null,1]).slice(0,2)}function Ys(s,...t){if(s==null)return[null,null];for(const[e,i]of t){const n=e.exec(s);if(n)return i(n)}return[null,null]}function Iu(...s){return(t,e)=>{const i={};let n;for(n=0;n<s.length;n++)i[s[n]]=Ie(t[e+n]);return[i,null,e+n]}}const Ru=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,r0=`(?:${Ru.source}?(?:\\[(${Pu.source})\\])?)?`,Yo=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,Lu=RegExp(`${Yo.source}${r0}`),Go=RegExp(`(?:T${Lu.source})?`),o0=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,a0=/(\d{4})-?W(\d\d)(?:-?(\d))?/,l0=/(\d{4})-?(\d{3})/,c0=Iu("weekYear","weekNumber","weekDay"),h0=Iu("year","ordinal"),u0=/(\d{4})-(\d\d)-(\d\d)/,Nu=RegExp(`${Yo.source} ?(?:${Ru.source}|(${Pu.source}))?`),d0=RegExp(`(?: ${Nu.source})?`);function Ns(s,t,e){const i=s[t];return $(i)?e:Ie(i)}function f0(s,t){return[{year:Ns(s,t),month:Ns(s,t+1,1),day:Ns(s,t+2,1)},null,t+3]}function Gs(s,t){return[{hours:Ns(s,t,0),minutes:Ns(s,t+1,0),seconds:Ns(s,t+2,0),milliseconds:Uo(s[t+3])},null,t+4]}function Hi(s,t){const e=!s[t]&&!s[t+1],i=ar(s[t+1],s[t+2]),n=e?null:Nt.instance(i);return[{},n,t+3]}function Ui(s,t){const e=s[t]?Te.create(s[t]):null;return[{},e,t+1]}const g0=RegExp(`^T?${Yo.source}$`),m0=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function p0(s){const[t,e,i,n,r,o,a,l,c]=s,h=t[0]==="-",u=l&&l[0]==="-",d=(f,g=!1)=>f!==void 0&&(g||f&&h)?-f:f;return[{years:d(Xe(e)),months:d(Xe(i)),weeks:d(Xe(n)),days:d(Xe(r)),hours:d(Xe(o)),minutes:d(Xe(a)),seconds:d(Xe(l),l==="-0"),milliseconds:d(Uo(c),u)}]}const _0={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function Zo(s,t,e,i,n,r,o){const a={year:t.length===2?mo(Ie(t)):Ie(t),month:Ou.indexOf(e)+1,day:Ie(i),hour:Ie(n),minute:Ie(r)};return o&&(a.second=Ie(o)),s&&(a.weekday=s.length>3?Mu.indexOf(s)+1:Eu.indexOf(s)+1),a}const b0=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function y0(s){const[,t,e,i,n,r,o,a,l,c,h,u]=s,d=Zo(t,n,i,e,r,o,a);let f;return l?f=_0[l]:c?f=0:f=ar(h,u),[d,new Nt(f)]}function v0(s){return s.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const w0=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,x0=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,k0=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function rc(s){const[,t,e,i,n,r,o,a]=s;return[Zo(t,n,i,e,r,o,a),Nt.utcInstance]}function S0(s){const[,t,e,i,n,r,o,a]=s;return[Zo(t,a,e,i,n,r,o),Nt.utcInstance]}const O0=Us(o0,Go),T0=Us(a0,Go),M0=Us(l0,Go),E0=Us(Lu),$u=qs(f0,Gs,Hi,Ui),C0=qs(c0,Gs,Hi,Ui),D0=qs(h0,Gs,Hi,Ui),A0=qs(Gs,Hi,Ui);function P0(s){return Ys(s,[O0,$u],[T0,C0],[M0,D0],[E0,A0])}function I0(s){return Ys(v0(s),[b0,y0])}function R0(s){return Ys(s,[w0,rc],[x0,rc],[k0,S0])}function L0(s){return Ys(s,[m0,p0])}const N0=qs(Gs);function $0(s){return Ys(s,[g0,N0])}const F0=Us(u0,d0),j0=Us(Nu),z0=qs(Gs,Hi,Ui);function V0(s){return Ys(s,[F0,$u],[j0,z0])}const oc="Invalid Duration",Fu={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},W0={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...Fu},Yt=146097/400,Ss=146097/4800,B0={years:{quarters:4,months:12,weeks:Yt/7,days:Yt,hours:Yt*24,minutes:Yt*24*60,seconds:Yt*24*60*60,milliseconds:Yt*24*60*60*1e3},quarters:{months:3,weeks:Yt/28,days:Yt/4,hours:Yt*24/4,minutes:Yt*24*60/4,seconds:Yt*24*60*60/4,milliseconds:Yt*24*60*60*1e3/4},months:{weeks:Ss/7,days:Ss,hours:Ss*24,minutes:Ss*24*60,seconds:Ss*24*60*60,milliseconds:Ss*24*60*60*1e3},...Fu},rs=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],H0=rs.slice(0).reverse();function De(s,t,e=!1){const i={values:e?t.values:{...s.values,...t.values||{}},loc:s.loc.clone(t.loc),conversionAccuracy:t.conversionAccuracy||s.conversionAccuracy,matrix:t.matrix||s.matrix};return new B(i)}function ju(s,t){let e=t.milliseconds??0;for(const i of H0.slice(1))t[i]&&(e+=t[i]*s[i].milliseconds);return e}function ac(s,t){const e=ju(s,t)<0?-1:1;rs.reduceRight((i,n)=>{if($(t[n]))return i;if(i){const r=t[i]*e,o=s[n][i],a=Math.floor(r/o);t[n]+=a*e,t[i]-=a*o*e}return n},null),rs.reduce((i,n)=>{if($(t[n]))return i;if(i){const r=t[i]%1;t[i]-=r,t[n]+=r*s[i][n]}return n},null)}function U0(s){const t={};for(const[e,i]of Object.entries(s))i!==0&&(t[e]=i);return t}class B{constructor(t){const e=t.conversionAccuracy==="longterm"||!1;let i=e?B0:W0;t.matrix&&(i=t.matrix),this.values=t.values,this.loc=t.loc||et.create(),this.conversionAccuracy=e?"longterm":"casual",this.invalid=t.invalid||null,this.matrix=i,this.isLuxonDuration=!0}static fromMillis(t,e){return B.fromObject({milliseconds:t},e)}static fromObject(t,e={}){if(t==null||typeof t!="object")throw new jt(`Duration.fromObject: argument expected to be an object, got ${t===null?"null":typeof t}`);return new B({values:Hn(t,B.normalizeUnit),loc:et.fromObject(e),conversionAccuracy:e.conversionAccuracy,matrix:e.matrix})}static fromDurationLike(t){if(ls(t))return B.fromMillis(t);if(B.isDuration(t))return t;if(typeof t=="object")return B.fromObject(t);throw new jt(`Unknown duration argument ${t} of type ${typeof t}`)}static fromISO(t,e){const[i]=L0(t);return i?B.fromObject(i,e):B.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static fromISOTime(t,e){const[i]=$0(t);return i?B.fromObject(i,e):B.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static invalid(t,e=null){if(!t)throw new jt("need to specify a reason the Duration is invalid");const i=t instanceof ne?t:new ne(t,e);if(_t.throwOnInvalid)throw new by(i);return new B({invalid:i})}static normalizeUnit(t){const e={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[t&&t.toLowerCase()];if(!e)throw new Zh(t);return e}static isDuration(t){return t&&t.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(t,e={}){const i={...e,floor:e.round!==!1&&e.floor!==!1};return this.isValid?Pt.create(this.loc,i).formatDurationFromString(this,t):oc}toHuman(t={}){if(!this.isValid)return oc;const e=rs.map(i=>{const n=this.values[i];return $(n)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...t,unit:i.slice(0,-1)}).format(n)}).filter(i=>i);return this.loc.listFormatter({type:"conjunction",style:t.listStyle||"narrow",...t}).format(e)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let t="P";return this.years!==0&&(t+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(t+=this.months+this.quarters*3+"M"),this.weeks!==0&&(t+=this.weeks+"W"),this.days!==0&&(t+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(t+="T"),this.hours!==0&&(t+=this.hours+"H"),this.minutes!==0&&(t+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(t+=qo(this.seconds+this.milliseconds/1e3,3)+"S"),t==="P"&&(t+="T0S"),t}toISOTime(t={}){if(!this.isValid)return null;const e=this.toMillis();return e<0||e>=864e5?null:(t={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...t,includeOffset:!1},R.fromMillis(e,{zone:"UTC"}).toISOTime(t))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?ju(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(t){if(!this.isValid)return this;const e=B.fromDurationLike(t),i={};for(const n of rs)(Bs(e.values,n)||Bs(this.values,n))&&(i[n]=e.get(n)+this.get(n));return De(this,{values:i},!0)}minus(t){if(!this.isValid)return this;const e=B.fromDurationLike(t);return this.plus(e.negate())}mapUnits(t){if(!this.isValid)return this;const e={};for(const i of Object.keys(this.values))e[i]=Su(t(this.values[i],i));return De(this,{values:e},!0)}get(t){return this[B.normalizeUnit(t)]}set(t){if(!this.isValid)return this;const e={...this.values,...Hn(t,B.normalizeUnit)};return De(this,{values:e})}reconfigure({locale:t,numberingSystem:e,conversionAccuracy:i,matrix:n}={}){const o={loc:this.loc.clone({locale:t,numberingSystem:e}),matrix:n,conversionAccuracy:i};return De(this,o)}as(t){return this.isValid?this.shiftTo(t).get(t):NaN}normalize(){if(!this.isValid)return this;const t=this.toObject();return ac(this.matrix,t),De(this,{values:t},!0)}rescale(){if(!this.isValid)return this;const t=U0(this.normalize().shiftToAll().toObject());return De(this,{values:t},!0)}shiftTo(...t){if(!this.isValid)return this;if(t.length===0)return this;t=t.map(o=>B.normalizeUnit(o));const e={},i={},n=this.toObject();let r;for(const o of rs)if(t.indexOf(o)>=0){r=o;let a=0;for(const c in i)a+=this.matrix[c][o]*i[c],i[c]=0;ls(n[o])&&(a+=n[o]);const l=Math.trunc(a);e[o]=l,i[o]=(a*1e3-l*1e3)/1e3}else ls(n[o])&&(i[o]=n[o]);for(const o in i)i[o]!==0&&(e[r]+=o===r?i[o]:i[o]/this.matrix[r][o]);return ac(this.matrix,e),De(this,{values:e},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const t={};for(const e of Object.keys(this.values))t[e]=this.values[e]===0?0:-this.values[e];return De(this,{values:t},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(t){if(!this.isValid||!t.isValid||!this.loc.equals(t.loc))return!1;function e(i,n){return i===void 0||i===0?n===void 0||n===0:i===n}for(const i of rs)if(!e(this.values[i],t.values[i]))return!1;return!0}}const Os="Invalid Interval";function q0(s,t){return!s||!s.isValid?ft.invalid("missing or invalid start"):!t||!t.isValid?ft.invalid("missing or invalid end"):t<s?ft.invalid("end before start",`The end of an interval must be after its start, but you had start=${s.toISO()} and end=${t.toISO()}`):null}class ft{constructor(t){this.s=t.start,this.e=t.end,this.invalid=t.invalid||null,this.isLuxonInterval=!0}static invalid(t,e=null){if(!t)throw new jt("need to specify a reason the Interval is invalid");const i=t instanceof ne?t:new ne(t,e);if(_t.throwOnInvalid)throw new _y(i);return new ft({invalid:i})}static fromDateTimes(t,e){const i=oi(t),n=oi(e),r=q0(i,n);return r??new ft({start:i,end:n})}static after(t,e){const i=B.fromDurationLike(e),n=oi(t);return ft.fromDateTimes(n,n.plus(i))}static before(t,e){const i=B.fromDurationLike(e),n=oi(t);return ft.fromDateTimes(n.minus(i),n)}static fromISO(t,e){const[i,n]=(t||"").split("/",2);if(i&&n){let r,o;try{r=R.fromISO(i,e),o=r.isValid}catch{o=!1}let a,l;try{a=R.fromISO(n,e),l=a.isValid}catch{l=!1}if(o&&l)return ft.fromDateTimes(r,a);if(o){const c=B.fromISO(n,e);if(c.isValid)return ft.after(r,c)}else if(l){const c=B.fromISO(i,e);if(c.isValid)return ft.before(a,c)}}return ft.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static isInterval(t){return t&&t.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(t="milliseconds"){return this.isValid?this.toDuration(t).get(t):NaN}count(t="milliseconds",e){if(!this.isValid)return NaN;const i=this.start.startOf(t,e);let n;return e!=null&&e.useLocaleWeeks?n=this.end.reconfigure({locale:i.locale}):n=this.end,n=n.startOf(t,e),Math.floor(n.diff(i,t).get(t))+(n.valueOf()!==this.end.valueOf())}hasSame(t){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,t):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(t){return this.isValid?this.s>t:!1}isBefore(t){return this.isValid?this.e<=t:!1}contains(t){return this.isValid?this.s<=t&&this.e>t:!1}set({start:t,end:e}={}){return this.isValid?ft.fromDateTimes(t||this.s,e||this.e):this}splitAt(...t){if(!this.isValid)return[];const e=t.map(oi).filter(o=>this.contains(o)).sort((o,a)=>o.toMillis()-a.toMillis()),i=[];let{s:n}=this,r=0;for(;n<this.e;){const o=e[r]||this.e,a=+o>+this.e?this.e:o;i.push(ft.fromDateTimes(n,a)),n=a,r+=1}return i}splitBy(t){const e=B.fromDurationLike(t);if(!this.isValid||!e.isValid||e.as("milliseconds")===0)return[];let{s:i}=this,n=1,r;const o=[];for(;i<this.e;){const a=this.start.plus(e.mapUnits(l=>l*n));r=+a>+this.e?this.e:a,o.push(ft.fromDateTimes(i,r)),i=r,n+=1}return o}divideEqually(t){return this.isValid?this.splitBy(this.length()/t).slice(0,t):[]}overlaps(t){return this.e>t.s&&this.s<t.e}abutsStart(t){return this.isValid?+this.e==+t.s:!1}abutsEnd(t){return this.isValid?+t.e==+this.s:!1}engulfs(t){return this.isValid?this.s<=t.s&&this.e>=t.e:!1}equals(t){return!this.isValid||!t.isValid?!1:this.s.equals(t.s)&&this.e.equals(t.e)}intersection(t){if(!this.isValid)return this;const e=this.s>t.s?this.s:t.s,i=this.e<t.e?this.e:t.e;return e>=i?null:ft.fromDateTimes(e,i)}union(t){if(!this.isValid)return this;const e=this.s<t.s?this.s:t.s,i=this.e>t.e?this.e:t.e;return ft.fromDateTimes(e,i)}static merge(t){const[e,i]=t.sort((n,r)=>n.s-r.s).reduce(([n,r],o)=>r?r.overlaps(o)||r.abutsStart(o)?[n,r.union(o)]:[n.concat([r]),o]:[n,o],[[],null]);return i&&e.push(i),e}static xor(t){let e=null,i=0;const n=[],r=t.map(l=>[{time:l.s,type:"s"},{time:l.e,type:"e"}]),o=Array.prototype.concat(...r),a=o.sort((l,c)=>l.time-c.time);for(const l of a)i+=l.type==="s"?1:-1,i===1?e=l.time:(e&&+e!=+l.time&&n.push(ft.fromDateTimes(e,l.time)),e=null);return ft.merge(n)}difference(...t){return ft.xor([this].concat(t)).map(e=>this.intersection(e)).filter(e=>e&&!e.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()}  ${this.e.toISO()})`:Os}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(t=Vn,e={}){return this.isValid?Pt.create(this.s.loc.clone(e),t).formatInterval(this):Os}toISO(t){return this.isValid?`${this.s.toISO(t)}/${this.e.toISO(t)}`:Os}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:Os}toISOTime(t){return this.isValid?`${this.s.toISOTime(t)}/${this.e.toISOTime(t)}`:Os}toFormat(t,{separator:e="  "}={}){return this.isValid?`${this.s.toFormat(t)}${e}${this.e.toFormat(t)}`:Os}toDuration(t,e){return this.isValid?this.e.diff(this.s,t,e):B.invalid(this.invalidReason)}mapEndpoints(t){return ft.fromDateTimes(t(this.s),t(this.e))}}class fn{static hasDST(t=_t.defaultZone){const e=R.now().setZone(t).set({month:12});return!t.isUniversal&&e.offset!==e.set({month:6}).offset}static isValidIANAZone(t){return Te.isValidZone(t)}static normalizeZone(t){return Le(t,_t.defaultZone)}static getStartOfWeek({locale:t=null,locObj:e=null}={}){return(e||et.create(t)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:t=null,locObj:e=null}={}){return(e||et.create(t)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:t=null,locObj:e=null}={}){return(e||et.create(t)).getWeekendDays().slice()}static months(t="long",{locale:e=null,numberingSystem:i=null,locObj:n=null,outputCalendar:r="gregory"}={}){return(n||et.create(e,i,r)).months(t)}static monthsFormat(t="long",{locale:e=null,numberingSystem:i=null,locObj:n=null,outputCalendar:r="gregory"}={}){return(n||et.create(e,i,r)).months(t,!0)}static weekdays(t="long",{locale:e=null,numberingSystem:i=null,locObj:n=null}={}){return(n||et.create(e,i,null)).weekdays(t)}static weekdaysFormat(t="long",{locale:e=null,numberingSystem:i=null,locObj:n=null}={}){return(n||et.create(e,i,null)).weekdays(t,!0)}static meridiems({locale:t=null}={}){return et.create(t).meridiems()}static eras(t="short",{locale:e=null}={}){return et.create(e,null,"gregory").eras(t)}static features(){return{relative:wu(),localeWeek:xu()}}}function lc(s,t){const e=n=>n.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),i=e(t)-e(s);return Math.floor(B.fromMillis(i).as("days"))}function Y0(s,t,e){const i=[["years",(l,c)=>c.year-l.year],["quarters",(l,c)=>c.quarter-l.quarter+(c.year-l.year)*4],["months",(l,c)=>c.month-l.month+(c.year-l.year)*12],["weeks",(l,c)=>{const h=lc(l,c);return(h-h%7)/7}],["days",lc]],n={},r=s;let o,a;for(const[l,c]of i)e.indexOf(l)>=0&&(o=l,n[l]=c(s,t),a=r.plus(n),a>t?(n[l]--,s=r.plus(n),s>t&&(a=s,n[l]--,s=r.plus(n))):s=a);return[s,n,a,o]}function G0(s,t,e,i){let[n,r,o,a]=Y0(s,t,e);const l=t-n,c=e.filter(u=>["hours","minutes","seconds","milliseconds"].indexOf(u)>=0);c.length===0&&(o<t&&(o=n.plus({[a]:1})),o!==n&&(r[a]=(r[a]||0)+l/(o-n)));const h=B.fromObject(r,i);return c.length>0?B.fromMillis(l,i).shiftTo(...c).plus(h):h}const Jo={arab:"[-]",arabext:"[-]",bali:"[-]",beng:"[-]",deva:"[-]",fullwide:"[-]",gujr:"[-]",hanidec:"[|||||||||]",khmr:"[-]",knda:"[-]",laoo:"[-]",limb:"[-]",mlym:"[-]",mong:"[-]",mymr:"[-]",orya:"[-]",tamldec:"[-]",telu:"[-]",thai:"[-]",tibt:"[-]",latn:"\\d"},cc={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},Z0=Jo.hanidec.replace(/[\[|\]]/g,"").split("");function J0(s){let t=parseInt(s,10);if(isNaN(t)){t="";for(let e=0;e<s.length;e++){const i=s.charCodeAt(e);if(s[e].search(Jo.hanidec)!==-1)t+=Z0.indexOf(s[e]);else for(const n in cc){const[r,o]=cc[n];i>=r&&i<=o&&(t+=i-r)}}return parseInt(t,10)}else return t}function Qt({numberingSystem:s},t=""){return new RegExp(`${Jo[s||"latn"]}${t}`)}const K0="missing Intl.DateTimeFormat.formatToParts support";function K(s,t=e=>e){return{regex:s,deser:([e])=>t(J0(e))}}const X0="",zu=`[ ${X0}]`,Vu=new RegExp(zu,"g");function Q0(s){return s.replace(/\./g,"\\.?").replace(Vu,zu)}function hc(s){return s.replace(/\./g,"").replace(Vu," ").toLowerCase()}function te(s,t){return s===null?null:{regex:RegExp(s.map(Q0).join("|")),deser:([e])=>s.findIndex(i=>hc(e)===hc(i))+t}}function uc(s,t){return{regex:s,deser:([,e,i])=>ar(e,i),groups:t}}function gn(s){return{regex:s,deser:([t])=>t}}function tv(s){return s.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function ev(s,t){const e=Qt(t),i=Qt(t,"{2}"),n=Qt(t,"{3}"),r=Qt(t,"{4}"),o=Qt(t,"{6}"),a=Qt(t,"{1,2}"),l=Qt(t,"{1,3}"),c=Qt(t,"{1,6}"),h=Qt(t,"{1,9}"),u=Qt(t,"{2,4}"),d=Qt(t,"{4,6}"),f=p=>({regex:RegExp(tv(p.val)),deser:([_])=>_,literal:!0}),m=(p=>{if(s.literal)return f(p);switch(p.val){case"G":return te(t.eras("short"),0);case"GG":return te(t.eras("long"),0);case"y":return K(c);case"yy":return K(u,mo);case"yyyy":return K(r);case"yyyyy":return K(d);case"yyyyyy":return K(o);case"M":return K(a);case"MM":return K(i);case"MMM":return te(t.months("short",!0),1);case"MMMM":return te(t.months("long",!0),1);case"L":return K(a);case"LL":return K(i);case"LLL":return te(t.months("short",!1),1);case"LLLL":return te(t.months("long",!1),1);case"d":return K(a);case"dd":return K(i);case"o":return K(l);case"ooo":return K(n);case"HH":return K(i);case"H":return K(a);case"hh":return K(i);case"h":return K(a);case"mm":return K(i);case"m":return K(a);case"q":return K(a);case"qq":return K(i);case"s":return K(a);case"ss":return K(i);case"S":return K(l);case"SSS":return K(n);case"u":return gn(h);case"uu":return gn(a);case"uuu":return K(e);case"a":return te(t.meridiems(),0);case"kkkk":return K(r);case"kk":return K(u,mo);case"W":return K(a);case"WW":return K(i);case"E":case"c":return K(e);case"EEE":return te(t.weekdays("short",!1),1);case"EEEE":return te(t.weekdays("long",!1),1);case"ccc":return te(t.weekdays("short",!0),1);case"cccc":return te(t.weekdays("long",!0),1);case"Z":case"ZZ":return uc(new RegExp(`([+-]${a.source})(?::(${i.source}))?`),2);case"ZZZ":return uc(new RegExp(`([+-]${a.source})(${i.source})?`),2);case"z":return gn(/[a-z_+-/]{1,256}?/i);case" ":return gn(/[^\S\n\r]/);default:return f(p)}})(s)||{invalidReason:K0};return m.token=s,m}const sv={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function iv(s,t,e){const{type:i,value:n}=s;if(i==="literal"){const l=/^\s+$/.test(n);return{literal:!l,val:l?" ":n}}const r=t[i];let o=i;i==="hour"&&(t.hour12!=null?o=t.hour12?"hour12":"hour24":t.hourCycle!=null?t.hourCycle==="h11"||t.hourCycle==="h12"?o="hour12":o="hour24":o=e.hour12?"hour12":"hour24");let a=sv[o];if(typeof a=="object"&&(a=a[r]),a)return{literal:!1,val:a}}function nv(s){return[`^${s.map(e=>e.regex).reduce((e,i)=>`${e}(${i.source})`,"")}$`,s]}function rv(s,t,e){const i=s.match(t);if(i){const n={};let r=1;for(const o in e)if(Bs(e,o)){const a=e[o],l=a.groups?a.groups+1:1;!a.literal&&a.token&&(n[a.token.val[0]]=a.deser(i.slice(r,r+l))),r+=l}return[i,n]}else return[i,{}]}function ov(s){const t=r=>{switch(r){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let e=null,i;return $(s.z)||(e=Te.create(s.z)),$(s.Z)||(e||(e=new Nt(s.Z)),i=s.Z),$(s.q)||(s.M=(s.q-1)*3+1),$(s.h)||(s.h<12&&s.a===1?s.h+=12:s.h===12&&s.a===0&&(s.h=0)),s.G===0&&s.y&&(s.y=-s.y),$(s.u)||(s.S=Uo(s.u)),[Object.keys(s).reduce((r,o)=>{const a=t(o);return a&&(r[a]=s[o]),r},{}),e,i]}let Pr=null;function av(){return Pr||(Pr=R.fromMillis(1555555555555)),Pr}function lv(s,t){if(s.literal)return s;const e=Pt.macroTokenToFormatOpts(s.val),i=Hu(e,t);return i==null||i.includes(void 0)?s:i}function Wu(s,t){return Array.prototype.concat(...s.map(e=>lv(e,t)))}function Bu(s,t,e){const i=Wu(Pt.parseFormat(e),s),n=i.map(o=>ev(o,s)),r=n.find(o=>o.invalidReason);if(r)return{input:t,tokens:i,invalidReason:r.invalidReason};{const[o,a]=nv(n),l=RegExp(o,"i"),[c,h]=rv(t,l,a),[u,d,f]=h?ov(h):[null,null,void 0];if(Bs(h,"a")&&Bs(h,"H"))throw new Cs("Can't include meridiem when specifying 24-hour format");return{input:t,tokens:i,regex:l,rawMatches:c,matches:h,result:u,zone:d,specificOffset:f}}}function cv(s,t,e){const{result:i,zone:n,specificOffset:r,invalidReason:o}=Bu(s,t,e);return[i,n,r,o]}function Hu(s,t){if(!s)return null;const i=Pt.create(t,s).dtFormatter(av()),n=i.formatToParts(),r=i.resolvedOptions();return n.map(o=>iv(o,s,r))}const Ir="Invalid DateTime",dc=864e13;function mn(s){return new ne("unsupported zone",`the zone "${s.name}" is not supported`)}function Rr(s){return s.weekData===null&&(s.weekData=Wn(s.c)),s.weekData}function Lr(s){return s.localWeekData===null&&(s.localWeekData=Wn(s.c,s.loc.getMinDaysInFirstWeek(),s.loc.getStartOfWeek())),s.localWeekData}function Qe(s,t){const e={ts:s.ts,zone:s.zone,c:s.c,o:s.o,loc:s.loc,invalid:s.invalid};return new R({...e,...t,old:e})}function Uu(s,t,e){let i=s-t*60*1e3;const n=e.offset(i);if(t===n)return[i,t];i-=(n-t)*60*1e3;const r=e.offset(i);return n===r?[i,n]:[s-Math.min(n,r)*60*1e3,Math.max(n,r)]}function pn(s,t){s+=t*60*1e3;const e=new Date(s);return{year:e.getUTCFullYear(),month:e.getUTCMonth()+1,day:e.getUTCDate(),hour:e.getUTCHours(),minute:e.getUTCMinutes(),second:e.getUTCSeconds(),millisecond:e.getUTCMilliseconds()}}function Cn(s,t,e){return Uu(or(s),t,e)}function fc(s,t){const e=s.o,i=s.c.year+Math.trunc(t.years),n=s.c.month+Math.trunc(t.months)+Math.trunc(t.quarters)*3,r={...s.c,year:i,month:n,day:Math.min(s.c.day,Bn(i,n))+Math.trunc(t.days)+Math.trunc(t.weeks)*7},o=B.fromObject({years:t.years-Math.trunc(t.years),quarters:t.quarters-Math.trunc(t.quarters),months:t.months-Math.trunc(t.months),weeks:t.weeks-Math.trunc(t.weeks),days:t.days-Math.trunc(t.days),hours:t.hours,minutes:t.minutes,seconds:t.seconds,milliseconds:t.milliseconds}).as("milliseconds"),a=or(r);let[l,c]=Uu(a,e,s.zone);return o!==0&&(l+=o,c=s.zone.offset(l)),{ts:l,o:c}}function ri(s,t,e,i,n,r){const{setZone:o,zone:a}=e;if(s&&Object.keys(s).length!==0||t){const l=t||a,c=R.fromObject(s,{...e,zone:l,specificOffset:r});return o?c:c.setZone(a)}else return R.invalid(new ne("unparsable",`the input "${n}" can't be parsed as ${i}`))}function _n(s,t,e=!0){return s.isValid?Pt.create(et.create("en-US"),{allowZ:e,forceSimple:!0}).formatDateTimeFromString(s,t):null}function Nr(s,t){const e=s.c.year>9999||s.c.year<0;let i="";return e&&s.c.year>=0&&(i+="+"),i+=vt(s.c.year,e?6:4),t?(i+="-",i+=vt(s.c.month),i+="-",i+=vt(s.c.day)):(i+=vt(s.c.month),i+=vt(s.c.day)),i}function gc(s,t,e,i,n,r){let o=vt(s.c.hour);return t?(o+=":",o+=vt(s.c.minute),(s.c.millisecond!==0||s.c.second!==0||!e)&&(o+=":")):o+=vt(s.c.minute),(s.c.millisecond!==0||s.c.second!==0||!e)&&(o+=vt(s.c.second),(s.c.millisecond!==0||!i)&&(o+=".",o+=vt(s.c.millisecond,3))),n&&(s.isOffsetFixed&&s.offset===0&&!r?o+="Z":s.o<0?(o+="-",o+=vt(Math.trunc(-s.o/60)),o+=":",o+=vt(Math.trunc(-s.o%60))):(o+="+",o+=vt(Math.trunc(s.o/60)),o+=":",o+=vt(Math.trunc(s.o%60)))),r&&(o+="["+s.zone.ianaName+"]"),o}const qu={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},hv={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},uv={ordinal:1,hour:0,minute:0,second:0,millisecond:0},Yu=["year","month","day","hour","minute","second","millisecond"],dv=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],fv=["year","ordinal","hour","minute","second","millisecond"];function gv(s){const t={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[s.toLowerCase()];if(!t)throw new Zh(s);return t}function mc(s){switch(s.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return gv(s)}}function pc(s,t){const e=Le(t.zone,_t.defaultZone),i=et.fromObject(t),n=_t.now();let r,o;if($(s.year))r=n;else{for(const c of Yu)$(s[c])&&(s[c]=qu[c]);const a=yu(s)||vu(s);if(a)return R.invalid(a);const l=e.offset(n);[r,o]=Cn(s,l,e)}return new R({ts:r,zone:e,loc:i,o})}function _c(s,t,e){const i=$(e.round)?!0:e.round,n=(o,a)=>(o=qo(o,i||e.calendary?0:2,!0),t.loc.clone(e).relFormatter(e).format(o,a)),r=o=>e.calendary?t.hasSame(s,o)?0:t.startOf(o).diff(s.startOf(o),o).get(o):t.diff(s,o).get(o);if(e.unit)return n(r(e.unit),e.unit);for(const o of e.units){const a=r(o);if(Math.abs(a)>=1)return n(a,o)}return n(s>t?-0:0,e.units[e.units.length-1])}function bc(s){let t={},e;return s.length>0&&typeof s[s.length-1]=="object"?(t=s[s.length-1],e=Array.from(s).slice(0,s.length-1)):e=Array.from(s),[t,e]}class R{constructor(t){const e=t.zone||_t.defaultZone;let i=t.invalid||(Number.isNaN(t.ts)?new ne("invalid input"):null)||(e.isValid?null:mn(e));this.ts=$(t.ts)?_t.now():t.ts;let n=null,r=null;if(!i)if(t.old&&t.old.ts===this.ts&&t.old.zone.equals(e))[n,r]=[t.old.c,t.old.o];else{const a=e.offset(this.ts);n=pn(this.ts,a),i=Number.isNaN(n.year)?new ne("invalid input"):null,n=i?null:n,r=i?null:a}this._zone=e,this.loc=t.loc||et.create(),this.invalid=i,this.weekData=null,this.localWeekData=null,this.c=n,this.o=r,this.isLuxonDateTime=!0}static now(){return new R({})}static local(){const[t,e]=bc(arguments),[i,n,r,o,a,l,c]=e;return pc({year:i,month:n,day:r,hour:o,minute:a,second:l,millisecond:c},t)}static utc(){const[t,e]=bc(arguments),[i,n,r,o,a,l,c]=e;return t.zone=Nt.utcInstance,pc({year:i,month:n,day:r,hour:o,minute:a,second:l,millisecond:c},t)}static fromJSDate(t,e={}){const i=By(t)?t.valueOf():NaN;if(Number.isNaN(i))return R.invalid("invalid input");const n=Le(e.zone,_t.defaultZone);return n.isValid?new R({ts:i,zone:n,loc:et.fromObject(e)}):R.invalid(mn(n))}static fromMillis(t,e={}){if(ls(t))return t<-dc||t>dc?R.invalid("Timestamp out of range"):new R({ts:t,zone:Le(e.zone,_t.defaultZone),loc:et.fromObject(e)});throw new jt(`fromMillis requires a numerical input, but received a ${typeof t} with value ${t}`)}static fromSeconds(t,e={}){if(ls(t))return new R({ts:t*1e3,zone:Le(e.zone,_t.defaultZone),loc:et.fromObject(e)});throw new jt("fromSeconds requires a numerical input")}static fromObject(t,e={}){t=t||{};const i=Le(e.zone,_t.defaultZone);if(!i.isValid)return R.invalid(mn(i));const n=et.fromObject(e),r=Hn(t,mc),{minDaysInFirstWeek:o,startOfWeek:a}=ec(r,n),l=_t.now(),c=$(e.specificOffset)?i.offset(l):e.specificOffset,h=!$(r.ordinal),u=!$(r.year),d=!$(r.month)||!$(r.day),f=u||d,g=r.weekYear||r.weekNumber;if((f||h)&&g)throw new Cs("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(d&&h)throw new Cs("Can't mix ordinal dates with month/day");const m=g||r.weekday&&!f;let p,_,b=pn(l,c);m?(p=dv,_=hv,b=Wn(b,o,a)):h?(p=fv,_=uv,b=Ar(b)):(p=Yu,_=qu);let w=!1;for(const A of p){const P=r[A];$(P)?w?r[A]=_[A]:r[A]=b[A]:w=!0}const v=m?zy(r,o,a):h?Vy(r):yu(r),x=v||vu(r);if(x)return R.invalid(x);const T=m?Ql(r,o,a):h?tc(r):r,[O,M]=Cn(T,c,i),D=new R({ts:O,zone:i,o:M,loc:n});return r.weekday&&f&&t.weekday!==D.weekday?R.invalid("mismatched weekday",`you can't specify both a weekday of ${r.weekday} and a date of ${D.toISO()}`):D}static fromISO(t,e={}){const[i,n]=P0(t);return ri(i,n,e,"ISO 8601",t)}static fromRFC2822(t,e={}){const[i,n]=I0(t);return ri(i,n,e,"RFC 2822",t)}static fromHTTP(t,e={}){const[i,n]=R0(t);return ri(i,n,e,"HTTP",e)}static fromFormat(t,e,i={}){if($(t)||$(e))throw new jt("fromFormat requires an input string and a format");const{locale:n=null,numberingSystem:r=null}=i,o=et.fromOpts({locale:n,numberingSystem:r,defaultToEN:!0}),[a,l,c,h]=cv(o,t,e);return h?R.invalid(h):ri(a,l,i,`format ${e}`,t,c)}static fromString(t,e,i={}){return R.fromFormat(t,e,i)}static fromSQL(t,e={}){const[i,n]=V0(t);return ri(i,n,e,"SQL",t)}static invalid(t,e=null){if(!t)throw new jt("need to specify a reason the DateTime is invalid");const i=t instanceof ne?t:new ne(t,e);if(_t.throwOnInvalid)throw new py(i);return new R({invalid:i})}static isDateTime(t){return t&&t.isLuxonDateTime||!1}static parseFormatForOpts(t,e={}){const i=Hu(t,et.fromObject(e));return i?i.map(n=>n?n.val:null).join(""):null}static expandFormat(t,e={}){return Wu(Pt.parseFormat(t),et.fromObject(e)).map(n=>n.val).join("")}get(t){return this[t]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?Rr(this).weekYear:NaN}get weekNumber(){return this.isValid?Rr(this).weekNumber:NaN}get weekday(){return this.isValid?Rr(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?Lr(this).weekday:NaN}get localWeekNumber(){return this.isValid?Lr(this).weekNumber:NaN}get localWeekYear(){return this.isValid?Lr(this).weekYear:NaN}get ordinal(){return this.isValid?Ar(this.c).ordinal:NaN}get monthShort(){return this.isValid?fn.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?fn.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?fn.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?fn.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const t=864e5,e=6e4,i=or(this.c),n=this.zone.offset(i-t),r=this.zone.offset(i+t),o=this.zone.offset(i-n*e),a=this.zone.offset(i-r*e);if(o===a)return[this];const l=i-o*e,c=i-a*e,h=pn(l,o),u=pn(c,a);return h.hour===u.hour&&h.minute===u.minute&&h.second===u.second&&h.millisecond===u.millisecond?[Qe(this,{ts:l}),Qe(this,{ts:c})]:[this]}get isInLeapYear(){return Bi(this.year)}get daysInMonth(){return Bn(this.year,this.month)}get daysInYear(){return this.isValid?Ls(this.year):NaN}get weeksInWeekYear(){return this.isValid?Ri(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?Ri(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(t={}){const{locale:e,numberingSystem:i,calendar:n}=Pt.create(this.loc.clone(t),t).resolvedOptions(this);return{locale:e,numberingSystem:i,outputCalendar:n}}toUTC(t=0,e={}){return this.setZone(Nt.instance(t),e)}toLocal(){return this.setZone(_t.defaultZone)}setZone(t,{keepLocalTime:e=!1,keepCalendarTime:i=!1}={}){if(t=Le(t,_t.defaultZone),t.equals(this.zone))return this;if(t.isValid){let n=this.ts;if(e||i){const r=t.offset(this.ts),o=this.toObject();[n]=Cn(o,r,t)}return Qe(this,{ts:n,zone:t})}else return R.invalid(mn(t))}reconfigure({locale:t,numberingSystem:e,outputCalendar:i}={}){const n=this.loc.clone({locale:t,numberingSystem:e,outputCalendar:i});return Qe(this,{loc:n})}setLocale(t){return this.reconfigure({locale:t})}set(t){if(!this.isValid)return this;const e=Hn(t,mc),{minDaysInFirstWeek:i,startOfWeek:n}=ec(e,this.loc),r=!$(e.weekYear)||!$(e.weekNumber)||!$(e.weekday),o=!$(e.ordinal),a=!$(e.year),l=!$(e.month)||!$(e.day),c=a||l,h=e.weekYear||e.weekNumber;if((c||o)&&h)throw new Cs("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(l&&o)throw new Cs("Can't mix ordinal dates with month/day");let u;r?u=Ql({...Wn(this.c,i,n),...e},i,n):$(e.ordinal)?(u={...this.toObject(),...e},$(e.day)&&(u.day=Math.min(Bn(u.year,u.month),u.day))):u=tc({...Ar(this.c),...e});const[d,f]=Cn(u,this.o,this.zone);return Qe(this,{ts:d,o:f})}plus(t){if(!this.isValid)return this;const e=B.fromDurationLike(t);return Qe(this,fc(this,e))}minus(t){if(!this.isValid)return this;const e=B.fromDurationLike(t).negate();return Qe(this,fc(this,e))}startOf(t,{useLocaleWeeks:e=!1}={}){if(!this.isValid)return this;const i={},n=B.normalizeUnit(t);switch(n){case"years":i.month=1;case"quarters":case"months":i.day=1;case"weeks":case"days":i.hour=0;case"hours":i.minute=0;case"minutes":i.second=0;case"seconds":i.millisecond=0;break}if(n==="weeks")if(e){const r=this.loc.getStartOfWeek(),{weekday:o}=this;o<r&&(i.weekNumber=this.weekNumber-1),i.weekday=r}else i.weekday=1;if(n==="quarters"){const r=Math.ceil(this.month/3);i.month=(r-1)*3+1}return this.set(i)}endOf(t,e){return this.isValid?this.plus({[t]:1}).startOf(t,e).minus(1):this}toFormat(t,e={}){return this.isValid?Pt.create(this.loc.redefaultToEN(e)).formatDateTimeFromString(this,t):Ir}toLocaleString(t=Vn,e={}){return this.isValid?Pt.create(this.loc.clone(e),t).formatDateTime(this):Ir}toLocaleParts(t={}){return this.isValid?Pt.create(this.loc.clone(t),t).formatDateTimeParts(this):[]}toISO({format:t="extended",suppressSeconds:e=!1,suppressMilliseconds:i=!1,includeOffset:n=!0,extendedZone:r=!1}={}){if(!this.isValid)return null;const o=t==="extended";let a=Nr(this,o);return a+="T",a+=gc(this,o,e,i,n,r),a}toISODate({format:t="extended"}={}){return this.isValid?Nr(this,t==="extended"):null}toISOWeekDate(){return _n(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:t=!1,suppressSeconds:e=!1,includeOffset:i=!0,includePrefix:n=!1,extendedZone:r=!1,format:o="extended"}={}){return this.isValid?(n?"T":"")+gc(this,o==="extended",e,t,i,r):null}toRFC2822(){return _n(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return _n(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?Nr(this,!0):null}toSQLTime({includeOffset:t=!0,includeZone:e=!1,includeOffsetSpace:i=!0}={}){let n="HH:mm:ss.SSS";return(e||t)&&(i&&(n+=" "),e?n+="z":t&&(n+="ZZ")),_n(this,n,!0)}toSQL(t={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(t)}`:null}toString(){return this.isValid?this.toISO():Ir}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(t={}){if(!this.isValid)return{};const e={...this.c};return t.includeConfig&&(e.outputCalendar=this.outputCalendar,e.numberingSystem=this.loc.numberingSystem,e.locale=this.loc.locale),e}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(t,e="milliseconds",i={}){if(!this.isValid||!t.isValid)return B.invalid("created by diffing an invalid DateTime");const n={locale:this.locale,numberingSystem:this.numberingSystem,...i},r=Hy(e).map(B.normalizeUnit),o=t.valueOf()>this.valueOf(),a=o?this:t,l=o?t:this,c=G0(a,l,r,n);return o?c.negate():c}diffNow(t="milliseconds",e={}){return this.diff(R.now(),t,e)}until(t){return this.isValid?ft.fromDateTimes(this,t):this}hasSame(t,e,i){if(!this.isValid)return!1;const n=t.valueOf(),r=this.setZone(t.zone,{keepLocalTime:!0});return r.startOf(e,i)<=n&&n<=r.endOf(e,i)}equals(t){return this.isValid&&t.isValid&&this.valueOf()===t.valueOf()&&this.zone.equals(t.zone)&&this.loc.equals(t.loc)}toRelative(t={}){if(!this.isValid)return null;const e=t.base||R.fromObject({},{zone:this.zone}),i=t.padding?this<e?-t.padding:t.padding:0;let n=["years","months","days","hours","minutes","seconds"],r=t.unit;return Array.isArray(t.unit)&&(n=t.unit,r=void 0),_c(e,this.plus(i),{...t,numeric:"always",units:n,unit:r})}toRelativeCalendar(t={}){return this.isValid?_c(t.base||R.fromObject({},{zone:this.zone}),this,{...t,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...t){if(!t.every(R.isDateTime))throw new jt("min requires all arguments be DateTimes");return sc(t,e=>e.valueOf(),Math.min)}static max(...t){if(!t.every(R.isDateTime))throw new jt("max requires all arguments be DateTimes");return sc(t,e=>e.valueOf(),Math.max)}static fromFormatExplain(t,e,i={}){const{locale:n=null,numberingSystem:r=null}=i,o=et.fromOpts({locale:n,numberingSystem:r,defaultToEN:!0});return Bu(o,t,e)}static fromStringExplain(t,e,i={}){return R.fromFormatExplain(t,e,i)}static get DATE_SHORT(){return Vn}static get DATE_MED(){return Jh}static get DATE_MED_WITH_WEEKDAY(){return yy}static get DATE_FULL(){return Kh}static get DATE_HUGE(){return Xh}static get TIME_SIMPLE(){return Qh}static get TIME_WITH_SECONDS(){return tu}static get TIME_WITH_SHORT_OFFSET(){return eu}static get TIME_WITH_LONG_OFFSET(){return su}static get TIME_24_SIMPLE(){return iu}static get TIME_24_WITH_SECONDS(){return nu}static get TIME_24_WITH_SHORT_OFFSET(){return ru}static get TIME_24_WITH_LONG_OFFSET(){return ou}static get DATETIME_SHORT(){return au}static get DATETIME_SHORT_WITH_SECONDS(){return lu}static get DATETIME_MED(){return cu}static get DATETIME_MED_WITH_SECONDS(){return hu}static get DATETIME_MED_WITH_WEEKDAY(){return vy}static get DATETIME_FULL(){return uu}static get DATETIME_FULL_WITH_SECONDS(){return du}static get DATETIME_HUGE(){return fu}static get DATETIME_HUGE_WITH_SECONDS(){return gu}}function oi(s){if(R.isDateTime(s))return s;if(s&&s.valueOf&&ls(s.valueOf()))return R.fromJSDate(s);if(s&&typeof s=="object")return R.fromObject(s);throw new jt(`Unknown datetime argument: ${s}, of type ${typeof s}`)}var ki=(s=>(s[s.LAST_WEEK=0]="LAST_WEEK",s[s.LAST_MONTH=1]="LAST_MONTH",s[s.LAST_3MONTH=2]="LAST_3MONTH",s))(ki||{}),Et=(s=>(s[s.MORNING=0]="MORNING",s[s.AFTERNOON=1]="AFTERNOON",s[s.EVENING=2]="EVENING",s[s.NIGHT=3]="NIGHT",s))(Et||{});async function mv(s){let t=[],e=[],i=[],n=[],r;s==0?r=R.now().minus(B.fromObject({days:7})):s==1?r=R.now().minus(B.fromObject({months:1})):s==2&&(r=R.now().minus(B.fromObject({months:3})));let{error:o,data:a}=await Xt.from("record").select("*").filter("user_uid","eq",Rc(Vi)).filter("date","gt",r.toSQLDate());if(o||!a)throw o;return a.map(l=>{t.push(l.date),e.push(l.heart_rate),i.push(l.value_sys),n.push(l.value_dia)}),{labels:t,hrValues:e,sysValues:i,diaValues:n}}function yc(s){return s.labels}function pv(s){return s.sysValues}function _v(s){return s.diaValues}function bv(s){return s.hrValues}function yv(s){let t,e,i,n,r,o,a,l,c,h,u,d,f,g,m,p,_,b,w,v,x;return{c(){t=S("main"),e=S("div"),i=S("div"),i.innerHTML='<h1 class="svelte-1tsjcq4">Home</h1>',n=I(),r=S("div"),o=S("select"),a=S("option"),a.textContent="Last Week",l=S("option"),l.textContent="Last Month",c=S("option"),c.textContent="Last 3 Months",h=I(),u=S("div"),d=S("h2"),d.textContent="Blood Pressure",f=I(),g=S("canvas"),m=I(),p=S("div"),_=S("h2"),_.textContent="Heart Rate",b=I(),w=S("canvas"),k(i,"class","titleContainer"),a.__value=ki.LAST_WEEK,rt(a,a.__value),l.__value=ki.LAST_MONTH,rt(l,l.__value),c.__value=ki.LAST_3MONTH,rt(c,c.__value),k(o,"class","svelte-1tsjcq4"),s[0]===void 0&&us(()=>s[3].call(o)),k(r,"class","selectionContainer"),k(e,"class","padded svelte-1tsjcq4"),k(d,"class","svelte-1tsjcq4"),k(g,"height",globalThis.vh*40),k(g,"width",globalThis.vw*100),k(g,"class","svelte-1tsjcq4"),k(u,"class","bpContainer"),k(_,"class","svelte-1tsjcq4"),k(w,"height",globalThis.vh*40),k(w,"width",globalThis.vw*100),k(w,"class","svelte-1tsjcq4"),k(p,"class","hrContainer"),k(t,"class","svelte-1tsjcq4")},m(T,O){at(T,t,O),y(t,e),y(e,i),y(e,n),y(e,r),y(r,o),y(o,a),y(o,l),y(o,c),Xo(o,s[0],!0),y(t,h),y(t,u),y(u,d),y(u,f),y(u,g),s[4](g),y(t,m),y(t,p),y(p,_),y(p,b),y(p,w),s[5](w),v||(x=ct(o,"change",s[3]),v=!0)},p(T,[O]){O&1&&Xo(o,T[0])},i:L,o:L,d(T){T&&st(t),s[4](null),s[5](null),v=!1,x()}}}function vv(s,t,e){de.register(...S_);let i,n,r,o,a=!1,l=ki.LAST_WEEK;function c(f){a&&(o.destroy(),r.destroy()),a=!0;const g=i.getContext("2d"),m=n.getContext("2d");r=new de(g,{type:"line",data:{labels:yc(f),datasets:[{label:"Systolic",data:pv(f),fill:!1,tension:.1},{label:"Diastolic",data:_v(f),fill:!1,tension:.1}]}}),o=new de(m,{type:"line",data:{labels:yc(f),datasets:[{label:"My First Dataset",data:bv(f),fill:!1,tension:.1}]}})}bo(()=>{c({})});function h(){l=rd(this),e(0,l)}function u(f){hs[f?"unshift":"push"](()=>{i=f,e(1,i)})}function d(f){hs[f?"unshift":"push"](()=>{n=f,e(2,n)})}return s.$$.update=()=>{s.$$.dirty&1&&mv(l).then(c)},[l,i,n,h,u,d]}class wv extends Ee{constructor(t){super(),Me(this,t,vv,yv,ce,{})}}async function xv(s){for(let[h,u]of s)if(h!="comment"&&!u)return alert(`Field ${h} is not filled in`),!1;const{value_sys:t,value_dia:e,heart_rate:i,comment:n,time:r,date:o,user_uid:a}=Object.fromEntries(s.entries());console.log({value_sys:t,value_dia:e,heart_rate:i,comment:n,time:r,date:o,user_uid:a});const{error:l,data:c}=await Xt.from("record").insert([{value_sys:t,value_dia:e,heart_rate:i,comment:n,time:r,date:o,user_uid:a}]).select();if(l)throw l;return!0}async function kv(s){for(let[u,d]of s)if(u!="comment"&&!d)return alert(`Field ${u} is not filled in`),!1;const{id:t,value_sys:e,value_dia:i,heart_rate:n,comment:r,time:o,date:a,user_uid:l}=Object.fromEntries(s.entries());console.log({value_sys:e,value_dia:i,heart_rate:n,comment:r,time:o,date:a,user_uid:l});const{data:c,error:h}=await Xt.from("record").update({value_sys:e,value_dia:i,heart_rate:n,comment:r,time:o,date:a,user_uid:l}).eq("id",t).select();if(h)throw h;return!0}function vc(s){let t,e,i,n,r,o,a,l,c,h,u,d,f,g,m,p,_,b,w,v,x,T;return{c(){t=S("h1"),t.textContent="Add Record",e=I(),i=S("form"),n=S("input"),r=I(),o=S("div"),a=S("input"),l=I(),c=S("div"),h=S("select"),u=S("option"),u.textContent="Morning",d=S("option"),d.textContent="Afternoon",f=S("option"),f.textContent="Evening",g=S("option"),g.textContent="Night",m=I(),p=S("div"),p.innerHTML='<input type="text" placeholder="Comment..." name="comment" class="svelte-nf8blj"/>',_=I(),b=S("div"),b.innerHTML='<input type="number" name="value_sys" placeholder="Sys" class="svelte-nf8blj"/> <input type="number" name="value_dia" placeholder="Dia" class="svelte-nf8blj"/> <input type="number" name="heart_rate" placeholder="HR" class="svelte-nf8blj"/>',w=I(),v=S("div"),v.innerHTML='<input type="submit" class="svelte-nf8blj"/>',k(t,"class","svelte-nf8blj"),k(n,"type","hidden"),k(n,"name","user_uid"),n.value=s[2],k(a,"type","date"),k(a,"name","date"),a.value=s[3](),k(a,"class","svelte-nf8blj"),k(o,"class","row svelte-nf8blj"),u.__value=Et.MORNING,rt(u,u.__value),d.__value=Et.AFTERNOON,rt(d,d.__value),f.__value=Et.EVENING,rt(f,f.__value),g.__value=Et.NIGHT,rt(g,g.__value),k(h,"name","time"),k(h,"class","svelte-nf8blj"),k(c,"class","row svelte-nf8blj"),k(p,"class","row svelte-nf8blj"),k(b,"class","row split svelte-nf8blj"),k(v,"class","row svelte-nf8blj"),k(i,"action","")},m(O,M){at(O,t,M),at(O,e,M),at(O,i,M),y(i,n),y(i,r),y(i,o),y(o,a),y(i,l),y(i,c),y(c,h),y(h,u),y(h,d),y(h,f),y(h,g),y(i,m),y(i,p),y(i,_),y(i,b),y(i,w),y(i,v),s[5](i),x||(T=ct(i,"submit",s[4]),x=!0)},p(O,M){M&4&&(n.value=O[2])},d(O){O&&(st(t),st(e),st(i)),s[5](null),x=!1,T()}}}function Sv(s){let t,e=s[1],i=vc(s);return{c(){t=S("main"),i.c(),k(t,"class","svelte-nf8blj")},m(n,r){at(n,t,r),i.m(t,null)},p(n,[r]){r&2&&ce(e,e=n[1])?(i.d(1),i=vc(n),i.c(),i.m(t,null)):i.p(n,r)},i:L,o:L,d(n){n&&st(t),i.d(n)}}}function Ov(s,t,e){let i;cs(s,Vi,c=>e(2,i=c));let n,r=!0;function o(){return R.now().toISODate()}async function a(c){c.preventDefault();const h=new FormData(n);await xv(h)&&(alert("Success!"),e(1,r=!r))}function l(c){hs[c?"unshift":"push"](()=>{n=c,e(0,n)})}return[n,r,i,o,a,l]}class Tv extends Ee{constructor(t){super(),Me(this,t,Ov,Sv,ce,{})}}async function Mv(s){const{data:t,error:e}=await Xt.from("access").insert({on:Kt.id,on_email:Kt.email,to:s});if(e)throw e;return t}async function Ev(s){const{data:t,error:e}=await Xt.from("access").delete().eq("on",Kt.id).eq("to",s);if(e)throw e}async function $r(){const{data:s,error:t}=await Xt.from("access").select().filter("on_email","eq",Kt.email);if(t)throw t;return s}async function Cv(){const{data:s,error:t}=await Xt.from("access").select("*").filter("to","eq",Kt.email);if(t)throw t;return s}function wc(s,t){console.log(s,t),ir.set(s),Vi.set(t)}var wt=(s=>(s[s.HOME_SCREEN=0]="HOME_SCREEN",s[s.ADD_RECORD=1]="ADD_RECORD",s[s.SYNC_DETAILS=2]="SYNC_DETAILS",s[s.RAW_DATA=3]="RAW_DATA",s[s.EDIT_RECORD=4]="EDIT_RECORD",s))(wt||{});const Gu=ji(),He=ji(2),Li=ji(!1);function xc(s,t,e){const i=s.slice();return i[11]=t[e],i}function kc(s,t,e){const i=s.slice();return i[11]=t[e],i}function Dv(s){return{c:L,m:L,p:L,d:L}}function Av(s){let t,e=$s(s[0]),i=[];for(let n=0;n<e.length;n+=1)i[n]=Sc(kc(s,e,n));return{c(){for(let n=0;n<i.length;n+=1)i[n].c();t=qn()},m(n,r){for(let o=0;o<i.length;o+=1)i[o]&&i[o].m(n,r);at(n,t,r)},p(n,r){if(r&65){e=$s(n[0]);let o;for(o=0;o<e.length;o+=1){const a=kc(n,e,o);i[o]?i[o].p(a,r):(i[o]=Sc(a),i[o].c(),i[o].m(t.parentNode,t))}for(;o<i.length;o+=1)i[o].d(1);i.length=e.length}},d(n){n&&st(t),_o(i,n)}}}function Sc(s){let t,e,i=s[11].to+"",n,r,o,a;return{c(){t=S("li"),e=S("button"),n=ut(i),r=I(),k(e,"class","list-item svelte-1biiz6x"),k(t,"class","svelte-1biiz6x")},m(l,c){at(l,t,c),y(t,e),y(e,n),y(t,r),o||(a=ct(e,"click",function(){Un(s[6](s[11].to))&&s[6](s[11].to).apply(this,arguments)}),o=!0)},p(l,c){s=l,c&1&&i!==(i=s[11].to+"")&&fe(n,i)},d(l){l&&st(t),o=!1,a()}}}function Pv(s){let t;return{c(){t=ut("Loading....")},m(e,i){at(e,t,i)},p:L,d(e){e&&st(t)}}}function Iv(s){return{c:L,m:L,p:L,d:L}}function Rv(s){let t,e=$s(s[1]),i=[];for(let n=0;n<e.length;n+=1)i[n]=Oc(xc(s,e,n));return{c(){for(let n=0;n<i.length;n+=1)i[n].c();t=qn()},m(n,r){for(let o=0;o<i.length;o+=1)i[o]&&i[o].m(n,r);at(n,t,r)},p(n,r){if(r&2){e=$s(n[1]);let o;for(o=0;o<e.length;o+=1){const a=xc(n,e,o);i[o]?i[o].p(a,r):(i[o]=Oc(a),i[o].c(),i[o].m(t.parentNode,t))}for(;o<i.length;o+=1)i[o].d(1);i.length=e.length}},d(n){n&&st(t),_o(i,n)}}}function Oc(s){let t,e=s[11].on_email+"",i,n,r,o;function a(){return s[7](s[11])}return{c(){t=S("button"),i=ut(e),n=I(),k(t,"class","list-item svelte-1biiz6x")},m(l,c){at(l,t,c),y(t,i),y(t,n),r||(o=ct(t,"click",a),r=!0)},p(l,c){s=l,c&2&&e!==(e=s[11].on_email+"")&&fe(i,e)},d(l){l&&st(t),r=!1,o()}}}function Lv(s){let t;return{c(){t=ut("Loading....")},m(e,i){at(e,t,i)},p:L,d(e){e&&st(t)}}}function Nv(s){let t,e,i,n,r,o,a,l,c,h,u,d,f,g,m,p,_,b,w,v,x,T,O,M,D,A,P,N,V,J,z,F,U,X,Q,kt,St,Tt,Y,G,$t,Lt,yt,Zs,qi,pt={ctx:s,current:null,token:null,hasCatch:!1,pending:Pv,then:Av,catch:Dv};jr(s[4],pt);let dt={ctx:s,current:null,token:null,hasCatch:!1,pending:Lv,then:Rv,catch:Iv};return jr(s[5],dt),{c(){t=S("main"),e=S("h1"),e.textContent="Sync Settings",i=I(),n=S("div"),r=S("div"),r.textContent="Signed in as:",o=I(),a=S("div"),l=S("div"),l.textContent=`${Kt.email}`,c=I(),h=S("div"),u=S("div"),u.textContent="Syncing info to:",d=I(),f=S("div"),g=S("div"),m=ut(s[2]),p=I(),_=S("h2"),_.textContent="Account Sharing",b=I(),w=S("div"),v=S("div"),v.textContent="Users with access to your account:",x=I(),T=S("div"),pt.block.c(),O=I(),M=S("button"),M.textContent="Add user +",D=I(),A=S("div"),P=S("div"),P.textContent="Users accounts you have access to:",N=I(),V=S("div"),dt.block.c(),J=I(),z=S("button"),z.textContent="Your Account",F=I(),U=S("h2"),U.textContent="View Raw Data",X=I(),Q=S("div"),kt=S("div"),St=S("button"),St.textContent="View Raw Data",Tt=I(),Y=S("h2"),Y.textContent="Sign out",G=I(),$t=S("div"),Lt=S("div"),yt=S("button"),yt.textContent="Sign Out",k(e,"class","svelte-1biiz6x"),k(r,"class","field svelte-1biiz6x"),k(l,"class","list-item"),k(a,"class","value svelte-1biiz6x"),k(n,"class","info svelte-1biiz6x"),k(u,"class","field svelte-1biiz6x"),k(g,"class","list-item"),k(f,"class","value svelte-1biiz6x"),k(h,"class","info svelte-1biiz6x"),k(v,"class","field svelte-1biiz6x"),k(M,"class","list-item svelte-1biiz6x"),k(T,"class","value svelte-1biiz6x"),k(w,"class","info svelte-1biiz6x"),k(P,"class","field svelte-1biiz6x"),k(z,"class","list-item svelte-1biiz6x"),k(V,"class","value svelte-1biiz6x"),k(A,"class","info svelte-1biiz6x"),k(St,"class","list-item svelte-1biiz6x"),k(kt,"class","value svelte-1biiz6x"),k(Q,"class","info svelte-1biiz6x"),k(yt,"class","list-item svelte-1biiz6x"),k(Lt,"class","value svelte-1biiz6x"),k($t,"class","info svelte-1biiz6x"),k(t,"class","svelte-1biiz6x")},m(Js,Ks){at(Js,t,Ks),y(t,e),y(t,i),y(t,n),y(n,r),y(n,o),y(n,a),y(a,l),y(t,c),y(t,h),y(h,u),y(h,d),y(h,f),y(f,g),y(g,m),y(t,p),y(t,_),y(t,b),y(t,w),y(w,v),y(w,x),y(w,T),pt.block.m(T,pt.anchor=null),pt.mount=()=>T,pt.anchor=O,y(T,O),y(T,M),y(t,D),y(t,A),y(A,P),y(A,N),y(A,V),dt.block.m(V,dt.anchor=null),dt.mount=()=>V,dt.anchor=J,y(V,J),y(V,z),y(t,F),y(t,U),y(t,X),y(t,Q),y(Q,kt),y(kt,St),y(t,Tt),y(t,Y),y(t,G),y(t,$t),y($t,Lt),y(Lt,yt),Zs||(qi=[ct(M,"click",s[3]),ct(z,"click",s[8]),ct(St,"click",s[9]),ct(yt,"click",s[10])],Zs=!0)},p(Js,[Ks]){s=Js,Ks&4&&fe(m,s[2]),zr(pt,s,Ks),zr(dt,s,Ks)},i:L,o:L,d(Js){Js&&st(t),pt.block.d(),pt.token=null,pt=null,dt.block.d(),dt.token=null,dt=null,Zs=!1,le(qi)}}}function $v(s,t,e){let i;cs(s,ir,g=>e(2,i=g));let n=[],r=[];async function o(){let g=prompt("Email address to give access to:");await Mv(g),e(0,n=await $r())}let a=new Promise(async(g,m)=>{e(0,n=await $r()),console.log(n),g()}),l=new Promise(async(g,m)=>{e(1,r=await Cv()),console.log(r),g()});function c(g){return async()=>{confirm(`Revoke access from ${g}`)&&(await Ev(g),e(0,n=await $r()))}}return[n,r,i,o,a,l,c,g=>{wc(g.on_email,g.on)},()=>{wc(Kt.email,Kt.id)},()=>{He.set(wt.RAW_DATA)},async()=>{await Xt.auth.signOut(),location.reload()}]}class Fv extends Ee{constructor(t){super(),Me(this,t,$v,Nv,ce,{})}}const Tc=20;async function jv(s){const{data:t,error:e}=await Xt.from("record").select().eq("user_uid",Rc(Vi)).order("date",{ascending:!1}).order("time",{ascending:!1}).range((s-1)*Tc,s*Tc-1);if(e)throw e;return console.log(`Fetched page ${s}`,t),t}async function zv(s){const{data:t,error:e}=await Xt.from("record").delete().eq("id",s);if(console.log("Deleting",s,t),e)throw e}function Mc(s,t,e){const i=s.slice();return i[11]=t[e],i[13]=e,i}function Ec(s){let t,e,i=s[11].comment+"",n;return{c(){t=S("div"),e=S("div"),n=ut(i),k(e,"class","left svelte-1ixxhu6"),k(t,"class","row svelte-1ixxhu6")},m(r,o){at(r,t,o),y(t,e),y(e,n)},p(r,o){o&1&&i!==(i=r[11].comment+"")&&fe(n,i)},d(r){r&&st(t)}}}function Cc(s){let t,e,i,n=R.fromSQL(s[11].date).toLocaleString(R.DATE_FULL)+"",r,o,a,l=s[4](s[11].time)+"",c,h,u,d,f,g=s[11].value_sys+"",m,p,_,b,w,v=s[11].value_dia+"",x,T,O,M,D,A,P=s[11].heart_rate+"",N,V,J,z,F,U,X,Q,kt,St,Tt,Y,G,$t,Lt,yt=s[11].comment&&Ec(s);function Zs(){return s[8](s[13])}function qi(){return s[9](s[13])}return{c(){t=S("div"),e=S("div"),i=S("div"),r=ut(n),o=I(),a=S("div"),c=ut(l),h=I(),u=S("div"),d=S("div"),f=S("span"),m=ut(g),p=ut("s"),b=ut(`
                        /
                        `),w=S("span"),x=ut(v),O=ut(`
                        (S/D)`),M=I(),D=S("div"),A=S("span"),N=ut(P),J=ut(`
                        (HR)`),z=I(),yt&&yt.c(),F=I(),U=S("div"),X=S("div"),Q=S("button"),Q.textContent="Edit",kt=I(),St=S("div"),Tt=S("button"),Tt.textContent="Delete",k(i,"class","left svelte-1ixxhu6"),k(a,"class","right svelte-1ixxhu6"),k(e,"class","row svelte-1ixxhu6"),k(f,"class",_=Gt(Ts(s[2].BP_SYS,s[11].value_sys))+" svelte-1ixxhu6"),k(w,"class",T=Gt(Ts(s[2].BP_DIA,s[11].value_dia))+" svelte-1ixxhu6"),k(d,"class","left svelte-1ixxhu6"),k(A,"class",V=Gt(Ts(s[2].HR,s[11].heart_rate))+" svelte-1ixxhu6"),k(D,"class","right svelte-1ixxhu6"),k(u,"class","row svelte-1ixxhu6"),k(Q,"class","abtn edit svelte-1ixxhu6"),k(X,"class","left svelte-1ixxhu6"),k(Tt,"class","abtn delete svelte-1ixxhu6"),k(St,"class","right svelte-1ixxhu6"),k(U,"class","row svelte-1ixxhu6"),k(t,"class","record svelte-1ixxhu6")},m(pt,dt){at(pt,t,dt),y(t,e),y(e,i),y(i,r),y(e,o),y(e,a),y(a,c),y(t,h),y(t,u),y(u,d),y(d,f),y(f,m),y(f,p),y(d,b),y(d,w),y(w,x),y(d,O),y(u,M),y(u,D),y(D,A),y(A,N),y(D,J),y(t,z),yt&&yt.m(t,null),y(t,F),y(t,U),y(U,X),y(X,Q),y(U,kt),y(U,St),y(St,Tt),G=!0,$t||(Lt=[ct(Q,"click",Zs),ct(Tt,"click",qi)],$t=!0)},p(pt,dt){s=pt,(!G||dt&1)&&n!==(n=R.fromSQL(s[11].date).toLocaleString(R.DATE_FULL)+"")&&fe(r,n),(!G||dt&1)&&l!==(l=s[4](s[11].time)+"")&&fe(c,l),(!G||dt&1)&&g!==(g=s[11].value_sys+"")&&fe(m,g),(!G||dt&1&&_!==(_=Gt(Ts(s[2].BP_SYS,s[11].value_sys))+" svelte-1ixxhu6"))&&k(f,"class",_),(!G||dt&1)&&v!==(v=s[11].value_dia+"")&&fe(x,v),(!G||dt&1&&T!==(T=Gt(Ts(s[2].BP_DIA,s[11].value_dia))+" svelte-1ixxhu6"))&&k(w,"class",T),(!G||dt&1)&&P!==(P=s[11].heart_rate+"")&&fe(N,P),(!G||dt&1&&V!==(V=Gt(Ts(s[2].HR,s[11].heart_rate))+" svelte-1ixxhu6"))&&k(A,"class",V),s[11].comment?yt?yt.p(s,dt):(yt=Ec(s),yt.c(),yt.m(t,F)):yt&&(yt.d(1),yt=null)},i(pt){G||(pt&&us(()=>{G&&(Y||(Y=Pn(t,sa,{},!0)),Y.run(1))}),G=!0)},o(pt){pt&&(Y||(Y=Pn(t,sa,{},!1)),Y.run(0)),G=!1},d(pt){pt&&st(t),yt&&yt.d(),pt&&Y&&Y.end(),$t=!1,le(Lt)}}}function Vv(s){let t,e,i,n,r,o,a,l,c,h,u,d,f,g,m=$s(s[0]),p=[];for(let b=0;b<m.length;b+=1)p[b]=Cc(Mc(s,m,b));const _=b=>Ct(p[b],1,1,()=>{p[b]=null});return{c(){t=S("main"),e=S("div"),i=S("h1"),i.textContent="Raw Data",n=I(),r=S("button"),r.textContent="",o=I(),a=S("div");for(let b=0;b<p.length;b+=1)p[b].c();l=I(),c=S("div"),h=S("button"),u=ut("Load More"),k(r,"class","close svelte-1ixxhu6"),k(e,"class","topContainer svelte-1ixxhu6"),k(h,"class","loadmore abtn edit svelte-1ixxhu6"),h.disabled=s[1],k(c,"class","loadmore svelte-1ixxhu6"),k(a,"class","scrollable svelte-1ixxhu6"),k(t,"class","svelte-1ixxhu6")},m(b,w){at(b,t,w),y(t,e),y(e,i),y(e,n),y(e,r),y(t,o),y(t,a);for(let v=0;v<p.length;v+=1)p[v]&&p[v].m(a,null);y(a,l),y(a,c),y(c,h),y(h,u),d=!0,f||(g=[ct(r,"click",s[7]),ct(h,"click",s[3])],f=!0)},p(b,[w]){if(w&117){m=$s(b[0]);let v;for(v=0;v<m.length;v+=1){const x=Mc(b,m,v);p[v]?(p[v].p(x,w),xt(p[v],1)):(p[v]=Cc(x),p[v].c(),xt(p[v],1),p[v].m(a,l))}for(Gn(),v=m.length;v<p.length;v+=1)_(v);Zn()}(!d||w&2)&&(h.disabled=b[1])},i(b){if(!d){for(let w=0;w<m.length;w+=1)xt(p[w]);d=!0}},o(b){p=p.filter(Boolean);for(let w=0;w<p.length;w+=1)Ct(p[w]);d=!1},d(b){b&&st(t),_o(p,b),f=!1,le(g)}}}const Wv=140,Bv=110,Hv=85,Uv=50,qv=90,Yv=60;function Ts(s,t){if(s==0){if(t>Wv)return"high";if(t<Bv)return"low"}else if(s==1){if(t>Hv)return"high";if(t<Uv)return"low"}else if(s==2){if(t>qv)return"high";if(t<Yv)return"low"}return""}function Gv(s,t,e){bo(()=>{Li.set(!0),console.log("Hiding")}),jc(()=>{Li.set(!1)});let i=[],n=0,r=!1;var o=(g=>(g[g.BP_SYS=0]="BP_SYS",g[g.BP_DIA=1]="BP_DIA",g[g.HR=2]="HR",g))(o||{});async function a(){e(1,r=!0),n++;let g=await jv(n);e(0,i=[...i,...g]),g.length===0?alert("No more records"):e(1,r=!1)}function l(g){switch(+g){case Et.MORNING:return"Morning";case Et.AFTERNOON:return"Afternoon";case Et.EVENING:return"Evenng";case Et.NIGHT:return"Night";default:return g}}async function c(g){if(!confirm("Are you sure you want to delete this record?"))return;let m=i[g].id;await zv(m),i.splice(g,1),e(0,i)}a();function h(g){Gu.set(i[g]),He.set(wt.EDIT_RECORD)}return[i,r,o,a,l,c,h,()=>{He.set(wt.SYNC_DETAILS)},g=>{h(g)},g=>{c(g)}]}class Zv extends Ee{constructor(t){super(),Me(this,t,Gv,Vv,ce,{})}}function Jv(s){let t,e,i,n,r,o,a,l,c,h,u,d,f,g,m,p,_,b,w,v,x,T,O,M,D,A,P,N,V,J,z,F,U,X,Q,kt,St,Tt;return{c(){t=S("main"),e=S("div"),i=S("h1"),i.textContent="Edit Record",n=I(),r=S("button"),r.textContent="",o=I(),a=S("form"),l=S("input"),c=I(),h=S("input"),u=I(),d=S("div"),f=S("input"),g=I(),m=S("div"),p=S("select"),_=S("option"),b=ut("Morning"),w=S("option"),v=ut("Afternoon"),x=S("option"),T=ut("Evening"),O=S("option"),M=ut("Night"),D=I(),A=S("div"),P=S("input"),N=I(),V=S("div"),J=S("input"),z=I(),F=S("input"),U=I(),X=S("input"),Q=I(),kt=S("div"),kt.innerHTML='<input type="submit" class="svelte-xe29ey"/>',k(i,"class","svelte-xe29ey"),k(r,"class","close svelte-xe29ey"),k(e,"class","titleContainer svelte-xe29ey"),k(l,"type","hidden"),k(l,"name","id"),k(h,"type","hidden"),k(h,"name","user_uid"),k(f,"type","date"),k(f,"name","date"),k(f,"class","svelte-xe29ey"),k(d,"class","row svelte-xe29ey"),_.__value=Et.MORNING,rt(_,_.__value),_.selected=Et.MORNING==s[8],w.__value=Et.AFTERNOON,rt(w,w.__value),w.selected=Et.AFTERNOON==s[8],x.__value=Et.EVENING,rt(x,x.__value),x.selected=Et.EVENING==s[8],O.__value=Et.NIGHT,rt(O,O.__value),O.selected=Et.NIGHT==s[8],k(p,"name","time"),k(p,"class","svelte-xe29ey"),k(m,"class","row svelte-xe29ey"),k(P,"type","text"),k(P,"placeholder","Comment..."),k(P,"name","comment"),k(P,"class","svelte-xe29ey"),k(A,"class","row svelte-xe29ey"),k(J,"type","number"),k(J,"name","value_sys"),k(J,"placeholder","Sys"),k(J,"class","svelte-xe29ey"),k(F,"type","number"),k(F,"name","value_dia"),k(F,"placeholder","Dia"),k(F,"class","svelte-xe29ey"),k(X,"type","number"),k(X,"name","heart_rate"),k(X,"placeholder","HR"),k(X,"class","svelte-xe29ey"),k(V,"class","row split svelte-xe29ey"),k(kt,"class","row svelte-xe29ey"),k(a,"action",""),k(t,"class","svelte-xe29ey")},m(Y,G){at(Y,t,G),y(t,e),y(e,i),y(e,n),y(e,r),y(t,o),y(t,a),y(a,l),rt(l,s[1]),y(a,c),y(a,h),rt(h,s[7]),y(a,u),y(a,d),y(d,f),rt(f,s[2]),y(a,g),y(a,m),y(m,p),y(p,_),y(_,b),y(p,w),y(w,v),y(p,x),y(x,T),y(p,O),y(O,M),y(a,D),y(a,A),y(A,P),rt(P,s[6]),y(a,N),y(a,V),y(V,J),rt(J,s[3]),y(V,z),y(V,F),rt(F,s[4]),y(V,U),y(V,X),rt(X,s[5]),y(a,Q),y(a,kt),s[19](a),St||(Tt=[ct(r,"click",s[11]),ct(l,"input",s[12]),ct(h,"input",s[13]),ct(f,"input",s[14]),ct(P,"input",s[15]),ct(J,"input",s[16]),ct(F,"input",s[17]),ct(X,"input",s[18]),ct(a,"submit",s[9])],St=!0)},p(Y,[G]){G&2&&rt(l,Y[1]),G&128&&rt(h,Y[7]),G&4&&rt(f,Y[2]),G&64&&P.value!==Y[6]&&rt(P,Y[6]),G&8&&As(J.value)!==Y[3]&&rt(J,Y[3]),G&16&&As(F.value)!==Y[4]&&rt(F,Y[4]),G&32&&As(X.value)!==Y[5]&&rt(X,Y[5])},i:L,o:L,d(Y){Y&&st(t),s[19](null),St=!1,le(Tt)}}}function Kv(s,t,e){let i;Li.set(!0);let{record:n}=t,{id:r,date:o,time:a,value_sys:l,value_dia:c,heart_rate:h,comment:u,user_uid:d}=n;async function f(O){O.preventDefault();const M=new FormData(i);await kv(M)&&(alert("Edit Success"),He.set(wt.RAW_DATA))}jc(()=>{Li.set(!1)});const g=()=>{He.set(wt.RAW_DATA)};function m(){r=this.value,e(1,r)}function p(){d=this.value,e(7,d)}function _(){o=this.value,e(2,o)}function b(){u=this.value,e(6,u)}function w(){l=As(this.value),e(3,l)}function v(){c=As(this.value),e(4,c)}function x(){h=As(this.value),e(5,h)}function T(O){hs[O?"unshift":"push"](()=>{i=O,e(0,i)})}return s.$$set=O=>{"record"in O&&e(10,n=O.record)},[i,r,o,l,c,h,u,d,a,f,n,g,m,p,_,b,w,v,x,T]}class Xv extends Ee{constructor(t){super(),Me(this,t,Kv,Jv,ce,{record:10})}}function Qv(s){let t,e;return t=new Xv({props:{record:s[1]}}),{c(){Ve(t.$$.fragment)},m(i,n){Se(t,i,n),e=!0},p(i,n){const r={};n&2&&(r.record=i[1]),t.$set(r)},i(i){e||(xt(t.$$.fragment,i),e=!0)},o(i){Ct(t.$$.fragment,i),e=!1},d(i){Oe(t,i)}}}function tw(s){let t,e;return t=new Zv({}),{c(){Ve(t.$$.fragment)},m(i,n){Se(t,i,n),e=!0},p:L,i(i){e||(xt(t.$$.fragment,i),e=!0)},o(i){Ct(t.$$.fragment,i),e=!1},d(i){Oe(t,i)}}}function ew(s){let t,e;return t=new Fv({}),{c(){Ve(t.$$.fragment)},m(i,n){Se(t,i,n),e=!0},p:L,i(i){e||(xt(t.$$.fragment,i),e=!0)},o(i){Ct(t.$$.fragment,i),e=!1},d(i){Oe(t,i)}}}function sw(s){let t,e;return t=new Tv({}),{c(){Ve(t.$$.fragment)},m(i,n){Se(t,i,n),e=!0},p:L,i(i){e||(xt(t.$$.fragment,i),e=!0)},o(i){Ct(t.$$.fragment,i),e=!1},d(i){Oe(t,i)}}}function iw(s){let t,e;return t=new wv({}),{c(){Ve(t.$$.fragment)},m(i,n){Se(t,i,n),e=!0},p:L,i(i){e||(xt(t.$$.fragment,i),e=!0)},o(i){Ct(t.$$.fragment,i),e=!1},d(i){Oe(t,i)}}}function nw(s){let t,e,i,n;const r=[iw,sw,ew,tw,Qv],o=[];function a(l,c){return l[0]==wt.HOME_SCREEN?0:l[0]==wt.ADD_RECORD?1:l[0]==wt.SYNC_DETAILS?2:l[0]==wt.RAW_DATA?3:l[0]==wt.EDIT_RECORD?4:-1}return~(e=a(s))&&(i=o[e]=r[e](s)),{c(){t=S("main"),i&&i.c(),k(t,"class","svelte-1t3yj0k")},m(l,c){at(l,t,c),~e&&o[e].m(t,null),n=!0},p(l,[c]){let h=e;e=a(l),e===h?~e&&o[e].p(l,c):(i&&(Gn(),Ct(o[h],1,1,()=>{o[h]=null}),Zn()),~e?(i=o[e],i?i.p(l,c):(i=o[e]=r[e](l),i.c()),xt(i,1),i.m(t,null)):i=null)},i(l){n||(xt(i),n=!0)},o(l){Ct(i),n=!1},d(l){l&&st(t),~e&&o[e].d()}}}function rw(s,t,e){let i,n;return cs(s,He,r=>e(0,i=r)),cs(s,Gu,r=>e(1,n=r)),[i,n]}class ow extends Ee{constructor(t){super(),Me(this,t,rw,nw,ce,{})}}function Dc(s){let t,e,i,n,r,o,a,l,c,h,u,d,f,g;return{c(){t=S("main"),e=S("button"),i=S("span"),i.textContent="Home",r=I(),o=S("button"),a=S("span"),a.textContent="Add",c=I(),h=S("button"),u=S("span"),u.textContent="Sync",k(e,"class",n=Gt(s[1]==wt.HOME_SCREEN?"selected":"")+" svelte-cijz41"),k(o,"class",l=Gt(s[1]==wt.ADD_RECORD?"selected":"")+" svelte-cijz41"),k(h,"class",d=Gt(s[1]==wt.SYNC_DETAILS?"selected":"")+" svelte-cijz41"),k(t,"class","svelte-cijz41")},m(m,p){at(m,t,p),y(t,e),y(e,i),y(t,r),y(t,o),y(o,a),y(t,c),y(t,h),y(h,u),f||(g=[ct(e,"click",s[2](wt.HOME_SCREEN)),ct(o,"click",s[2](wt.ADD_RECORD)),ct(h,"click",s[2](wt.SYNC_DETAILS))],f=!0)},p(m,p){p&2&&n!==(n=Gt(m[1]==wt.HOME_SCREEN?"selected":"")+" svelte-cijz41")&&k(e,"class",n),p&2&&l!==(l=Gt(m[1]==wt.ADD_RECORD?"selected":"")+" svelte-cijz41")&&k(o,"class",l),p&2&&d!==(d=Gt(m[1]==wt.SYNC_DETAILS?"selected":"")+" svelte-cijz41")&&k(h,"class",d)},d(m){m&&st(t),f=!1,le(g)}}}function aw(s){let t,e=!s[0]&&Dc(s);return{c(){e&&e.c(),t=qn()},m(i,n){e&&e.m(i,n),at(i,t,n)},p(i,[n]){i[0]?e&&(e.d(1),e=null):e?e.p(i,n):(e=Dc(i),e.c(),e.m(t.parentNode,t))},i:L,o:L,d(i){i&&st(t),e&&e.d(i)}}}function lw(s,t,e){let i,n;cs(s,Li,o=>e(0,i=o)),cs(s,He,o=>e(1,n=o));function r(o){return()=>{He.set(o)}}return[i,n,r]}class cw extends Ee{constructor(t){super(),Me(this,t,lw,aw,ce,{})}}function hw(s){let t,e;return{c(){t=S("main"),e=S("div"),k(e,"class","loginbtn svelte-85nb0j"),k(t,"class","svelte-85nb0j")},m(i,n){at(i,t,n),y(t,e),s[1](e)},p:L,i:L,o:L,d(i){i&&st(t),s[1](null)}}}function uw(s,t,e){let i=globalThis.google,n;hd();async function r(a){const{data:l,error:c}=await Xt.auth.signInWithIdToken({provider:"google",token:a.credential});if(c)throw c;location.reload()}window.onload=function(){},bo(()=>{i.accounts.id.initialize({use_fedcm_for_prompt:!0,client_id:"221575063928-600fstdnkbu22ehiljl2a7ohck8e4i2r.apps.googleusercontent.com",callback:r}),i.accounts.id.renderButton(n,{theme:"outline",size:"medium"}),i.accounts.id.prompt()});function o(a){hs[a?"unshift":"push"](()=>{n=a,e(0,n)})}return[n,o]}class dw extends Ee{constructor(t){super(),Me(this,t,uw,hw,ce,{})}}function fw(s){return{c:L,m:L,p:L,i:L,o:L,d:L}}function gw(s){let t,e,i,n;const r=[pw,mw],o=[];function a(l,c){return l[1]?0:1}return t=a(s),e=o[t]=r[t](s),{c(){e.c(),i=qn()},m(l,c){o[t].m(l,c),at(l,i,c),n=!0},p(l,c){e.p(l,c)},i(l){n||(xt(e),n=!0)},o(l){Ct(e),n=!1},d(l){l&&st(i),o[t].d(l)}}}function mw(s){let t,e;return t=new dw({}),t.$on("loginDone",my),{c(){Ve(t.$$.fragment)},m(i,n){Se(t,i,n),e=!0},p:L,i(i){e||(xt(t.$$.fragment,i),e=!0)},o(i){Ct(t.$$.fragment,i),e=!1},d(i){Oe(t,i)}}}function pw(s){let t,e,i,n,r,o=Kt.email!=s[0]&&Ac(s);return e=new ow({}),n=new cw({}),{c(){o&&o.c(),t=I(),Ve(e.$$.fragment),i=I(),Ve(n.$$.fragment)},m(a,l){o&&o.m(a,l),at(a,t,l),Se(e,a,l),at(a,i,l),Se(n,a,l),r=!0},p(a,l){Kt.email!=a[0]?o?(o.p(a,l),l&1&&xt(o,1)):(o=Ac(a),o.c(),xt(o,1),o.m(t.parentNode,t)):o&&(Gn(),Ct(o,1,1,()=>{o=null}),Zn())},i(a){r||(xt(o),xt(e.$$.fragment,a),xt(n.$$.fragment,a),r=!0)},o(a){Ct(o),Ct(e.$$.fragment,a),Ct(n.$$.fragment,a),r=!1},d(a){a&&(st(t),st(i)),o&&o.d(a),Oe(e,a),Oe(n,a)}}}function Ac(s){let t,e,i,n;return{c(){t=S("div"),e=ut(s[0]),k(t,"class","currentAccount svelte-89f8od")},m(r,o){at(r,t,o),y(t,e),n=!0},p(r,o){(!n||o&1)&&fe(e,r[0])},i(r){n||(r&&us(()=>{n&&(i||(i=Pn(t,ea,{},!0)),i.run(1))}),n=!0)},o(r){r&&(i||(i=Pn(t,ea,{},!1)),i.run(0)),n=!1},d(r){r&&st(t),r&&i&&i.end()}}}function _w(s){return{c:L,m:L,p:L,i:L,o:L,d:L}}function bw(s){let t,e,i={ctx:s,current:null,token:null,hasCatch:!1,pending:_w,then:gw,catch:fw,value:1,blocks:[,,,]};return jr(gy(),i),{c(){t=S("main"),i.block.c(),k(t,"class","svelte-89f8od")},m(n,r){at(n,t,r),i.block.m(t,i.anchor=null),i.mount=()=>t,i.anchor=null,e=!0},p(n,[r]){s=n,zr(i,s,r)},i(n){e||(xt(i.block),e=!0)},o(n){for(let r=0;r<3;r+=1){const o=i.blocks[r];Ct(o)}e=!1},d(n){n&&st(t),i.block.d(),i.token=null,i=null}}}function yw(s,t,e){let i;return cs(s,ir,n=>e(0,i=n)),[i]}class vw extends Ee{constructor(t){super(),Me(this,t,yw,bw,ce,{})}}new vw({target:document.body,props:{}});
