var Ku=Object.defineProperty;var Xu=(s,t,e)=>t in s?Ku(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e;var E=(s,t,e)=>(Xu(s,typeof t!="symbol"?t+"":t,e),e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function e(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(n){if(n.ep)return;n.ep=!0;const r=e(n);fetch(n.href,r)}})();function R(){}const Qu=s=>s;function td(s){return!!s&&(typeof s=="object"||typeof s=="function")&&typeof s.then=="function"}function $c(s){return s()}function sa(){return Object.create(null)}function we(s){s.forEach($c)}function Wn(s){return typeof s=="function"}function le(s,t){return s!=s?t==t:s!==t||s&&typeof s=="object"||typeof s=="function"}function ed(s){return Object.keys(s).length===0}function Nc(s,...t){if(s==null){for(const i of t)i(void 0);return R}const e=s.subscribe(...t);return e.unsubscribe?()=>e.unsubscribe():e}function Fc(s){let t;return Nc(s,e=>t=e)(),t}function As(s,t,e){s.$$.on_destroy.push(Nc(t,e))}function ds(s){return s??""}const jc=typeof window<"u";let sd=jc?()=>window.performance.now():()=>Date.now(),bo=jc?s=>requestAnimationFrame(s):R;const Os=new Set;function zc(s){Os.forEach(t=>{t.c(s)||(Os.delete(t),t.f())}),Os.size!==0&&bo(zc)}function id(s){let t;return Os.size===0&&bo(zc),{promise:new Promise(e=>{Os.add(t={c:s,f:e})}),abort(){Os.delete(t)}}}function x(s,t){s.appendChild(t)}function Vc(s){if(!s)return document;const t=s.getRootNode?s.getRootNode():s.ownerDocument;return t&&t.host?t:s.ownerDocument}function nd(s){const t=k("style");return t.textContent="/* empty */",rd(Vc(s),t),t.sheet}function rd(s,t){return x(s.head||s,t),t.sheet}function lt(s,t,e){s.insertBefore(t,e||null)}function nt(s){s.parentNode&&s.parentNode.removeChild(s)}function vo(s,t){for(let e=0;e<s.length;e+=1)s[e]&&s[e].d(t)}function k(s){return document.createElement(s)}function pt(s){return document.createTextNode(s)}function F(){return pt(" ")}function Bn(){return pt("")}function Dt(s,t,e,i){return s.addEventListener(t,e,i),()=>s.removeEventListener(t,e,i)}function T(s,t,e){e==null?s.removeAttribute(t):s.getAttribute(t)!==e&&s.setAttribute(t,e)}function od(s){return Array.from(s.childNodes)}function oe(s,t){t=""+t,s.data!==t&&(s.data=t)}function Qe(s,t){s.value=t??""}function ia(s,t,e){for(let i=0;i<s.options.length;i+=1){const n=s.options[i];if(n.__value===t){n.selected=!0;return}}(!e||t!==void 0)&&(s.selectedIndex=-1)}function ad(s){const t=s.querySelector(":checked");return t&&t.__value}function Wc(s,t,{bubbles:e=!1,cancelable:i=!1}={}){return new CustomEvent(s,{detail:t,bubbles:e,cancelable:i})}const Mn=new Map;let En=0;function ld(s){let t=5381,e=s.length;for(;e--;)t=(t<<5)-t^s.charCodeAt(e);return t>>>0}function cd(s,t){const e={stylesheet:nd(t),rules:{}};return Mn.set(s,e),e}function na(s,t,e,i,n,r,o,a=0){const l=16.666/i;let c=`{
`;for(let p=0;p<=1;p+=l){const y=t+(e-t)*r(p);c+=p*100+`%{${o(y,1-y)}}
`}const h=c+`100% {${o(e,1-e)}}
}`,u=`__svelte_${ld(h)}_${a}`,d=Vc(s),{stylesheet:f,rules:g}=Mn.get(d)||cd(d,s);g[u]||(g[u]=!0,f.insertRule(`@keyframes ${u} ${h}`,f.cssRules.length));const m=s.style.animation||"";return s.style.animation=`${m?`${m}, `:""}${u} ${i}ms linear ${n}ms 1 both`,En+=1,u}function hd(s,t){const e=(s.style.animation||"").split(", "),i=e.filter(t?r=>r.indexOf(t)<0:r=>r.indexOf("__svelte")===-1),n=e.length-i.length;n&&(s.style.animation=i.join(", "),En-=n,En||ud())}function ud(){bo(()=>{En||(Mn.forEach(s=>{const{ownerNode:t}=s.stylesheet;t&&nt(t)}),Mn.clear())})}let vi;function ge(s){vi=s}function Hn(){if(!vi)throw new Error("Function called outside component initialization");return vi}function wo(s){Hn().$$.on_mount.push(s)}function dd(s){Hn().$$.on_destroy.push(s)}function fd(){const s=Hn();return(t,e,{cancelable:i=!1}={})=>{const n=s.$$.callbacks[t];if(n){const r=Wc(t,e,{cancelable:i});return n.slice().forEach(o=>{o.call(s,r)}),!r.defaultPrevented}return!0}}const xs=[],Ps=[];let Ts=[];const ra=[],gd=Promise.resolve();let jr=!1;function md(){jr||(jr=!0,gd.then(xo))}function rs(s){Ts.push(s)}const hr=new Set;let fs=0;function xo(){if(fs!==0)return;const s=vi;do{try{for(;fs<xs.length;){const t=xs[fs];fs++,ge(t),pd(t.$$)}}catch(t){throw xs.length=0,fs=0,t}for(ge(null),xs.length=0,fs=0;Ps.length;)Ps.pop()();for(let t=0;t<Ts.length;t+=1){const e=Ts[t];hr.has(e)||(hr.add(e),e())}Ts.length=0}while(xs.length);for(;ra.length;)ra.pop()();jr=!1,hr.clear(),ge(s)}function pd(s){if(s.fragment!==null){s.update(),we(s.before_update);const t=s.dirty;s.dirty=[-1],s.fragment&&s.fragment.p(s.ctx,t),s.after_update.forEach(rs)}}function yd(s){const t=[],e=[];Ts.forEach(i=>s.indexOf(i)===-1?t.push(i):e.push(i)),e.forEach(i=>i()),Ts=t}let Gs;function _d(){return Gs||(Gs=Promise.resolve(),Gs.then(()=>{Gs=null})),Gs}function ur(s,t,e){s.dispatchEvent(Wc(`${t?"intro":"outro"}${e}`))}const mn=new Set;let me;function Un(){me={r:0,c:[],p:me}}function qn(){me.r||we(me.c),me=me.p}function gt(s,t){s&&s.i&&(mn.delete(s),s.i(t))}function kt(s,t,e,i){if(s&&s.o){if(mn.has(s))return;mn.add(s),me.c.push(()=>{mn.delete(s),i&&(e&&s.d(1),i())}),s.o(t)}else i&&i()}const bd={duration:0};function Cn(s,t,e,i){let r=t(s,e,{direction:"both"}),o=i?0:1,a=null,l=null,c=null,h;function u(){c&&hd(s,c)}function d(g,m){const p=g.b-o;return m*=Math.abs(p),{a:o,b:g.b,d:p,duration:m,start:g.start,end:g.start+m,group:g.group}}function f(g){const{delay:m=0,duration:p=300,easing:y=Qu,tick:_=R,css:w}=r||bd,b={start:sd()+m,b:g};g||(b.group=me,me.r+=1),"inert"in s&&(g?h!==void 0&&(s.inert=h):(h=s.inert,s.inert=!0)),a||l?l=b:(w&&(u(),c=na(s,o,g,p,m,y,w)),g&&_(0,1),a=d(b,p),rs(()=>ur(s,g,"start")),id(v=>{if(l&&v>l.start&&(a=d(l,p),l=null,ur(s,a.b,"start"),w&&(u(),c=na(s,o,a.b,a.duration,0,y,r.css))),a){if(v>=a.end)_(o=a.b,1-o),ur(s,a.b,"end"),l||(a.b?u():--a.group.r||we(a.group.c)),a=null;else if(v>=a.start){const S=v-a.start;o=a.a+a.d*y(S/a.duration),_(o,1-o)}}return!!(a||l)}))}return{run(g){Wn(r)?_d().then(()=>{r=r({direction:g?"in":"out"}),f(g)}):f(g)},end(){u(),a=l=null}}}function zr(s,t){const e=t.token={};function i(n,r,o,a){if(t.token!==e)return;t.resolved=a;let l=t.ctx;o!==void 0&&(l=l.slice(),l[o]=a);const c=n&&(t.current=n)(l);let h=!1;t.block&&(t.blocks?t.blocks.forEach((u,d)=>{d!==r&&u&&(Un(),kt(u,1,1,()=>{t.blocks[d]===u&&(t.blocks[d]=null)}),qn())}):t.block.d(1),c.c(),gt(c,1),c.m(t.mount(),t.anchor),h=!0),t.block=c,t.blocks&&(t.blocks[r]=c),h&&xo()}if(td(s)){const n=Hn();if(s.then(r=>{ge(n),i(t.then,1,t.value,r),ge(null)},r=>{if(ge(n),i(t.catch,2,t.error,r),ge(null),!t.hasCatch)throw r}),t.current!==t.pending)return i(t.pending,0),!0}else{if(t.current!==t.then)return i(t.then,1,t.value,s),!0;t.resolved=s}}function Vr(s,t,e){const i=t.slice(),{resolved:n}=s;s.current===s.then&&(i[s.value]=n),s.current===s.catch&&(i[s.error]=n),s.block.p(i,e)}function Is(s){return(s==null?void 0:s.length)!==void 0?s:Array.from(s)}function os(s){s&&s.c()}function Le(s,t,e){const{fragment:i,after_update:n}=s.$$;i&&i.m(t,e),rs(()=>{const r=s.$$.on_mount.map($c).filter(Wn);s.$$.on_destroy?s.$$.on_destroy.push(...r):we(r),s.$$.on_mount=[]}),n.forEach(rs)}function Re(s,t){const e=s.$$;e.fragment!==null&&(yd(e.after_update),we(e.on_destroy),e.fragment&&e.fragment.d(t),e.on_destroy=e.fragment=null,e.ctx=[])}function vd(s,t){s.$$.dirty[0]===-1&&(xs.push(s),md(),s.$$.dirty.fill(0)),s.$$.dirty[t/31|0]|=1<<t%31}function Fe(s,t,e,i,n,r,o=null,a=[-1]){const l=vi;ge(s);const c=s.$$={fragment:null,ctx:[],props:r,update:R,not_equal:n,bound:sa(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(l?l.$$.context:[])),callbacks:sa(),dirty:a,skip_bound:!1,root:t.target||l.$$.root};o&&o(c.root);let h=!1;if(c.ctx=e?e(s,t.props||{},(u,d,...f)=>{const g=f.length?f[0]:d;return c.ctx&&n(c.ctx[u],c.ctx[u]=g)&&(!c.skip_bound&&c.bound[u]&&c.bound[u](g),h&&vd(s,u)),d}):[],c.update(),h=!0,we(c.before_update),c.fragment=i?i(c.ctx):!1,t.target){if(t.hydrate){const u=od(t.target);c.fragment&&c.fragment.l(u),u.forEach(nt)}else c.fragment&&c.fragment.c();t.intro&&gt(s.$$.fragment),Le(s,t.target,t.anchor),xo()}ge(l)}class je{constructor(){E(this,"$$");E(this,"$$set")}$destroy(){Re(this,1),this.$destroy=R}$on(t,e){if(!Wn(e))return R;const i=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return i.push(e),()=>{const n=i.indexOf(e);n!==-1&&i.splice(n,1)}}$set(t){this.$$set&&!ed(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const wd="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(wd);function Bc(s){const t=s-1;return t*t*t+1}function oa(s,{delay:t=0,duration:e=400,easing:i=Bc,axis:n="y"}={}){const r=getComputedStyle(s),o=+r.opacity,a=n==="y"?"height":"width",l=parseFloat(r[a]),c=n==="y"?["top","bottom"]:["left","right"],h=c.map(y=>`${y[0].toUpperCase()}${y.slice(1)}`),u=parseFloat(r[`padding${h[0]}`]),d=parseFloat(r[`padding${h[1]}`]),f=parseFloat(r[`margin${h[0]}`]),g=parseFloat(r[`margin${h[1]}`]),m=parseFloat(r[`border${h[0]}Width`]),p=parseFloat(r[`border${h[1]}Width`]);return{delay:t,duration:e,easing:i,css:y=>`overflow: hidden;opacity: ${Math.min(y*20,1)*o};${a}: ${y*l}px;padding-${c[0]}: ${y*u}px;padding-${c[1]}: ${y*d}px;margin-${c[0]}: ${y*f}px;margin-${c[1]}: ${y*g}px;border-${c[0]}-width: ${y*m}px;border-${c[1]}-width: ${y*p}px;`}}function aa(s,{delay:t=0,duration:e=400,easing:i=Bc,start:n=0,opacity:r=0}={}){const o=getComputedStyle(s),a=+o.opacity,l=o.transform==="none"?"":o.transform,c=1-n,h=a*(1-r);return{delay:t,duration:e,easing:i,css:(u,d)=>`
			transform: ${l} scale(${1-c*d});
			opacity: ${a-h*d}
		`}}/*!
 * @kurkle/color v0.3.2
 * https://github.com/kurkle/color#readme
 * (c) 2023 Jukka Kurkela
 * Released under the MIT License
 */function Pi(s){return s+.5|0}const Ce=(s,t,e)=>Math.max(Math.min(s,e),t);function ii(s){return Ce(Pi(s*2.55),0,255)}function Ie(s){return Ce(Pi(s*255),0,255)}function fe(s){return Ce(Pi(s/2.55)/100,0,1)}function la(s){return Ce(Pi(s*100),0,100)}const $t={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Wr=[..."0123456789ABCDEF"],xd=s=>Wr[s&15],kd=s=>Wr[(s&240)>>4]+Wr[s&15],Hi=s=>(s&240)>>4===(s&15),Sd=s=>Hi(s.r)&&Hi(s.g)&&Hi(s.b)&&Hi(s.a);function Od(s){var t=s.length,e;return s[0]==="#"&&(t===4||t===5?e={r:255&$t[s[1]]*17,g:255&$t[s[2]]*17,b:255&$t[s[3]]*17,a:t===5?$t[s[4]]*17:255}:(t===7||t===9)&&(e={r:$t[s[1]]<<4|$t[s[2]],g:$t[s[3]]<<4|$t[s[4]],b:$t[s[5]]<<4|$t[s[6]],a:t===9?$t[s[7]]<<4|$t[s[8]]:255})),e}const Td=(s,t)=>s<255?t(s):"";function Md(s){var t=Sd(s)?xd:kd;return s?"#"+t(s.r)+t(s.g)+t(s.b)+Td(s.a,t):void 0}const Ed=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Hc(s,t,e){const i=t*Math.min(e,1-e),n=(r,o=(r+s/30)%12)=>e-i*Math.max(Math.min(o-3,9-o,1),-1);return[n(0),n(8),n(4)]}function Cd(s,t,e){const i=(n,r=(n+s/60)%6)=>e-e*t*Math.max(Math.min(r,4-r,1),0);return[i(5),i(3),i(1)]}function Dd(s,t,e){const i=Hc(s,1,.5);let n;for(t+e>1&&(n=1/(t+e),t*=n,e*=n),n=0;n<3;n++)i[n]*=1-t-e,i[n]+=t;return i}function Ad(s,t,e,i,n){return s===n?(t-e)/i+(t<e?6:0):t===n?(e-s)/i+2:(s-t)/i+4}function ko(s){const e=s.r/255,i=s.g/255,n=s.b/255,r=Math.max(e,i,n),o=Math.min(e,i,n),a=(r+o)/2;let l,c,h;return r!==o&&(h=r-o,c=a>.5?h/(2-r-o):h/(r+o),l=Ad(e,i,n,h,r),l=l*60+.5),[l|0,c||0,a]}function So(s,t,e,i){return(Array.isArray(t)?s(t[0],t[1],t[2]):s(t,e,i)).map(Ie)}function Oo(s,t,e){return So(Hc,s,t,e)}function Pd(s,t,e){return So(Dd,s,t,e)}function Id(s,t,e){return So(Cd,s,t,e)}function Uc(s){return(s%360+360)%360}function Ld(s){const t=Ed.exec(s);let e=255,i;if(!t)return;t[5]!==i&&(e=t[6]?ii(+t[5]):Ie(+t[5]));const n=Uc(+t[2]),r=+t[3]/100,o=+t[4]/100;return t[1]==="hwb"?i=Pd(n,r,o):t[1]==="hsv"?i=Id(n,r,o):i=Oo(n,r,o),{r:i[0],g:i[1],b:i[2],a:e}}function Rd(s,t){var e=ko(s);e[0]=Uc(e[0]+t),e=Oo(e),s.r=e[0],s.g=e[1],s.b=e[2]}function $d(s){if(!s)return;const t=ko(s),e=t[0],i=la(t[1]),n=la(t[2]);return s.a<255?`hsla(${e}, ${i}%, ${n}%, ${fe(s.a)})`:`hsl(${e}, ${i}%, ${n}%)`}const ca={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},ha={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Nd(){const s={},t=Object.keys(ha),e=Object.keys(ca);let i,n,r,o,a;for(i=0;i<t.length;i++){for(o=a=t[i],n=0;n<e.length;n++)r=e[n],a=a.replace(r,ca[r]);r=parseInt(ha[o],16),s[a]=[r>>16&255,r>>8&255,r&255]}return s}let Ui;function Fd(s){Ui||(Ui=Nd(),Ui.transparent=[0,0,0,0]);const t=Ui[s.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const jd=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function zd(s){const t=jd.exec(s);let e=255,i,n,r;if(t){if(t[7]!==i){const o=+t[7];e=t[8]?ii(o):Ce(o*255,0,255)}return i=+t[1],n=+t[3],r=+t[5],i=255&(t[2]?ii(i):Ce(i,0,255)),n=255&(t[4]?ii(n):Ce(n,0,255)),r=255&(t[6]?ii(r):Ce(r,0,255)),{r:i,g:n,b:r,a:e}}}function Vd(s){return s&&(s.a<255?`rgba(${s.r}, ${s.g}, ${s.b}, ${fe(s.a)})`:`rgb(${s.r}, ${s.g}, ${s.b})`)}const dr=s=>s<=.0031308?s*12.92:Math.pow(s,1/2.4)*1.055-.055,gs=s=>s<=.04045?s/12.92:Math.pow((s+.055)/1.055,2.4);function Wd(s,t,e){const i=gs(fe(s.r)),n=gs(fe(s.g)),r=gs(fe(s.b));return{r:Ie(dr(i+e*(gs(fe(t.r))-i))),g:Ie(dr(n+e*(gs(fe(t.g))-n))),b:Ie(dr(r+e*(gs(fe(t.b))-r))),a:s.a+e*(t.a-s.a)}}function qi(s,t,e){if(s){let i=ko(s);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,t===0?360:1)),i=Oo(i),s.r=i[0],s.g=i[1],s.b=i[2]}}function qc(s,t){return s&&Object.assign(t||{},s)}function ua(s){var t={r:0,g:0,b:0,a:255};return Array.isArray(s)?s.length>=3&&(t={r:s[0],g:s[1],b:s[2],a:255},s.length>3&&(t.a=Ie(s[3]))):(t=qc(s,{r:0,g:0,b:0,a:1}),t.a=Ie(t.a)),t}function Bd(s){return s.charAt(0)==="r"?zd(s):Ld(s)}class wi{constructor(t){if(t instanceof wi)return t;const e=typeof t;let i;e==="object"?i=ua(t):e==="string"&&(i=Od(t)||Fd(t)||Bd(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=qc(this._rgb);return t&&(t.a=fe(t.a)),t}set rgb(t){this._rgb=ua(t)}rgbString(){return this._valid?Vd(this._rgb):void 0}hexString(){return this._valid?Md(this._rgb):void 0}hslString(){return this._valid?$d(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,n=t.rgb;let r;const o=e===r?.5:e,a=2*o-1,l=i.a-n.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;r=1-c,i.r=255&c*i.r+r*n.r+.5,i.g=255&c*i.g+r*n.g+.5,i.b=255&c*i.b+r*n.b+.5,i.a=o*i.a+(1-o)*n.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=Wd(this._rgb,t._rgb,e)),this}clone(){return new wi(this.rgb)}alpha(t){return this._rgb.a=Ie(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=Pi(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return qi(this._rgb,2,t),this}darken(t){return qi(this._rgb,2,-t),this}saturate(t){return qi(this._rgb,1,t),this}desaturate(t){return qi(this._rgb,1,-t),this}rotate(t){return Rd(this._rgb,t),this}}/*!
 * Chart.js v4.4.3
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */function he(){}const Hd=(()=>{let s=0;return()=>s++})();function q(s){return s===null||typeof s>"u"}function it(s){if(Array.isArray&&Array.isArray(s))return!0;const t=Object.prototype.toString.call(s);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function B(s){return s!==null&&Object.prototype.toString.call(s)==="[object Object]"}function ot(s){return(typeof s=="number"||s instanceof Number)&&isFinite(+s)}function Pt(s,t){return ot(s)?s:t}function $(s,t){return typeof s>"u"?t:s}const Ud=(s,t)=>typeof s=="string"&&s.endsWith("%")?parseFloat(s)/100:+s/t,Yc=(s,t)=>typeof s=="string"&&s.endsWith("%")?parseFloat(s)/100*t:+s;function tt(s,t,e){if(s&&typeof s.call=="function")return s.apply(e,t)}function Z(s,t,e,i){let n,r,o;if(it(s))for(r=s.length,n=0;n<r;n++)t.call(e,s[n],n);else if(B(s))for(o=Object.keys(s),r=o.length,n=0;n<r;n++)t.call(e,s[o[n]],o[n])}function Dn(s,t){let e,i,n,r;if(!s||!t||s.length!==t.length)return!1;for(e=0,i=s.length;e<i;++e)if(n=s[e],r=t[e],n.datasetIndex!==r.datasetIndex||n.index!==r.index)return!1;return!0}function An(s){if(it(s))return s.map(An);if(B(s)){const t=Object.create(null),e=Object.keys(s),i=e.length;let n=0;for(;n<i;++n)t[e[n]]=An(s[e[n]]);return t}return s}function Gc(s){return["__proto__","prototype","constructor"].indexOf(s)===-1}function qd(s,t,e,i){if(!Gc(s))return;const n=t[s],r=e[s];B(n)&&B(r)?xi(n,r,i):t[s]=An(r)}function xi(s,t,e){const i=it(t)?t:[t],n=i.length;if(!B(s))return s;e=e||{};const r=e.merger||qd;let o;for(let a=0;a<n;++a){if(o=i[a],!B(o))continue;const l=Object.keys(o);for(let c=0,h=l.length;c<h;++c)r(l[c],s,o,e)}return s}function ui(s,t){return xi(s,t,{merger:Yd})}function Yd(s,t,e){if(!Gc(s))return;const i=t[s],n=e[s];B(i)&&B(n)?ui(i,n):Object.prototype.hasOwnProperty.call(t,s)||(t[s]=An(n))}const da={"":s=>s,x:s=>s.x,y:s=>s.y};function Gd(s){const t=s.split("."),e=[];let i="";for(const n of t)i+=n,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}function Zd(s){const t=Gd(s);return e=>{for(const i of t){if(i==="")break;e=e&&e[i]}return e}}function $e(s,t){return(da[t]||(da[t]=Zd(t)))(s)}function To(s){return s.charAt(0).toUpperCase()+s.slice(1)}const ki=s=>typeof s<"u",Ne=s=>typeof s=="function",fa=(s,t)=>{if(s.size!==t.size)return!1;for(const e of s)if(!t.has(e))return!1;return!0};function Jd(s){return s.type==="mouseup"||s.type==="click"||s.type==="contextmenu"}const st=Math.PI,et=2*st,Kd=et+st,Pn=Number.POSITIVE_INFINITY,Xd=st/180,ht=st/2,Ve=st/4,ga=st*2/3,De=Math.log10,ae=Math.sign;function di(s,t,e){return Math.abs(s-t)<e}function ma(s){const t=Math.round(s);s=di(s,t,s/1e3)?t:s;const e=Math.pow(10,Math.floor(De(s))),i=s/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function Qd(s){const t=[],e=Math.sqrt(s);let i;for(i=1;i<e;i++)s%i===0&&(t.push(i),t.push(s/i));return e===(e|0)&&t.push(e),t.sort((n,r)=>n-r).pop(),t}function Ls(s){return!isNaN(parseFloat(s))&&isFinite(s)}function tf(s,t){const e=Math.round(s);return e-t<=s&&e+t>=s}function Zc(s,t,e){let i,n,r;for(i=0,n=s.length;i<n;i++)r=s[i][e],isNaN(r)||(t.min=Math.min(t.min,r),t.max=Math.max(t.max,r))}function Gt(s){return s*(st/180)}function Mo(s){return s*(180/st)}function pa(s){if(!ot(s))return;let t=1,e=0;for(;Math.round(s*t)/t!==s;)t*=10,e++;return e}function Jc(s,t){const e=t.x-s.x,i=t.y-s.y,n=Math.sqrt(e*e+i*i);let r=Math.atan2(i,e);return r<-.5*st&&(r+=et),{angle:r,distance:n}}function Br(s,t){return Math.sqrt(Math.pow(t.x-s.x,2)+Math.pow(t.y-s.y,2))}function ef(s,t){return(s-t+Kd)%et-st}function It(s){return(s%et+et)%et}function Si(s,t,e,i){const n=It(s),r=It(t),o=It(e),a=It(r-n),l=It(o-n),c=It(n-r),h=It(n-o);return n===r||n===o||i&&r===o||a>l&&c<h}function yt(s,t,e){return Math.max(t,Math.min(e,s))}function sf(s){return yt(s,-32768,32767)}function pe(s,t,e,i=1e-6){return s>=Math.min(t,e)-i&&s<=Math.max(t,e)+i}function Eo(s,t,e){e=e||(o=>s[o]<t);let i=s.length-1,n=0,r;for(;i-n>1;)r=n+i>>1,e(r)?n=r:i=r;return{lo:n,hi:i}}const ye=(s,t,e,i)=>Eo(s,e,i?n=>{const r=s[n][t];return r<e||r===e&&s[n+1][t]===e}:n=>s[n][t]<e),nf=(s,t,e)=>Eo(s,e,i=>s[i][t]>=e);function rf(s,t,e){let i=0,n=s.length;for(;i<n&&s[i]<t;)i++;for(;n>i&&s[n-1]>e;)n--;return i>0||n<s.length?s.slice(i,n):s}const Kc=["push","pop","shift","splice","unshift"];function of(s,t){if(s._chartjs){s._chartjs.listeners.push(t);return}Object.defineProperty(s,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),Kc.forEach(e=>{const i="_onData"+To(e),n=s[e];Object.defineProperty(s,e,{configurable:!0,enumerable:!1,value(...r){const o=n.apply(this,r);return s._chartjs.listeners.forEach(a=>{typeof a[i]=="function"&&a[i](...r)}),o}})})}function ya(s,t){const e=s._chartjs;if(!e)return;const i=e.listeners,n=i.indexOf(t);n!==-1&&i.splice(n,1),!(i.length>0)&&(Kc.forEach(r=>{delete s[r]}),delete s._chartjs)}function Xc(s){const t=new Set(s);return t.size===s.length?s:Array.from(t)}const Qc=function(){return typeof window>"u"?function(s){return s()}:window.requestAnimationFrame}();function th(s,t){let e=[],i=!1;return function(...n){e=n,i||(i=!0,Qc.call(window,()=>{i=!1,s.apply(t,e)}))}}function af(s,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(s,t,i)):s.apply(this,i),t}}const Co=s=>s==="start"?"left":s==="end"?"right":"center",bt=(s,t,e)=>s==="start"?t:s==="end"?e:(t+e)/2,lf=(s,t,e,i)=>s===(i?"left":"right")?e:s==="center"?(t+e)/2:t;function eh(s,t,e){const i=t.length;let n=0,r=i;if(s._sorted){const{iScale:o,_parsed:a}=s,l=o.axis,{min:c,max:h,minDefined:u,maxDefined:d}=o.getUserBounds();u&&(n=yt(Math.min(ye(a,l,c).lo,e?i:ye(t,l,o.getPixelForValue(c)).lo),0,i-1)),d?r=yt(Math.max(ye(a,o.axis,h,!0).hi+1,e?0:ye(t,l,o.getPixelForValue(h),!0).hi+1),n,i)-n:r=i-n}return{start:n,count:r}}function sh(s){const{xScale:t,yScale:e,_scaleRanges:i}=s,n={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!i)return s._scaleRanges=n,!0;const r=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==e.min||i.ymax!==e.max;return Object.assign(i,n),r}const Yi=s=>s===0||s===1,_a=(s,t,e)=>-(Math.pow(2,10*(s-=1))*Math.sin((s-t)*et/e)),ba=(s,t,e)=>Math.pow(2,-10*s)*Math.sin((s-t)*et/e)+1,fi={linear:s=>s,easeInQuad:s=>s*s,easeOutQuad:s=>-s*(s-2),easeInOutQuad:s=>(s/=.5)<1?.5*s*s:-.5*(--s*(s-2)-1),easeInCubic:s=>s*s*s,easeOutCubic:s=>(s-=1)*s*s+1,easeInOutCubic:s=>(s/=.5)<1?.5*s*s*s:.5*((s-=2)*s*s+2),easeInQuart:s=>s*s*s*s,easeOutQuart:s=>-((s-=1)*s*s*s-1),easeInOutQuart:s=>(s/=.5)<1?.5*s*s*s*s:-.5*((s-=2)*s*s*s-2),easeInQuint:s=>s*s*s*s*s,easeOutQuint:s=>(s-=1)*s*s*s*s+1,easeInOutQuint:s=>(s/=.5)<1?.5*s*s*s*s*s:.5*((s-=2)*s*s*s*s+2),easeInSine:s=>-Math.cos(s*ht)+1,easeOutSine:s=>Math.sin(s*ht),easeInOutSine:s=>-.5*(Math.cos(st*s)-1),easeInExpo:s=>s===0?0:Math.pow(2,10*(s-1)),easeOutExpo:s=>s===1?1:-Math.pow(2,-10*s)+1,easeInOutExpo:s=>Yi(s)?s:s<.5?.5*Math.pow(2,10*(s*2-1)):.5*(-Math.pow(2,-10*(s*2-1))+2),easeInCirc:s=>s>=1?s:-(Math.sqrt(1-s*s)-1),easeOutCirc:s=>Math.sqrt(1-(s-=1)*s),easeInOutCirc:s=>(s/=.5)<1?-.5*(Math.sqrt(1-s*s)-1):.5*(Math.sqrt(1-(s-=2)*s)+1),easeInElastic:s=>Yi(s)?s:_a(s,.075,.3),easeOutElastic:s=>Yi(s)?s:ba(s,.075,.3),easeInOutElastic(s){return Yi(s)?s:s<.5?.5*_a(s*2,.1125,.45):.5+.5*ba(s*2-1,.1125,.45)},easeInBack(s){return s*s*((1.70158+1)*s-1.70158)},easeOutBack(s){return(s-=1)*s*((1.70158+1)*s+1.70158)+1},easeInOutBack(s){let t=1.70158;return(s/=.5)<1?.5*(s*s*(((t*=1.525)+1)*s-t)):.5*((s-=2)*s*(((t*=1.525)+1)*s+t)+2)},easeInBounce:s=>1-fi.easeOutBounce(1-s),easeOutBounce(s){return s<1/2.75?7.5625*s*s:s<2/2.75?7.5625*(s-=1.5/2.75)*s+.75:s<2.5/2.75?7.5625*(s-=2.25/2.75)*s+.9375:7.5625*(s-=2.625/2.75)*s+.984375},easeInOutBounce:s=>s<.5?fi.easeInBounce(s*2)*.5:fi.easeOutBounce(s*2-1)*.5+.5};function Do(s){if(s&&typeof s=="object"){const t=s.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function va(s){return Do(s)?s:new wi(s)}function fr(s){return Do(s)?s:new wi(s).saturate(.5).darken(.1).hexString()}const cf=["x","y","borderWidth","radius","tension"],hf=["color","borderColor","backgroundColor"];function uf(s){s.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),s.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),s.set("animations",{colors:{type:"color",properties:hf},numbers:{type:"number",properties:cf}}),s.describe("animations",{_fallback:"animation"}),s.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function df(s){s.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const wa=new Map;function ff(s,t){t=t||{};const e=s+JSON.stringify(t);let i=wa.get(e);return i||(i=new Intl.NumberFormat(s,t),wa.set(e,i)),i}function Ii(s,t,e){return ff(t,e).format(s)}const ih={values(s){return it(s)?s:""+s},numeric(s,t,e){if(s===0)return"0";const i=this.chart.options.locale;let n,r=s;if(e.length>1){const c=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(c<1e-4||c>1e15)&&(n="scientific"),r=gf(s,e)}const o=De(Math.abs(r)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:n,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),Ii(s,i,l)},logarithmic(s,t,e){if(s===0)return"0";const i=e[t].significand||s/Math.pow(10,Math.floor(De(s)));return[1,2,3,5,10,15].includes(i)||t>.8*e.length?ih.numeric.call(this,s,t,e):""}};function gf(s,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&s!==Math.floor(s)&&(e=s-Math.floor(s)),e}var Yn={formatters:ih};function mf(s){s.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Yn.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),s.route("scale.ticks","color","","color"),s.route("scale.grid","color","","borderColor"),s.route("scale.border","color","","borderColor"),s.route("scale.title","color","","color"),s.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),s.describe("scales",{_fallback:"scale"}),s.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const as=Object.create(null),Hr=Object.create(null);function gi(s,t){if(!t)return s;const e=t.split(".");for(let i=0,n=e.length;i<n;++i){const r=e[i];s=s[r]||(s[r]=Object.create(null))}return s}function gr(s,t,e){return typeof t=="string"?xi(gi(s,t),e):xi(gi(s,""),t)}class pf{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,n)=>fr(n.backgroundColor),this.hoverBorderColor=(i,n)=>fr(n.borderColor),this.hoverColor=(i,n)=>fr(n.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return gr(this,t,e)}get(t){return gi(this,t)}describe(t,e){return gr(Hr,t,e)}override(t,e){return gr(as,t,e)}route(t,e,i,n){const r=gi(this,t),o=gi(this,i),a="_"+e;Object.defineProperties(r,{[a]:{value:r[e],writable:!0},[e]:{enumerable:!0,get(){const l=this[a],c=o[n];return B(l)?Object.assign({},c,l):$(l,c)},set(l){this[a]=l}}})}apply(t){t.forEach(e=>e(this))}}var at=new pf({_scriptable:s=>!s.startsWith("on"),_indexable:s=>s!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[uf,df,mf]);function yf(s){return!s||q(s.size)||q(s.family)?null:(s.style?s.style+" ":"")+(s.weight?s.weight+" ":"")+s.size+"px "+s.family}function In(s,t,e,i,n){let r=t[n];return r||(r=t[n]=s.measureText(n).width,e.push(n)),r>i&&(i=r),i}function _f(s,t,e,i){i=i||{};let n=i.data=i.data||{},r=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(n=i.data={},r=i.garbageCollect=[],i.font=t),s.save(),s.font=t;let o=0;const a=e.length;let l,c,h,u,d;for(l=0;l<a;l++)if(u=e[l],u!=null&&!it(u))o=In(s,n,r,o,u);else if(it(u))for(c=0,h=u.length;c<h;c++)d=u[c],d!=null&&!it(d)&&(o=In(s,n,r,o,d));s.restore();const f=r.length/2;if(f>e.length){for(l=0;l<f;l++)delete n[r[l]];r.splice(0,f)}return o}function We(s,t,e){const i=s.currentDevicePixelRatio,n=e!==0?Math.max(e/2,.5):0;return Math.round((t-n)*i)/i+n}function xa(s,t){!t&&!s||(t=t||s.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,s.width,s.height),t.restore())}function Ur(s,t,e,i){nh(s,t,e,i,null)}function nh(s,t,e,i,n){let r,o,a,l,c,h,u,d;const f=t.pointStyle,g=t.rotation,m=t.radius;let p=(g||0)*Xd;if(f&&typeof f=="object"&&(r=f.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){s.save(),s.translate(e,i),s.rotate(p),s.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),s.restore();return}if(!(isNaN(m)||m<=0)){switch(s.beginPath(),f){default:n?s.ellipse(e,i,n/2,m,0,0,et):s.arc(e,i,m,0,et),s.closePath();break;case"triangle":h=n?n/2:m,s.moveTo(e+Math.sin(p)*h,i-Math.cos(p)*m),p+=ga,s.lineTo(e+Math.sin(p)*h,i-Math.cos(p)*m),p+=ga,s.lineTo(e+Math.sin(p)*h,i-Math.cos(p)*m),s.closePath();break;case"rectRounded":c=m*.516,l=m-c,o=Math.cos(p+Ve)*l,u=Math.cos(p+Ve)*(n?n/2-c:l),a=Math.sin(p+Ve)*l,d=Math.sin(p+Ve)*(n?n/2-c:l),s.arc(e-u,i-a,c,p-st,p-ht),s.arc(e+d,i-o,c,p-ht,p),s.arc(e+u,i+a,c,p,p+ht),s.arc(e-d,i+o,c,p+ht,p+st),s.closePath();break;case"rect":if(!g){l=Math.SQRT1_2*m,h=n?n/2:l,s.rect(e-h,i-l,2*h,2*l);break}p+=Ve;case"rectRot":u=Math.cos(p)*(n?n/2:m),o=Math.cos(p)*m,a=Math.sin(p)*m,d=Math.sin(p)*(n?n/2:m),s.moveTo(e-u,i-a),s.lineTo(e+d,i-o),s.lineTo(e+u,i+a),s.lineTo(e-d,i+o),s.closePath();break;case"crossRot":p+=Ve;case"cross":u=Math.cos(p)*(n?n/2:m),o=Math.cos(p)*m,a=Math.sin(p)*m,d=Math.sin(p)*(n?n/2:m),s.moveTo(e-u,i-a),s.lineTo(e+u,i+a),s.moveTo(e+d,i-o),s.lineTo(e-d,i+o);break;case"star":u=Math.cos(p)*(n?n/2:m),o=Math.cos(p)*m,a=Math.sin(p)*m,d=Math.sin(p)*(n?n/2:m),s.moveTo(e-u,i-a),s.lineTo(e+u,i+a),s.moveTo(e+d,i-o),s.lineTo(e-d,i+o),p+=Ve,u=Math.cos(p)*(n?n/2:m),o=Math.cos(p)*m,a=Math.sin(p)*m,d=Math.sin(p)*(n?n/2:m),s.moveTo(e-u,i-a),s.lineTo(e+u,i+a),s.moveTo(e+d,i-o),s.lineTo(e-d,i+o);break;case"line":o=n?n/2:Math.cos(p)*m,a=Math.sin(p)*m,s.moveTo(e-o,i-a),s.lineTo(e+o,i+a);break;case"dash":s.moveTo(e,i),s.lineTo(e+Math.cos(p)*(n?n/2:m),i+Math.sin(p)*m);break;case!1:s.closePath();break}s.fill(),t.borderWidth>0&&s.stroke()}}function _e(s,t,e){return e=e||.5,!t||s&&s.x>t.left-e&&s.x<t.right+e&&s.y>t.top-e&&s.y<t.bottom+e}function Gn(s,t){s.save(),s.beginPath(),s.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),s.clip()}function Zn(s){s.restore()}function bf(s,t,e,i,n){if(!t)return s.lineTo(e.x,e.y);if(n==="middle"){const r=(t.x+e.x)/2;s.lineTo(r,t.y),s.lineTo(r,e.y)}else n==="after"!=!!i?s.lineTo(t.x,e.y):s.lineTo(e.x,t.y);s.lineTo(e.x,e.y)}function vf(s,t,e,i){if(!t)return s.lineTo(e.x,e.y);s.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?e.cp2x:e.cp1x,i?e.cp2y:e.cp1y,e.x,e.y)}function wf(s,t){t.translation&&s.translate(t.translation[0],t.translation[1]),q(t.rotation)||s.rotate(t.rotation),t.color&&(s.fillStyle=t.color),t.textAlign&&(s.textAlign=t.textAlign),t.textBaseline&&(s.textBaseline=t.textBaseline)}function xf(s,t,e,i,n){if(n.strikethrough||n.underline){const r=s.measureText(i),o=t-r.actualBoundingBoxLeft,a=t+r.actualBoundingBoxRight,l=e-r.actualBoundingBoxAscent,c=e+r.actualBoundingBoxDescent,h=n.strikethrough?(l+c)/2:c;s.strokeStyle=s.fillStyle,s.beginPath(),s.lineWidth=n.decorationWidth||2,s.moveTo(o,h),s.lineTo(a,h),s.stroke()}}function kf(s,t){const e=s.fillStyle;s.fillStyle=t.color,s.fillRect(t.left,t.top,t.width,t.height),s.fillStyle=e}function ls(s,t,e,i,n,r={}){const o=it(t)?t:[t],a=r.strokeWidth>0&&r.strokeColor!=="";let l,c;for(s.save(),s.font=n.string,wf(s,r),l=0;l<o.length;++l)c=o[l],r.backdrop&&kf(s,r.backdrop),a&&(r.strokeColor&&(s.strokeStyle=r.strokeColor),q(r.strokeWidth)||(s.lineWidth=r.strokeWidth),s.strokeText(c,e,i,r.maxWidth)),s.fillText(c,e,i,r.maxWidth),xf(s,e,i,c,r),i+=Number(n.lineHeight);s.restore()}function Oi(s,t){const{x:e,y:i,w:n,h:r,radius:o}=t;s.arc(e+o.topLeft,i+o.topLeft,o.topLeft,1.5*st,st,!0),s.lineTo(e,i+r-o.bottomLeft),s.arc(e+o.bottomLeft,i+r-o.bottomLeft,o.bottomLeft,st,ht,!0),s.lineTo(e+n-o.bottomRight,i+r),s.arc(e+n-o.bottomRight,i+r-o.bottomRight,o.bottomRight,ht,0,!0),s.lineTo(e+n,i+o.topRight),s.arc(e+n-o.topRight,i+o.topRight,o.topRight,0,-ht,!0),s.lineTo(e+o.topLeft,i)}const Sf=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Of=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Tf(s,t){const e=(""+s).match(Sf);if(!e||e[1]==="normal")return t*1.2;switch(s=+e[2],e[3]){case"px":return s;case"%":s/=100;break}return t*s}const Mf=s=>+s||0;function Ao(s,t){const e={},i=B(t),n=i?Object.keys(t):t,r=B(s)?i?o=>$(s[o],s[t[o]]):o=>s[o]:()=>s;for(const o of n)e[o]=Mf(r(o));return e}function rh(s){return Ao(s,{top:"y",right:"x",bottom:"y",left:"x"})}function ss(s){return Ao(s,["topLeft","topRight","bottomLeft","bottomRight"])}function Ot(s){const t=rh(s);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function mt(s,t){s=s||{},t=t||at.font;let e=$(s.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let i=$(s.style,t.style);i&&!(""+i).match(Of)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const n={family:$(s.family,t.family),lineHeight:Tf($(s.lineHeight,t.lineHeight),e),size:e,style:i,weight:$(s.weight,t.weight),string:""};return n.string=yf(n),n}function ni(s,t,e,i){let n,r,o;for(n=0,r=s.length;n<r;++n)if(o=s[n],o!==void 0&&o!==void 0)return o}function Ef(s,t,e){const{min:i,max:n}=s,r=Yc(t,(n-i)/2),o=(a,l)=>e&&a===0?0:a+l;return{min:o(i,-Math.abs(r)),max:o(n,r)}}function ze(s,t){return Object.assign(Object.create(s),t)}function Po(s,t=[""],e,i,n=()=>s[0]){const r=e||s;typeof i>"u"&&(i=ch("_fallback",s));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:s,_rootScopes:r,_fallback:i,_getTarget:n,override:a=>Po([a,...s],t,r,i)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete s[0][l],!0},get(a,l){return ah(a,l,()=>$f(l,t,s,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(s[0])},has(a,l){return Sa(a).includes(l)},ownKeys(a){return Sa(a)},set(a,l,c){const h=a._storage||(a._storage=n());return a[l]=h[l]=c,delete a._keys,!0}})}function Rs(s,t,e,i){const n={_cacheable:!1,_proxy:s,_context:t,_subProxy:e,_stack:new Set,_descriptors:oh(s,i),setContext:r=>Rs(s,r,e,i),override:r=>Rs(s.override(r),t,e,i)};return new Proxy(n,{deleteProperty(r,o){return delete r[o],delete s[o],!0},get(r,o,a){return ah(r,o,()=>Df(r,o,a))},getOwnPropertyDescriptor(r,o){return r._descriptors.allKeys?Reflect.has(s,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(s,o)},getPrototypeOf(){return Reflect.getPrototypeOf(s)},has(r,o){return Reflect.has(s,o)},ownKeys(){return Reflect.ownKeys(s)},set(r,o,a){return s[o]=a,delete r[o],!0}})}function oh(s,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:n=t.allKeys}=s;return{allKeys:n,scriptable:e,indexable:i,isScriptable:Ne(e)?e:()=>e,isIndexable:Ne(i)?i:()=>i}}const Cf=(s,t)=>s?s+To(t):t,Io=(s,t)=>B(t)&&s!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function ah(s,t,e){if(Object.prototype.hasOwnProperty.call(s,t)||t==="constructor")return s[t];const i=e();return s[t]=i,i}function Df(s,t,e){const{_proxy:i,_context:n,_subProxy:r,_descriptors:o}=s;let a=i[t];return Ne(a)&&o.isScriptable(t)&&(a=Af(t,a,s,e)),it(a)&&a.length&&(a=Pf(t,a,s,o.isIndexable)),Io(t,a)&&(a=Rs(a,n,r&&r[t],o)),a}function Af(s,t,e,i){const{_proxy:n,_context:r,_subProxy:o,_stack:a}=e;if(a.has(s))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+s);a.add(s);let l=t(r,o||i);return a.delete(s),Io(s,l)&&(l=Lo(n._scopes,n,s,l)),l}function Pf(s,t,e,i){const{_proxy:n,_context:r,_subProxy:o,_descriptors:a}=e;if(typeof r.index<"u"&&i(s))return t[r.index%t.length];if(B(t[0])){const l=t,c=n._scopes.filter(h=>h!==l);t=[];for(const h of l){const u=Lo(c,n,s,h);t.push(Rs(u,r,o&&o[s],a))}}return t}function lh(s,t,e){return Ne(s)?s(t,e):s}const If=(s,t)=>s===!0?t:typeof s=="string"?$e(t,s):void 0;function Lf(s,t,e,i,n){for(const r of t){const o=If(e,r);if(o){s.add(o);const a=lh(o._fallback,e,n);if(typeof a<"u"&&a!==e&&a!==i)return a}else if(o===!1&&typeof i<"u"&&e!==i)return null}return!1}function Lo(s,t,e,i){const n=t._rootScopes,r=lh(t._fallback,e,i),o=[...s,...n],a=new Set;a.add(i);let l=ka(a,o,e,r||e,i);return l===null||typeof r<"u"&&r!==e&&(l=ka(a,o,r,l,i),l===null)?!1:Po(Array.from(a),[""],n,r,()=>Rf(t,e,i))}function ka(s,t,e,i,n){for(;e;)e=Lf(s,t,e,i,n);return e}function Rf(s,t,e){const i=s._getTarget();t in i||(i[t]={});const n=i[t];return it(n)&&B(e)?e:n||{}}function $f(s,t,e,i){let n;for(const r of t)if(n=ch(Cf(r,s),e),typeof n<"u")return Io(s,n)?Lo(e,i,s,n):n}function ch(s,t){for(const e of t){if(!e)continue;const i=e[s];if(typeof i<"u")return i}}function Sa(s){let t=s._keys;return t||(t=s._keys=Nf(s._scopes)),t}function Nf(s){const t=new Set;for(const e of s)for(const i of Object.keys(e).filter(n=>!n.startsWith("_")))t.add(i);return Array.from(t)}function hh(s,t,e,i){const{iScale:n}=s,{key:r="r"}=this._parsing,o=new Array(i);let a,l,c,h;for(a=0,l=i;a<l;++a)c=a+e,h=t[c],o[a]={r:n.parse($e(h,r),c)};return o}const Ff=Number.EPSILON||1e-14,$s=(s,t)=>t<s.length&&!s[t].skip&&s[t],uh=s=>s==="x"?"y":"x";function jf(s,t,e,i){const n=s.skip?t:s,r=t,o=e.skip?t:e,a=Br(r,n),l=Br(o,r);let c=a/(a+l),h=l/(a+l);c=isNaN(c)?0:c,h=isNaN(h)?0:h;const u=i*c,d=i*h;return{previous:{x:r.x-u*(o.x-n.x),y:r.y-u*(o.y-n.y)},next:{x:r.x+d*(o.x-n.x),y:r.y+d*(o.y-n.y)}}}function zf(s,t,e){const i=s.length;let n,r,o,a,l,c=$s(s,0);for(let h=0;h<i-1;++h)if(l=c,c=$s(s,h+1),!(!l||!c)){if(di(t[h],0,Ff)){e[h]=e[h+1]=0;continue}n=e[h]/t[h],r=e[h+1]/t[h],a=Math.pow(n,2)+Math.pow(r,2),!(a<=9)&&(o=3/Math.sqrt(a),e[h]=n*o*t[h],e[h+1]=r*o*t[h])}}function Vf(s,t,e="x"){const i=uh(e),n=s.length;let r,o,a,l=$s(s,0);for(let c=0;c<n;++c){if(o=a,a=l,l=$s(s,c+1),!a)continue;const h=a[e],u=a[i];o&&(r=(h-o[e])/3,a[`cp1${e}`]=h-r,a[`cp1${i}`]=u-r*t[c]),l&&(r=(l[e]-h)/3,a[`cp2${e}`]=h+r,a[`cp2${i}`]=u+r*t[c])}}function Wf(s,t="x"){const e=uh(t),i=s.length,n=Array(i).fill(0),r=Array(i);let o,a,l,c=$s(s,0);for(o=0;o<i;++o)if(a=l,l=c,c=$s(s,o+1),!!l){if(c){const h=c[t]-l[t];n[o]=h!==0?(c[e]-l[e])/h:0}r[o]=a?c?ae(n[o-1])!==ae(n[o])?0:(n[o-1]+n[o])/2:n[o-1]:n[o]}zf(s,n,r),Vf(s,r,t)}function Gi(s,t,e){return Math.max(Math.min(s,e),t)}function Bf(s,t){let e,i,n,r,o,a=_e(s[0],t);for(e=0,i=s.length;e<i;++e)o=r,r=a,a=e<i-1&&_e(s[e+1],t),r&&(n=s[e],o&&(n.cp1x=Gi(n.cp1x,t.left,t.right),n.cp1y=Gi(n.cp1y,t.top,t.bottom)),a&&(n.cp2x=Gi(n.cp2x,t.left,t.right),n.cp2y=Gi(n.cp2y,t.top,t.bottom)))}function Hf(s,t,e,i,n){let r,o,a,l;if(t.spanGaps&&(s=s.filter(c=>!c.skip)),t.cubicInterpolationMode==="monotone")Wf(s,n);else{let c=i?s[s.length-1]:s[0];for(r=0,o=s.length;r<o;++r)a=s[r],l=jf(c,a,s[Math.min(r+1,o-(i?0:1))%o],t.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}t.capBezierPoints&&Bf(s,e)}function Ro(){return typeof window<"u"&&typeof document<"u"}function $o(s){let t=s.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Ln(s,t,e){let i;return typeof s=="string"?(i=parseInt(s,10),s.indexOf("%")!==-1&&(i=i/100*t.parentNode[e])):i=s,i}const Jn=s=>s.ownerDocument.defaultView.getComputedStyle(s,null);function Uf(s,t){return Jn(s).getPropertyValue(t)}const qf=["top","right","bottom","left"];function is(s,t,e){const i={};e=e?"-"+e:"";for(let n=0;n<4;n++){const r=qf[n];i[r]=parseFloat(s[t+"-"+r+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const Yf=(s,t,e)=>(s>0||t>0)&&(!e||!e.shadowRoot);function Gf(s,t){const e=s.touches,i=e&&e.length?e[0]:s,{offsetX:n,offsetY:r}=i;let o=!1,a,l;if(Yf(n,r,s.target))a=n,l=r;else{const c=t.getBoundingClientRect();a=i.clientX-c.left,l=i.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function Ze(s,t){if("native"in s)return s;const{canvas:e,currentDevicePixelRatio:i}=t,n=Jn(e),r=n.boxSizing==="border-box",o=is(n,"padding"),a=is(n,"border","width"),{x:l,y:c,box:h}=Gf(s,e),u=o.left+(h&&a.left),d=o.top+(h&&a.top);let{width:f,height:g}=t;return r&&(f-=o.width+a.width,g-=o.height+a.height),{x:Math.round((l-u)/f*e.width/i),y:Math.round((c-d)/g*e.height/i)}}function Zf(s,t,e){let i,n;if(t===void 0||e===void 0){const r=s&&$o(s);if(!r)t=s.clientWidth,e=s.clientHeight;else{const o=r.getBoundingClientRect(),a=Jn(r),l=is(a,"border","width"),c=is(a,"padding");t=o.width-c.width-l.width,e=o.height-c.height-l.height,i=Ln(a.maxWidth,r,"clientWidth"),n=Ln(a.maxHeight,r,"clientHeight")}}return{width:t,height:e,maxWidth:i||Pn,maxHeight:n||Pn}}const Zi=s=>Math.round(s*10)/10;function Jf(s,t,e,i){const n=Jn(s),r=is(n,"margin"),o=Ln(n.maxWidth,s,"clientWidth")||Pn,a=Ln(n.maxHeight,s,"clientHeight")||Pn,l=Zf(s,t,e);let{width:c,height:h}=l;if(n.boxSizing==="content-box"){const d=is(n,"border","width"),f=is(n,"padding");c-=f.width+d.width,h-=f.height+d.height}return c=Math.max(0,c-r.width),h=Math.max(0,i?c/i:h-r.height),c=Zi(Math.min(c,o,l.maxWidth)),h=Zi(Math.min(h,a,l.maxHeight)),c&&!h&&(h=Zi(c/2)),(t!==void 0||e!==void 0)&&i&&l.height&&h>l.height&&(h=l.height,c=Zi(Math.floor(h*i))),{width:c,height:h}}function Oa(s,t,e){const i=t||1,n=Math.floor(s.height*i),r=Math.floor(s.width*i);s.height=Math.floor(s.height),s.width=Math.floor(s.width);const o=s.canvas;return o.style&&(e||!o.style.height&&!o.style.width)&&(o.style.height=`${s.height}px`,o.style.width=`${s.width}px`),s.currentDevicePixelRatio!==i||o.height!==n||o.width!==r?(s.currentDevicePixelRatio=i,o.height=n,o.width=r,s.ctx.setTransform(i,0,0,i,0,0),!0):!1}const Kf=function(){let s=!1;try{const t={get passive(){return s=!0,!1}};Ro()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return s}();function Ta(s,t){const e=Uf(s,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Je(s,t,e,i){return{x:s.x+e*(t.x-s.x),y:s.y+e*(t.y-s.y)}}function Xf(s,t,e,i){return{x:s.x+e*(t.x-s.x),y:i==="middle"?e<.5?s.y:t.y:i==="after"?e<1?s.y:t.y:e>0?t.y:s.y}}function Qf(s,t,e,i){const n={x:s.cp2x,y:s.cp2y},r={x:t.cp1x,y:t.cp1y},o=Je(s,n,e),a=Je(n,r,e),l=Je(r,t,e),c=Je(o,a,e),h=Je(a,l,e);return Je(c,h,e)}const tg=function(s,t){return{x(e){return s+s+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,i){return e-i},leftForLtr(e,i){return e-i}}},eg=function(){return{x(s){return s},setWidth(s){},textAlign(s){return s},xPlus(s,t){return s+t},leftForLtr(s,t){return s}}};function Ms(s,t,e){return s?tg(t,e):eg()}function dh(s,t){let e,i;(t==="ltr"||t==="rtl")&&(e=s.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),s.prevTextDirection=i)}function fh(s,t){t!==void 0&&(delete s.prevTextDirection,s.canvas.style.setProperty("direction",t[0],t[1]))}function gh(s){return s==="angle"?{between:Si,compare:ef,normalize:It}:{between:pe,compare:(t,e)=>t-e,normalize:t=>t}}function Ma({start:s,end:t,count:e,loop:i,style:n}){return{start:s%e,end:t%e,loop:i&&(t-s+1)%e===0,style:n}}function sg(s,t,e){const{property:i,start:n,end:r}=e,{between:o,normalize:a}=gh(i),l=t.length;let{start:c,end:h,loop:u}=s,d,f;if(u){for(c+=l,h+=l,d=0,f=l;d<f&&o(a(t[c%l][i]),n,r);++d)c--,h--;c%=l,h%=l}return h<c&&(h+=l),{start:c,end:h,loop:u,style:s.style}}function mh(s,t,e){if(!e)return[s];const{property:i,start:n,end:r}=e,o=t.length,{compare:a,between:l,normalize:c}=gh(i),{start:h,end:u,loop:d,style:f}=sg(s,t,e),g=[];let m=!1,p=null,y,_,w;const b=()=>l(n,w,y)&&a(n,w)!==0,v=()=>a(r,y)===0||l(r,w,y),S=()=>m||b(),M=()=>!m||v();for(let O=h,D=h;O<=u;++O)_=t[O%o],!_.skip&&(y=c(_[i]),y!==w&&(m=l(y,n,r),p===null&&S()&&(p=a(y,n)===0?O:D),p!==null&&M()&&(g.push(Ma({start:p,end:O,loop:d,count:o,style:f})),p=null),D=O,w=y));return p!==null&&g.push(Ma({start:p,end:u,loop:d,count:o,style:f})),g}function ph(s,t){const e=[],i=s.segments;for(let n=0;n<i.length;n++){const r=mh(i[n],s.points,t);r.length&&e.push(...r)}return e}function ig(s,t,e,i){let n=0,r=t-1;if(e&&!i)for(;n<t&&!s[n].skip;)n++;for(;n<t&&s[n].skip;)n++;for(n%=t,e&&(r+=n);r>n&&s[r%t].skip;)r--;return r%=t,{start:n,end:r}}function ng(s,t,e,i){const n=s.length,r=[];let o=t,a=s[t],l;for(l=t+1;l<=e;++l){const c=s[l%n];c.skip||c.stop?a.skip||(i=!1,r.push({start:t%n,end:(l-1)%n,loop:i}),t=o=c.stop?l:null):(o=l,a.skip&&(t=l)),a=c}return o!==null&&r.push({start:t%n,end:o%n,loop:i}),r}function rg(s,t){const e=s.points,i=s.options.spanGaps,n=e.length;if(!n)return[];const r=!!s._loop,{start:o,end:a}=ig(e,n,r,i);if(i===!0)return Ea(s,[{start:o,end:a,loop:r}],e,t);const l=a<o?a+n:a,c=!!s._fullLoop&&o===0&&a===n-1;return Ea(s,ng(e,o,l,c),e,t)}function Ea(s,t,e,i){return!i||!i.setContext||!e?t:og(s,t,e,i)}function og(s,t,e,i){const n=s._chart.getContext(),r=Ca(s.options),{_datasetIndex:o,options:{spanGaps:a}}=s,l=e.length,c=[];let h=r,u=t[0].start,d=u;function f(g,m,p,y){const _=a?-1:1;if(g!==m){for(g+=l;e[g%l].skip;)g-=_;for(;e[m%l].skip;)m+=_;g%l!==m%l&&(c.push({start:g%l,end:m%l,loop:p,style:y}),h=y,u=m%l)}}for(const g of t){u=a?u:g.start;let m=e[u%l],p;for(d=u+1;d<=g.end;d++){const y=e[d%l];p=Ca(i.setContext(ze(n,{type:"segment",p0:m,p1:y,p0DataIndex:(d-1)%l,p1DataIndex:d%l,datasetIndex:o}))),ag(p,h)&&f(u,d-1,g.loop,h),m=y,h=p}u<d-1&&f(u,d-1,g.loop,h)}return c}function Ca(s){return{backgroundColor:s.backgroundColor,borderCapStyle:s.borderCapStyle,borderDash:s.borderDash,borderDashOffset:s.borderDashOffset,borderJoinStyle:s.borderJoinStyle,borderWidth:s.borderWidth,borderColor:s.borderColor}}function ag(s,t){if(!t)return!1;const e=[],i=function(n,r){return Do(r)?(e.includes(r)||e.push(r),e.indexOf(r)):r};return JSON.stringify(s,i)!==JSON.stringify(t,i)}/*!
 * Chart.js v4.4.3
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */class lg{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,n){const r=e.listeners[n],o=e.duration;r.forEach(a=>a({chart:t,initial:e.initial,numSteps:o,currentStep:Math.min(i-e.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=Qc.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,n)=>{if(!i.running||!i.items.length)return;const r=i.items;let o=r.length-1,a=!1,l;for(;o>=0;--o)l=r[o],l._active?(l._total>i.duration&&(i.duration=l._total),l.tick(t),a=!0):(r[o]=r[r.length-1],r.pop());a&&(n.draw(),this._notify(n,i,t,"progress")),r.length||(i.running=!1,this._notify(n,i,t,"complete"),i.initial=!1),e+=r.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,n)=>Math.max(i,n._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let n=i.length-1;for(;n>=0;--n)i[n].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var ue=new lg;const Da="transparent",cg={boolean(s,t,e){return e>.5?t:s},color(s,t,e){const i=va(s||Da),n=i.valid&&va(t||Da);return n&&n.valid?n.mix(i,e).hexString():t},number(s,t,e){return s+(t-s)*e}};class hg{constructor(t,e,i,n){const r=e[i];n=ni([t.to,n,r,t.from]);const o=ni([t.from,r,n]);this._active=!0,this._fn=t.fn||cg[t.type||typeof o],this._easing=fi[t.easing]||fi.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=o,this._to=n,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const n=this._target[this._prop],r=i-this._start,o=this._duration-r;this._start=i,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=r,this._loop=!!t.loop,this._to=ni([t.to,e,n,t.from]),this._from=ni([t.from,n,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,n=this._prop,r=this._from,o=this._loop,a=this._to;let l;if(this._active=r!==a&&(o||e<i),!this._active){this._target[n]=a,this._notify(!0);return}if(e<0){this._target[n]=r;return}l=e/i%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[n]=this._fn(r,a,l)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let n=0;n<i.length;n++)i[n][e]()}}class yh{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!B(t))return;const e=Object.keys(at.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(n=>{const r=t[n];if(!B(r))return;const o={};for(const a of e)o[a]=r[a];(it(r.properties)&&r.properties||[n]).forEach(a=>{(a===n||!i.has(a))&&i.set(a,o)})})}_animateOptions(t,e){const i=e.options,n=dg(t,i);if(!n)return[];const r=this._createAnimations(n,i);return i.$shared&&ug(t.options.$animations,i).then(()=>{t.options=i},()=>{}),r}_createAnimations(t,e){const i=this._properties,n=[],r=t.$animations||(t.$animations={}),o=Object.keys(e),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){n.push(...this._animateOptions(t,e));continue}const h=e[c];let u=r[c];const d=i.get(c);if(u)if(d&&u.active()){u.update(d,h,a);continue}else u.cancel();if(!d||!d.duration){t[c]=h;continue}r[c]=u=new hg(d,t,c,h),n.push(u)}return n}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const i=this._createAnimations(t,e);if(i.length)return ue.add(this._chart,i),!0}}function ug(s,t){const e=[],i=Object.keys(t);for(let n=0;n<i.length;n++){const r=s[i[n]];r&&r.active()&&e.push(r.wait())}return Promise.all(e)}function dg(s,t){if(!t)return;let e=s.options;if(!e){s.options=t;return}return e.$shared&&(s.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function Aa(s,t){const e=s&&s.options||{},i=e.reverse,n=e.min===void 0?t:0,r=e.max===void 0?t:0;return{start:i?r:n,end:i?n:r}}function fg(s,t,e){if(e===!1)return!1;const i=Aa(s,e),n=Aa(t,e);return{top:n.end,right:i.end,bottom:n.start,left:i.start}}function gg(s){let t,e,i,n;return B(s)?(t=s.top,e=s.right,i=s.bottom,n=s.left):t=e=i=n=s,{top:t,right:e,bottom:i,left:n,disabled:s===!1}}function _h(s,t){const e=[],i=s._getSortedDatasetMetas(t);let n,r;for(n=0,r=i.length;n<r;++n)e.push(i[n].index);return e}function Pa(s,t,e,i={}){const n=s.keys,r=i.mode==="single";let o,a,l,c;if(t!==null){for(o=0,a=n.length;o<a;++o){if(l=+n[o],l===e){if(i.all)continue;break}c=s.values[l],ot(c)&&(r||t===0||ae(t)===ae(c))&&(t+=c)}return t}}function mg(s,t){const{iScale:e,vScale:i}=t,n=e.axis==="x"?"x":"y",r=i.axis==="x"?"x":"y",o=Object.keys(s),a=new Array(o.length);let l,c,h;for(l=0,c=o.length;l<c;++l)h=o[l],a[l]={[n]:h,[r]:s[h]};return a}function Ia(s,t){const e=s&&s.options.stacked;return e||e===void 0&&t.stack!==void 0}function pg(s,t,e){return`${s.id}.${t.id}.${e.stack||e.type}`}function yg(s){const{min:t,max:e,minDefined:i,maxDefined:n}=s.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:n?e:Number.POSITIVE_INFINITY}}function _g(s,t,e){const i=s[t]||(s[t]={});return i[e]||(i[e]={})}function La(s,t,e,i){for(const n of t.getMatchingVisibleMetas(i).reverse()){const r=s[n.index];if(e&&r>0||!e&&r<0)return n.index}return null}function Ra(s,t){const{chart:e,_cachedMeta:i}=s,n=e._stacks||(e._stacks={}),{iScale:r,vScale:o,index:a}=i,l=r.axis,c=o.axis,h=pg(r,o,i),u=t.length;let d;for(let f=0;f<u;++f){const g=t[f],{[l]:m,[c]:p}=g,y=g._stacks||(g._stacks={});d=y[c]=_g(n,h,m),d[a]=p,d._top=La(d,o,!0,i.type),d._bottom=La(d,o,!1,i.type);const _=d._visualValues||(d._visualValues={});_[a]=p}}function mr(s,t){const e=s.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function bg(s,t){return ze(s,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function vg(s,t,e){return ze(s,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function Zs(s,t){const e=s.controller.index,i=s.vScale&&s.vScale.axis;if(i){t=t||s._parsed;for(const n of t){const r=n._stacks;if(!r||r[i]===void 0||r[i][e]===void 0)return;delete r[i][e],r[i]._visualValues!==void 0&&r[i]._visualValues[e]!==void 0&&delete r[i]._visualValues[e]}}}const pr=s=>s==="reset"||s==="none",$a=(s,t)=>t?s:Object.assign({},s),wg=(s,t,e)=>s&&!t.hidden&&t._stacked&&{keys:_h(e,!0),values:null};class Jt{constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Ia(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Zs(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),n=(u,d,f,g)=>u==="x"?d:u==="r"?g:f,r=e.xAxisID=$(i.xAxisID,mr(t,"x")),o=e.yAxisID=$(i.yAxisID,mr(t,"y")),a=e.rAxisID=$(i.rAxisID,mr(t,"r")),l=e.indexAxis,c=e.iAxisID=n(l,r,o,a),h=e.vAxisID=n(l,o,r,a);e.xScale=this.getScaleForId(r),e.yScale=this.getScaleForId(o),e.rScale=this.getScaleForId(a),e.iScale=this.getScaleForId(c),e.vScale=this.getScaleForId(h)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&ya(this._data,this),t._stacked&&Zs(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(B(e)){const n=this._cachedMeta;this._data=mg(e,n)}else if(i!==e){if(i){ya(i,this);const n=this._cachedMeta;Zs(n),n._parsed=[]}e&&Object.isExtensible(e)&&of(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let n=!1;this._dataCheck();const r=e._stacked;e._stacked=Ia(e.vScale,e),e.stack!==i.stack&&(n=!0,Zs(e),e.stack=i.stack),this._resyncElements(t),(n||r!==e._stacked)&&Ra(this,e._parsed)}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:i,_data:n}=this,{iScale:r,_stacked:o}=i,a=r.axis;let l=t===0&&e===n.length?!0:i._sorted,c=t>0&&i._parsed[t-1],h,u,d;if(this._parsing===!1)i._parsed=n,i._sorted=!0,d=n;else{it(n[t])?d=this.parseArrayData(i,n,t,e):B(n[t])?d=this.parseObjectData(i,n,t,e):d=this.parsePrimitiveData(i,n,t,e);const f=()=>u[a]===null||c&&u[a]<c[a];for(h=0;h<e;++h)i._parsed[h+t]=u=d[h],l&&(f()&&(l=!1),c=u);i._sorted=l}o&&Ra(this,d)}parsePrimitiveData(t,e,i,n){const{iScale:r,vScale:o}=t,a=r.axis,l=o.axis,c=r.getLabels(),h=r===o,u=new Array(n);let d,f,g;for(d=0,f=n;d<f;++d)g=d+i,u[d]={[a]:h||r.parse(c[g],g),[l]:o.parse(e[g],g)};return u}parseArrayData(t,e,i,n){const{xScale:r,yScale:o}=t,a=new Array(n);let l,c,h,u;for(l=0,c=n;l<c;++l)h=l+i,u=e[h],a[l]={x:r.parse(u[0],h),y:o.parse(u[1],h)};return a}parseObjectData(t,e,i,n){const{xScale:r,yScale:o}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(n);let h,u,d,f;for(h=0,u=n;h<u;++h)d=h+i,f=e[d],c[h]={x:r.parse($e(f,a),d),y:o.parse($e(f,l),d)};return c}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const n=this.chart,r=this._cachedMeta,o=e[t.axis],a={keys:_h(n,!0),values:e._stacks[t.axis]._visualValues};return Pa(a,o,r.index,{mode:i})}updateRangeFromParsed(t,e,i,n){const r=i[e.axis];let o=r===null?NaN:r;const a=n&&i._stacks[e.axis];n&&a&&(n.values=a,o=Pa(n,r,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,e){const i=this._cachedMeta,n=i._parsed,r=i._sorted&&t===i.iScale,o=n.length,a=this._getOtherScale(t),l=wg(e,i,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:h,max:u}=yg(a);let d,f;function g(){f=n[d];const m=f[a.axis];return!ot(f[t.axis])||h>m||u<m}for(d=0;d<o&&!(!g()&&(this.updateRangeFromParsed(c,t,f,l),r));++d);if(r){for(d=o-1;d>=0;--d)if(!g()){this.updateRangeFromParsed(c,t,f,l);break}}return c}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let n,r,o;for(n=0,r=e.length;n<r;++n)o=e[n][t.axis],ot(o)&&i.push(o);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,n=e.vScale,r=this.getParsed(t);return{label:i?""+i.getLabelForValue(r[i.axis]):"",value:n?""+n.getLabelForValue(r[n.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=gg($(this.options.clip,fg(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,i=this._cachedMeta,n=i.data||[],r=e.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||n.length-a,c=this.options.drawActiveElementsOnTop;let h;for(i.dataset&&i.dataset.draw(t,r,a,l),h=a;h<a+l;++h){const u=n[h];u.hidden||(u.active&&c?o.push(u):u.draw(t,r))}for(h=0;h<o.length;++h)o[h].draw(t,r)}getStyle(t,e){const i=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const n=this.getDataset();let r;if(t>=0&&t<this._cachedMeta.data.length){const o=this._cachedMeta.data[t];r=o.$context||(o.$context=vg(this.getContext(),t,o)),r.parsed=this.getParsed(t),r.raw=n.data[t],r.index=r.dataIndex=t}else r=this.$context||(this.$context=bg(this.chart.getContext(),this.index)),r.dataset=n,r.index=r.datasetIndex=this.index;return r.active=!!e,r.mode=i,r}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){const n=e==="active",r=this._cachedDataOpts,o=t+"-"+e,a=r[o],l=this.enableOptionSharing&&ki(i);if(a)return $a(a,l);const c=this.chart.config,h=c.datasetElementScopeKeys(this._type,t),u=n?[`${t}Hover`,"hover",t,""]:[t,""],d=c.getOptionScopes(this.getDataset(),h),f=Object.keys(at.elements[t]),g=()=>this.getContext(i,n,e),m=c.resolveNamedOptions(d,f,g,u);return m.$shared&&(m.$shared=l,r[o]=Object.freeze($a(m,l))),m}_resolveAnimations(t,e,i){const n=this.chart,r=this._cachedDataOpts,o=`animation-${e}`,a=r[o];if(a)return a;let l;if(n.options.animation!==!1){const h=this.chart.config,u=h.datasetAnimationScopeKeys(this._type,e),d=h.getOptionScopes(this.getDataset(),u);l=h.createResolver(d,this.getContext(t,i,e))}const c=new yh(n,l&&l.animations);return l&&l._cacheable&&(r[o]=Object.freeze(c)),c}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||pr(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const i=this.resolveDataElementOptions(t,e),n=this._sharedOptions,r=this.getSharedOptions(i),o=this.includeOptions(e,r)||r!==n;return this.updateSharedOptions(r,e,i),{sharedOptions:r,includeOptions:o}}updateElement(t,e,i,n){pr(n)?Object.assign(t,i):this._resolveAnimations(e,n).update(t,i)}updateSharedOptions(t,e,i){t&&!pr(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,n){t.active=n;const r=this.getStyle(e,n);this._resolveAnimations(e,i,n).update(t,{options:!n&&this.getSharedOptions(r)||r})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const n=i.length,r=e.length,o=Math.min(r,n);o&&this.parse(0,o),r>n?this._insertElements(n,r-n,t):r<n&&this._removeElements(r,n-r)}_insertElements(t,e,i=!0){const n=this._cachedMeta,r=n.data,o=t+e;let a;const l=c=>{for(c.length+=e,a=c.length-1;a>=o;a--)c[a]=c[a-e]};for(l(r),a=t;a<o;++a)r[a]=new this.dataElementType;this._parsing&&l(n._parsed),this.parse(t,e),i&&this.updateElements(r,t,e,"reset")}updateElements(t,e,i,n){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const n=i._parsed.splice(t,e);i._stacked&&Zs(i,n)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,n]=t;this[e](i,n)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}E(Jt,"defaults",{}),E(Jt,"datasetElementType",null),E(Jt,"dataElementType",null);function xg(s,t){if(!s._cache.$bar){const e=s.getMatchingVisibleMetas(t);let i=[];for(let n=0,r=e.length;n<r;n++)i=i.concat(e[n].controller.getAllParsedValues(s));s._cache.$bar=Xc(i.sort((n,r)=>n-r))}return s._cache.$bar}function kg(s){const t=s.iScale,e=xg(t,s.type);let i=t._length,n,r,o,a;const l=()=>{o===32767||o===-32768||(ki(a)&&(i=Math.min(i,Math.abs(o-a)||i)),a=o)};for(n=0,r=e.length;n<r;++n)o=t.getPixelForValue(e[n]),l();for(a=void 0,n=0,r=t.ticks.length;n<r;++n)o=t.getPixelForTick(n),l();return i}function Sg(s,t,e,i){const n=e.barThickness;let r,o;return q(n)?(r=t.min*e.categoryPercentage,o=e.barPercentage):(r=n*i,o=1),{chunk:r/i,ratio:o,start:t.pixels[s]-r/2}}function Og(s,t,e,i){const n=t.pixels,r=n[s];let o=s>0?n[s-1]:null,a=s<n.length-1?n[s+1]:null;const l=e.categoryPercentage;o===null&&(o=r-(a===null?t.end-t.start:a-r)),a===null&&(a=r+r-o);const c=r-(r-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/i,ratio:e.barPercentage,start:c}}function Tg(s,t,e,i){const n=e.parse(s[0],i),r=e.parse(s[1],i),o=Math.min(n,r),a=Math.max(n,r);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),t[e.axis]=c,t._custom={barStart:l,barEnd:c,start:n,end:r,min:o,max:a}}function bh(s,t,e,i){return it(s)?Tg(s,t,e,i):t[e.axis]=e.parse(s,i),t}function Na(s,t,e,i){const n=s.iScale,r=s.vScale,o=n.getLabels(),a=n===r,l=[];let c,h,u,d;for(c=e,h=e+i;c<h;++c)d=t[c],u={},u[n.axis]=a||n.parse(o[c],c),l.push(bh(d,u,r,c));return l}function yr(s){return s&&s.barStart!==void 0&&s.barEnd!==void 0}function Mg(s,t,e){return s!==0?ae(s):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function Eg(s){let t,e,i,n,r;return s.horizontal?(t=s.base>s.x,e="left",i="right"):(t=s.base<s.y,e="bottom",i="top"),t?(n="end",r="start"):(n="start",r="end"),{start:e,end:i,reverse:t,top:n,bottom:r}}function Cg(s,t,e,i){let n=t.borderSkipped;const r={};if(!n){s.borderSkipped=r;return}if(n===!0){s.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:c,bottom:h}=Eg(s);n==="middle"&&e&&(s.enableBorderRadius=!0,(e._top||0)===i?n=c:(e._bottom||0)===i?n=h:(r[Fa(h,o,a,l)]=!0,n=c)),r[Fa(n,o,a,l)]=!0,s.borderSkipped=r}function Fa(s,t,e,i){return i?(s=Dg(s,t,e),s=ja(s,e,t)):s=ja(s,t,e),s}function Dg(s,t,e){return s===t?e:s===e?t:s}function ja(s,t,e){return s==="start"?t:s==="end"?e:s}function Ag(s,{inflateAmount:t},e){s.inflateAmount=t==="auto"?e===1?.33:0:t}class pn extends Jt{parsePrimitiveData(t,e,i,n){return Na(t,e,i,n)}parseArrayData(t,e,i,n){return Na(t,e,i,n)}parseObjectData(t,e,i,n){const{iScale:r,vScale:o}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=r.axis==="x"?a:l,h=o.axis==="x"?a:l,u=[];let d,f,g,m;for(d=i,f=i+n;d<f;++d)m=e[d],g={},g[r.axis]=r.parse($e(m,c),d),u.push(bh($e(m,h),g,o,d));return u}updateRangeFromParsed(t,e,i,n){super.updateRangeFromParsed(t,e,i,n);const r=i._custom;r&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,r.min),t.max=Math.max(t.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:i,vScale:n}=e,r=this.getParsed(t),o=r._custom,a=yr(o)?"["+o.start+", "+o.end+"]":""+n.getLabelForValue(r[n.axis]);return{label:""+i.getLabelForValue(r[i.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,i,n){const r=n==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),h=this._getRuler(),{sharedOptions:u,includeOptions:d}=this._getSharedOptions(e,n);for(let f=e;f<e+i;f++){const g=this.getParsed(f),m=r||q(g[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(f),p=this._calculateBarIndexPixels(f,h),y=(g._stacks||{})[a.axis],_={horizontal:c,base:m.base,enableBorderRadius:!y||yr(g._custom)||o===y._top||o===y._bottom,x:c?m.head:p.center,y:c?p.center:m.head,height:c?p.size:Math.abs(m.size),width:c?Math.abs(m.size):p.size};d&&(_.options=u||this.resolveDataElementOptions(f,t[f].active?"active":n));const w=_.options||t[f].options;Cg(_,w,y,o),Ag(_,w,h.ratio),this.updateElement(t[f],f,_,n)}}_getStacks(t,e){const{iScale:i}=this._cachedMeta,n=i.getMatchingVisibleMetas(this._type).filter(l=>l.controller.options.grouped),r=i.options.stacked,o=[],a=l=>{const c=l.controller.getParsed(e),h=c&&c[l.vScale.axis];if(q(h)||isNaN(h))return!0};for(const l of n)if(!(e!==void 0&&a(l))&&((r===!1||o.indexOf(l.stack)===-1||r===void 0&&l.stack===void 0)&&o.push(l.stack),l.index===t))break;return o.length||o.push(void 0),o}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,e,i){const n=this._getStacks(t,i),r=e!==void 0?n.indexOf(e):-1;return r===-1?n.length-1:r}_getRuler(){const t=this.options,e=this._cachedMeta,i=e.iScale,n=[];let r,o;for(r=0,o=e.data.length;r<o;++r)n.push(i.getPixelForValue(this.getParsed(r)[i.axis],r));const a=t.barThickness;return{min:a||kg(e),pixels:n,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:a?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:i,index:n},options:{base:r,minBarLength:o}}=this,a=r||0,l=this.getParsed(t),c=l._custom,h=yr(c);let u=l[e.axis],d=0,f=i?this.applyStack(e,l,i):u,g,m;f!==u&&(d=f-u,f=u),h&&(u=c.barStart,f=c.barEnd-c.barStart,u!==0&&ae(u)!==ae(c.barEnd)&&(d=0),d+=u);const p=!q(r)&&!h?r:d;let y=e.getPixelForValue(p);if(this.chart.getDataVisibility(t)?g=e.getPixelForValue(d+f):g=y,m=g-y,Math.abs(m)<o){m=Mg(m,e,a)*o,u===a&&(y-=m/2);const _=e.getPixelForDecimal(0),w=e.getPixelForDecimal(1),b=Math.min(_,w),v=Math.max(_,w);y=Math.max(Math.min(y,v),b),g=y+m,i&&!h&&(l._stacks[e.axis]._visualValues[n]=e.getValueForPixel(g)-e.getValueForPixel(y))}if(y===e.getPixelForValue(a)){const _=ae(m)*e.getLineWidthForValue(a)/2;y+=_,m-=_}return{size:m,base:y,head:g,center:g+m/2}}_calculateBarIndexPixels(t,e){const i=e.scale,n=this.options,r=n.skipNull,o=$(n.maxBarThickness,1/0);let a,l;if(e.grouped){const c=r?this._getStackCount(t):e.stackCount,h=n.barThickness==="flex"?Og(t,e,n,c):Sg(t,e,n,c),u=this._getStackIndex(this.index,this._cachedMeta.stack,r?t:void 0);a=h.start+h.chunk*u+h.chunk/2,l=Math.min(o,h.chunk*h.ratio)}else a=i.getPixelForValue(this.getParsed(t)[i.axis],t),l=Math.min(o,e.min*e.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const t=this._cachedMeta,e=t.vScale,i=t.data,n=i.length;let r=0;for(;r<n;++r)this.getParsed(r)[e.axis]!==null&&!i[r].hidden&&i[r].draw(this._ctx)}}E(pn,"id","bar"),E(pn,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),E(pn,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class yn extends Jt{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,e,i,n){const r=super.parsePrimitiveData(t,e,i,n);for(let o=0;o<r.length;o++)r[o]._custom=this.resolveDataElementOptions(o+i).radius;return r}parseArrayData(t,e,i,n){const r=super.parseArrayData(t,e,i,n);for(let o=0;o<r.length;o++){const a=e[i+o];r[o]._custom=$(a[2],this.resolveDataElementOptions(o+i).radius)}return r}parseObjectData(t,e,i,n){const r=super.parseObjectData(t,e,i,n);for(let o=0;o<r.length;o++){const a=e[i+o];r[o]._custom=$(a&&a.r&&+a.r,this.resolveDataElementOptions(o+i).radius)}return r}getMaxOverflow(){const t=this._cachedMeta.data;let e=0;for(let i=t.length-1;i>=0;--i)e=Math.max(e,t[i].size(this.resolveDataElementOptions(i))/2);return e>0&&e}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart.data.labels||[],{xScale:n,yScale:r}=e,o=this.getParsed(t),a=n.getLabelForValue(o.x),l=r.getLabelForValue(o.y),c=o._custom;return{label:i[t]||"",value:"("+a+", "+l+(c?", "+c:"")+")"}}update(t){const e=this._cachedMeta.data;this.updateElements(e,0,e.length,t)}updateElements(t,e,i,n){const r=n==="reset",{iScale:o,vScale:a}=this._cachedMeta,{sharedOptions:l,includeOptions:c}=this._getSharedOptions(e,n),h=o.axis,u=a.axis;for(let d=e;d<e+i;d++){const f=t[d],g=!r&&this.getParsed(d),m={},p=m[h]=r?o.getPixelForDecimal(.5):o.getPixelForValue(g[h]),y=m[u]=r?a.getBasePixel():a.getPixelForValue(g[u]);m.skip=isNaN(p)||isNaN(y),c&&(m.options=l||this.resolveDataElementOptions(d,f.active?"active":n),r&&(m.options.radius=0)),this.updateElement(f,d,m,n)}}resolveDataElementOptions(t,e){const i=this.getParsed(t);let n=super.resolveDataElementOptions(t,e);n.$shared&&(n=Object.assign({},n,{$shared:!1}));const r=n.radius;return e!=="active"&&(n.radius=0),n.radius+=$(i&&i._custom,r),n}}E(yn,"id","bubble"),E(yn,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),E(yn,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function Pg(s,t,e){let i=1,n=1,r=0,o=0;if(t<et){const a=s,l=a+t,c=Math.cos(a),h=Math.sin(a),u=Math.cos(l),d=Math.sin(l),f=(w,b,v)=>Si(w,a,l,!0)?1:Math.max(b,b*e,v,v*e),g=(w,b,v)=>Si(w,a,l,!0)?-1:Math.min(b,b*e,v,v*e),m=f(0,c,u),p=f(ht,h,d),y=g(st,c,u),_=g(st+ht,h,d);i=(m-y)/2,n=(p-_)/2,r=-(m+y)/2,o=-(p+_)/2}return{ratioX:i,ratioY:n,offsetX:r,offsetY:o}}class ts extends Jt{constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const i=this.getDataset().data,n=this._cachedMeta;if(this._parsing===!1)n._parsed=i;else{let r=l=>+i[l];if(B(i[t])){const{key:l="value"}=this._parsing;r=c=>+$e(i[c],l)}let o,a;for(o=t,a=t+e;o<a;++o)n._parsed[o]=r(o)}}_getRotation(){return Gt(this.options.rotation-90)}_getCircumference(){return Gt(this.options.circumference)}_getRotationExtents(){let t=et,e=-et;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const n=this.chart.getDatasetMeta(i).controller,r=n._getRotation(),o=n._getCircumference();t=Math.min(t,r),e=Math.max(e,r+o)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:i}=e,n=this._cachedMeta,r=n.data,o=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,a=Math.max((Math.min(i.width,i.height)-o)/2,0),l=Math.min(Ud(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:h,rotation:u}=this._getRotationExtents(),{ratioX:d,ratioY:f,offsetX:g,offsetY:m}=Pg(u,h,l),p=(i.width-o)/d,y=(i.height-o)/f,_=Math.max(Math.min(p,y)/2,0),w=Yc(this.options.radius,_),b=Math.max(w*l,0),v=(w-b)/this._getVisibleDatasetWeightTotal();this.offsetX=g*w,this.offsetY=m*w,n.total=this.calculateTotal(),this.outerRadius=w-v*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-v*c,0),this.updateElements(r,0,r.length,t)}_circumference(t,e){const i=this.options,n=this._cachedMeta,r=this._getCircumference();return e&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||n._parsed[t]===null||n.data[t].hidden?0:this.calculateCircumference(n._parsed[t]*r/et)}updateElements(t,e,i,n){const r=n==="reset",o=this.chart,a=o.chartArea,c=o.options.animation,h=(a.left+a.right)/2,u=(a.top+a.bottom)/2,d=r&&c.animateScale,f=d?0:this.innerRadius,g=d?0:this.outerRadius,{sharedOptions:m,includeOptions:p}=this._getSharedOptions(e,n);let y=this._getRotation(),_;for(_=0;_<e;++_)y+=this._circumference(_,r);for(_=e;_<e+i;++_){const w=this._circumference(_,r),b=t[_],v={x:h+this.offsetX,y:u+this.offsetY,startAngle:y,endAngle:y+w,circumference:w,outerRadius:g,innerRadius:f};p&&(v.options=m||this.resolveDataElementOptions(_,b.active?"active":n)),y+=w,this.updateElement(b,_,v,n)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let i=0,n;for(n=0;n<e.length;n++){const r=t._parsed[n];r!==null&&!isNaN(r)&&this.chart.getDataVisibility(n)&&!e[n].hidden&&(i+=Math.abs(r))}return i}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?et*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,n=i.data.labels||[],r=Ii(e._parsed[t],i.options.locale);return{label:n[t]||"",value:r}}getMaxBorderWidth(t){let e=0;const i=this.chart;let n,r,o,a,l;if(!t){for(n=0,r=i.data.datasets.length;n<r;++n)if(i.isDatasetVisible(n)){o=i.getDatasetMeta(n),t=o.data,a=o.controller;break}}if(!t)return 0;for(n=0,r=t.length;n<r;++n)l=a.resolveDataElementOptions(n),l.borderAlign!=="inner"&&(e=Math.max(e,l.borderWidth||0,l.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let i=0,n=t.length;i<n;++i){const r=this.resolveDataElementOptions(i);e=Math.max(e,r.offset||0,r.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(e+=this._getRingWeight(i));return e}_getRingWeight(t){return Math.max($(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}E(ts,"id","doughnut"),E(ts,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),E(ts,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),E(ts,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i,color:n}}=t.legend.options;return e.labels.map((r,o)=>{const l=t.getDatasetMeta(0).controller.getStyle(o);return{text:r,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:n,lineWidth:l.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}}});class _n extends Jt{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:i,data:n=[],_dataset:r}=e,o=this.chart._animationsDisabled;let{start:a,count:l}=eh(e,n,o);this._drawStart=a,this._drawCount=l,sh(e)&&(a=0,l=n.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!r._decimated,i.points=n;const c=this.resolveDatasetElementOptions(t);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(i,void 0,{animated:!o,options:c},t),this.updateElements(n,a,l,t)}updateElements(t,e,i,n){const r=n==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:h,includeOptions:u}=this._getSharedOptions(e,n),d=o.axis,f=a.axis,{spanGaps:g,segment:m}=this.options,p=Ls(g)?g:Number.POSITIVE_INFINITY,y=this.chart._animationsDisabled||r||n==="none",_=e+i,w=t.length;let b=e>0&&this.getParsed(e-1);for(let v=0;v<w;++v){const S=t[v],M=y?S:{};if(v<e||v>=_){M.skip=!0;continue}const O=this.getParsed(v),D=q(O[f]),A=M[d]=o.getPixelForValue(O[d],v),P=M[f]=r||D?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,O,l):O[f],v);M.skip=isNaN(A)||isNaN(P)||D,M.stop=v>0&&Math.abs(O[d]-b[d])>p,m&&(M.parsed=O,M.raw=c.data[v]),u&&(M.options=h||this.resolveDataElementOptions(v,S.active?"active":n)),y||this.updateElement(S,v,M,n),b=O}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,i=e.options&&e.options.borderWidth||0,n=t.data||[];if(!n.length)return i;const r=n[0].size(this.resolveDataElementOptions(0)),o=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(i,r,o)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}E(_n,"id","line"),E(_n,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),E(_n,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class mi extends Jt{constructor(t,e){super(t,e),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,n=i.data.labels||[],r=Ii(e._parsed[t].r,i.options.locale);return{label:n[t]||"",value:r}}parseObjectData(t,e,i,n){return hh.bind(this)(t,e,i,n)}update(t){const e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,e.length,t)}getMinMax(){const t=this._cachedMeta,e={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((i,n)=>{const r=this.getParsed(n).r;!isNaN(r)&&this.chart.getDataVisibility(n)&&(r<e.min&&(e.min=r),r>e.max&&(e.max=r))}),e}_updateRadius(){const t=this.chart,e=t.chartArea,i=t.options,n=Math.min(e.right-e.left,e.bottom-e.top),r=Math.max(n/2,0),o=Math.max(i.cutoutPercentage?r/100*i.cutoutPercentage:1,0),a=(r-o)/t.getVisibleDatasetCount();this.outerRadius=r-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(t,e,i,n){const r=n==="reset",o=this.chart,l=o.options.animation,c=this._cachedMeta.rScale,h=c.xCenter,u=c.yCenter,d=c.getIndexAngle(0)-.5*st;let f=d,g;const m=360/this.countVisibleElements();for(g=0;g<e;++g)f+=this._computeAngle(g,n,m);for(g=e;g<e+i;g++){const p=t[g];let y=f,_=f+this._computeAngle(g,n,m),w=o.getDataVisibility(g)?c.getDistanceFromCenterForValue(this.getParsed(g).r):0;f=_,r&&(l.animateScale&&(w=0),l.animateRotate&&(y=_=d));const b={x:h,y:u,innerRadius:0,outerRadius:w,startAngle:y,endAngle:_,options:this.resolveDataElementOptions(g,p.active?"active":n)};this.updateElement(p,g,b,n)}}countVisibleElements(){const t=this._cachedMeta;let e=0;return t.data.forEach((i,n)=>{!isNaN(this.getParsed(n).r)&&this.chart.getDataVisibility(n)&&e++}),e}_computeAngle(t,e,i){return this.chart.getDataVisibility(t)?Gt(this.resolveDataElementOptions(t,e).angle||i):0}}E(mi,"id","polarArea"),E(mi,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),E(mi,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i,color:n}}=t.legend.options;return e.labels.map((r,o)=>{const l=t.getDatasetMeta(0).controller.getStyle(o);return{text:r,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:n,lineWidth:l.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class qr extends ts{}E(qr,"id","pie"),E(qr,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class bn extends Jt{getLabelAndValue(t){const e=this._cachedMeta.vScale,i=this.getParsed(t);return{label:e.getLabels()[t],value:""+e.getLabelForValue(i[e.axis])}}parseObjectData(t,e,i,n){return hh.bind(this)(t,e,i,n)}update(t){const e=this._cachedMeta,i=e.dataset,n=e.data||[],r=e.iScale.getLabels();if(i.points=n,t!=="resize"){const o=this.resolveDatasetElementOptions(t);this.options.showLine||(o.borderWidth=0);const a={_loop:!0,_fullLoop:r.length===n.length,options:o};this.updateElement(i,void 0,a,t)}this.updateElements(n,0,n.length,t)}updateElements(t,e,i,n){const r=this._cachedMeta.rScale,o=n==="reset";for(let a=e;a<e+i;a++){const l=t[a],c=this.resolveDataElementOptions(a,l.active?"active":n),h=r.getPointPositionForValue(a,this.getParsed(a).r),u=o?r.xCenter:h.x,d=o?r.yCenter:h.y,f={x:u,y:d,angle:h.angle,skip:isNaN(u)||isNaN(d),options:c};this.updateElement(l,a,f,n)}}}E(bn,"id","radar"),E(bn,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),E(bn,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class vn extends Jt{getLabelAndValue(t){const e=this._cachedMeta,i=this.chart.data.labels||[],{xScale:n,yScale:r}=e,o=this.getParsed(t),a=n.getLabelForValue(o.x),l=r.getLabelForValue(o.y);return{label:i[t]||"",value:"("+a+", "+l+")"}}update(t){const e=this._cachedMeta,{data:i=[]}=e,n=this.chart._animationsDisabled;let{start:r,count:o}=eh(e,i,n);if(this._drawStart=r,this._drawCount=o,sh(e)&&(r=0,o=i.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:a,_dataset:l}=e;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!l._decimated,a.points=i;const c=this.resolveDatasetElementOptions(t);c.segment=this.options.segment,this.updateElement(a,void 0,{animated:!n,options:c},t)}else this.datasetElementType&&(delete e.dataset,this.datasetElementType=!1);this.updateElements(i,r,o,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,e,i,n){const r=n==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,h=this.resolveDataElementOptions(e,n),u=this.getSharedOptions(h),d=this.includeOptions(n,u),f=o.axis,g=a.axis,{spanGaps:m,segment:p}=this.options,y=Ls(m)?m:Number.POSITIVE_INFINITY,_=this.chart._animationsDisabled||r||n==="none";let w=e>0&&this.getParsed(e-1);for(let b=e;b<e+i;++b){const v=t[b],S=this.getParsed(b),M=_?v:{},O=q(S[g]),D=M[f]=o.getPixelForValue(S[f],b),A=M[g]=r||O?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,S,l):S[g],b);M.skip=isNaN(D)||isNaN(A)||O,M.stop=b>0&&Math.abs(S[f]-w[f])>y,p&&(M.parsed=S,M.raw=c.data[b]),d&&(M.options=u||this.resolveDataElementOptions(b,v.active?"active":n)),_||this.updateElement(v,b,M,n),w=S}this.updateSharedOptions(u,n,h)}getMaxOverflow(){const t=this._cachedMeta,e=t.data||[];if(!this.options.showLine){let a=0;for(let l=e.length-1;l>=0;--l)a=Math.max(a,e[l].size(this.resolveDataElementOptions(l))/2);return a>0&&a}const i=t.dataset,n=i.options&&i.options.borderWidth||0;if(!e.length)return n;const r=e[0].size(this.resolveDataElementOptions(0)),o=e[e.length-1].size(this.resolveDataElementOptions(e.length-1));return Math.max(n,r,o)/2}}E(vn,"id","scatter"),E(vn,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),E(vn,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var Ig=Object.freeze({__proto__:null,BarController:pn,BubbleController:yn,DoughnutController:ts,LineController:_n,PieController:qr,PolarAreaController:mi,RadarController:bn,ScatterController:vn});function Be(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class No{constructor(t){E(this,"options");this.options=t||{}}static override(t){Object.assign(No.prototype,t)}init(){}formats(){return Be()}parse(){return Be()}format(){return Be()}add(){return Be()}diff(){return Be()}startOf(){return Be()}endOf(){return Be()}}var Lg={_date:No};function Rg(s,t,e,i){const{controller:n,data:r,_sorted:o}=s,a=n._cachedMeta.iScale;if(a&&t===a.axis&&t!=="r"&&o&&r.length){const l=a._reversePixels?nf:ye;if(i){if(n._sharedOptions){const c=r[0],h=typeof c.getRange=="function"&&c.getRange(t);if(h){const u=l(r,t,e-h),d=l(r,t,e+h);return{lo:u.lo,hi:d.hi}}}}else return l(r,t,e)}return{lo:0,hi:r.length-1}}function Li(s,t,e,i,n){const r=s.getSortedVisibleDatasetMetas(),o=e[t];for(let a=0,l=r.length;a<l;++a){const{index:c,data:h}=r[a],{lo:u,hi:d}=Rg(r[a],t,o,n);for(let f=u;f<=d;++f){const g=h[f];g.skip||i(g,c,f)}}}function $g(s){const t=s.indexOf("x")!==-1,e=s.indexOf("y")!==-1;return function(i,n){const r=t?Math.abs(i.x-n.x):0,o=e?Math.abs(i.y-n.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(o,2))}}function _r(s,t,e,i,n){const r=[];return!n&&!s.isPointInArea(t)||Li(s,e,t,function(a,l,c){!n&&!_e(a,s.chartArea,0)||a.inRange(t.x,t.y,i)&&r.push({element:a,datasetIndex:l,index:c})},!0),r}function Ng(s,t,e,i){let n=[];function r(o,a,l){const{startAngle:c,endAngle:h}=o.getProps(["startAngle","endAngle"],i),{angle:u}=Jc(o,{x:t.x,y:t.y});Si(u,c,h)&&n.push({element:o,datasetIndex:a,index:l})}return Li(s,e,t,r),n}function Fg(s,t,e,i,n,r){let o=[];const a=$g(e);let l=Number.POSITIVE_INFINITY;function c(h,u,d){const f=h.inRange(t.x,t.y,n);if(i&&!f)return;const g=h.getCenterPoint(n);if(!(!!r||s.isPointInArea(g))&&!f)return;const p=a(t,g);p<l?(o=[{element:h,datasetIndex:u,index:d}],l=p):p===l&&o.push({element:h,datasetIndex:u,index:d})}return Li(s,e,t,c),o}function br(s,t,e,i,n,r){return!r&&!s.isPointInArea(t)?[]:e==="r"&&!i?Ng(s,t,e,n):Fg(s,t,e,i,n,r)}function za(s,t,e,i,n){const r=[],o=e==="x"?"inXRange":"inYRange";let a=!1;return Li(s,e,t,(l,c,h)=>{l[o](t[e],n)&&(r.push({element:l,datasetIndex:c,index:h}),a=a||l.inRange(t.x,t.y,n))}),i&&!a?[]:r}var jg={evaluateInteractionItems:Li,modes:{index(s,t,e,i){const n=Ze(t,s),r=e.axis||"x",o=e.includeInvisible||!1,a=e.intersect?_r(s,n,r,i,o):br(s,n,r,!1,i,o),l=[];return a.length?(s.getSortedVisibleDatasetMetas().forEach(c=>{const h=a[0].index,u=c.data[h];u&&!u.skip&&l.push({element:u,datasetIndex:c.index,index:h})}),l):[]},dataset(s,t,e,i){const n=Ze(t,s),r=e.axis||"xy",o=e.includeInvisible||!1;let a=e.intersect?_r(s,n,r,i,o):br(s,n,r,!1,i,o);if(a.length>0){const l=a[0].datasetIndex,c=s.getDatasetMeta(l).data;a=[];for(let h=0;h<c.length;++h)a.push({element:c[h],datasetIndex:l,index:h})}return a},point(s,t,e,i){const n=Ze(t,s),r=e.axis||"xy",o=e.includeInvisible||!1;return _r(s,n,r,i,o)},nearest(s,t,e,i){const n=Ze(t,s),r=e.axis||"xy",o=e.includeInvisible||!1;return br(s,n,r,e.intersect,i,o)},x(s,t,e,i){const n=Ze(t,s);return za(s,n,"x",e.intersect,i)},y(s,t,e,i){const n=Ze(t,s);return za(s,n,"y",e.intersect,i)}}};const vh=["left","top","right","bottom"];function Js(s,t){return s.filter(e=>e.pos===t)}function Va(s,t){return s.filter(e=>vh.indexOf(e.pos)===-1&&e.box.axis===t)}function Ks(s,t){return s.sort((e,i)=>{const n=t?i:e,r=t?e:i;return n.weight===r.weight?n.index-r.index:n.weight-r.weight})}function zg(s){const t=[];let e,i,n,r,o,a;for(e=0,i=(s||[]).length;e<i;++e)n=s[e],{position:r,options:{stack:o,stackWeight:a=1}}=n,t.push({index:e,box:n,pos:r,horizontal:n.isHorizontal(),weight:n.weight,stack:o&&r+o,stackWeight:a});return t}function Vg(s){const t={};for(const e of s){const{stack:i,pos:n,stackWeight:r}=e;if(!i||!vh.includes(n))continue;const o=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=r}return t}function Wg(s,t){const e=Vg(s),{vBoxMaxWidth:i,hBoxMaxHeight:n}=t;let r,o,a;for(r=0,o=s.length;r<o;++r){a=s[r];const{fullSize:l}=a.box,c=e[a.stack],h=c&&a.stackWeight/c.weight;a.horizontal?(a.width=h?h*i:l&&t.availableWidth,a.height=n):(a.width=i,a.height=h?h*n:l&&t.availableHeight)}return e}function Bg(s){const t=zg(s),e=Ks(t.filter(c=>c.box.fullSize),!0),i=Ks(Js(t,"left"),!0),n=Ks(Js(t,"right")),r=Ks(Js(t,"top"),!0),o=Ks(Js(t,"bottom")),a=Va(t,"x"),l=Va(t,"y");return{fullSize:e,leftAndTop:i.concat(r),rightAndBottom:n.concat(l).concat(o).concat(a),chartArea:Js(t,"chartArea"),vertical:i.concat(n).concat(l),horizontal:r.concat(o).concat(a)}}function Wa(s,t,e,i){return Math.max(s[e],t[e])+Math.max(s[i],t[i])}function wh(s,t){s.top=Math.max(s.top,t.top),s.left=Math.max(s.left,t.left),s.bottom=Math.max(s.bottom,t.bottom),s.right=Math.max(s.right,t.right)}function Hg(s,t,e,i){const{pos:n,box:r}=e,o=s.maxPadding;if(!B(n)){e.size&&(s[n]-=e.size);const u=i[e.stack]||{size:0,count:1};u.size=Math.max(u.size,e.horizontal?r.height:r.width),e.size=u.size/u.count,s[n]+=e.size}r.getPadding&&wh(o,r.getPadding());const a=Math.max(0,t.outerWidth-Wa(o,s,"left","right")),l=Math.max(0,t.outerHeight-Wa(o,s,"top","bottom")),c=a!==s.w,h=l!==s.h;return s.w=a,s.h=l,e.horizontal?{same:c,other:h}:{same:h,other:c}}function Ug(s){const t=s.maxPadding;function e(i){const n=Math.max(t[i]-s[i],0);return s[i]+=n,n}s.y+=e("top"),s.x+=e("left"),e("right"),e("bottom")}function qg(s,t){const e=t.maxPadding;function i(n){const r={left:0,top:0,right:0,bottom:0};return n.forEach(o=>{r[o]=Math.max(t[o],e[o])}),r}return i(s?["left","right"]:["top","bottom"])}function ri(s,t,e,i){const n=[];let r,o,a,l,c,h;for(r=0,o=s.length,c=0;r<o;++r){a=s[r],l=a.box,l.update(a.width||t.w,a.height||t.h,qg(a.horizontal,t));const{same:u,other:d}=Hg(t,e,a,i);c|=u&&n.length,h=h||d,l.fullSize||n.push(a)}return c&&ri(n,t,e,i)||h}function Ji(s,t,e,i,n){s.top=e,s.left=t,s.right=t+i,s.bottom=e+n,s.width=i,s.height=n}function Ba(s,t,e,i){const n=e.padding;let{x:r,y:o}=t;for(const a of s){const l=a.box,c=i[a.stack]||{count:1,placed:0,weight:1},h=a.stackWeight/c.weight||1;if(a.horizontal){const u=t.w*h,d=c.size||l.height;ki(c.start)&&(o=c.start),l.fullSize?Ji(l,n.left,o,e.outerWidth-n.right-n.left,d):Ji(l,t.left+c.placed,o,u,d),c.start=o,c.placed+=u,o=l.bottom}else{const u=t.h*h,d=c.size||l.width;ki(c.start)&&(r=c.start),l.fullSize?Ji(l,r,n.top,d,e.outerHeight-n.bottom-n.top):Ji(l,r,t.top+c.placed,d,u),c.start=r,c.placed+=u,r=l.right}}t.x=r,t.y=o}var St={addBox(s,t){s.boxes||(s.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},s.boxes.push(t)},removeBox(s,t){const e=s.boxes?s.boxes.indexOf(t):-1;e!==-1&&s.boxes.splice(e,1)},configure(s,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(s,t,e,i){if(!s)return;const n=Ot(s.options.layout.padding),r=Math.max(t-n.width,0),o=Math.max(e-n.height,0),a=Bg(s.boxes),l=a.vertical,c=a.horizontal;Z(s.boxes,m=>{typeof m.beforeLayout=="function"&&m.beforeLayout()});const h=l.reduce((m,p)=>p.box.options&&p.box.options.display===!1?m:m+1,0)||1,u=Object.freeze({outerWidth:t,outerHeight:e,padding:n,availableWidth:r,availableHeight:o,vBoxMaxWidth:r/2/h,hBoxMaxHeight:o/2}),d=Object.assign({},n);wh(d,Ot(i));const f=Object.assign({maxPadding:d,w:r,h:o,x:n.left,y:n.top},n),g=Wg(l.concat(c),u);ri(a.fullSize,f,u,g),ri(l,f,u,g),ri(c,f,u,g)&&ri(l,f,u,g),Ug(f),Ba(a.leftAndTop,f,u,g),f.x+=f.w,f.y+=f.h,Ba(a.rightAndBottom,f,u,g),s.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},Z(a.chartArea,m=>{const p=m.box;Object.assign(p,s.chartArea),p.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}};class xh{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,n){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,n?Math.floor(e/n):i)}}isAttached(t){return!0}updateConfig(t){}}class Yg extends xh{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const wn="$chartjs",Gg={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Ha=s=>s===null||s==="";function Zg(s,t){const e=s.style,i=s.getAttribute("height"),n=s.getAttribute("width");if(s[wn]={initial:{height:i,width:n,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",Ha(n)){const r=Ta(s,"width");r!==void 0&&(s.width=r)}if(Ha(i))if(s.style.height==="")s.height=s.width/(t||2);else{const r=Ta(s,"height");r!==void 0&&(s.height=r)}return s}const kh=Kf?{passive:!0}:!1;function Jg(s,t,e){s&&s.addEventListener(t,e,kh)}function Kg(s,t,e){s&&s.canvas&&s.canvas.removeEventListener(t,e,kh)}function Xg(s,t){const e=Gg[s.type]||s.type,{x:i,y:n}=Ze(s,t);return{type:e,chart:t,native:s,x:i!==void 0?i:null,y:n!==void 0?n:null}}function Rn(s,t){for(const e of s)if(e===t||e.contains(t))return!0}function Qg(s,t,e){const i=s.canvas,n=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||Rn(a.addedNodes,i),o=o&&!Rn(a.removedNodes,i);o&&e()});return n.observe(document,{childList:!0,subtree:!0}),n}function tm(s,t,e){const i=s.canvas,n=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||Rn(a.removedNodes,i),o=o&&!Rn(a.addedNodes,i);o&&e()});return n.observe(document,{childList:!0,subtree:!0}),n}const Ti=new Map;let Ua=0;function Sh(){const s=window.devicePixelRatio;s!==Ua&&(Ua=s,Ti.forEach((t,e)=>{e.currentDevicePixelRatio!==s&&t()}))}function em(s,t){Ti.size||window.addEventListener("resize",Sh),Ti.set(s,t)}function sm(s){Ti.delete(s),Ti.size||window.removeEventListener("resize",Sh)}function im(s,t,e){const i=s.canvas,n=i&&$o(i);if(!n)return;const r=th((a,l)=>{const c=n.clientWidth;e(a,l),c<n.clientWidth&&e()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,h=l.contentRect.height;c===0&&h===0||r(c,h)});return o.observe(n),em(s,r),o}function vr(s,t,e){e&&e.disconnect(),t==="resize"&&sm(s)}function nm(s,t,e){const i=s.canvas,n=th(r=>{s.ctx!==null&&e(Xg(r,s))},s);return Jg(i,t,n),n}class rm extends xh{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(Zg(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[wn])return!1;const i=e[wn].initial;["height","width"].forEach(r=>{const o=i[r];q(o)?e.removeAttribute(r):e.setAttribute(r,o)});const n=i.style||{};return Object.keys(n).forEach(r=>{e.style[r]=n[r]}),e.width=e.width,delete e[wn],!0}addEventListener(t,e,i){this.removeEventListener(t,e);const n=t.$proxies||(t.$proxies={}),o={attach:Qg,detach:tm,resize:im}[e]||nm;n[e]=o(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),n=i[e];if(!n)return;({attach:vr,detach:vr,resize:vr}[e]||Kg)(t,e,n),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,n){return Jf(t,e,i,n)}isAttached(t){const e=t&&$o(t);return!!(e&&e.isConnected)}}function om(s){return!Ro()||typeof OffscreenCanvas<"u"&&s instanceof OffscreenCanvas?Yg:rm}class Kt{constructor(){E(this,"x");E(this,"y");E(this,"active",!1);E(this,"options");E(this,"$animations")}tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return Ls(this.x)&&Ls(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const n={};return t.forEach(r=>{n[r]=i[r]&&i[r].active()?i[r]._to:this[r]}),n}}E(Kt,"defaults",{}),E(Kt,"defaultRoutes");function am(s,t){const e=s.options.ticks,i=lm(s),n=Math.min(e.maxTicksLimit||i,i),r=e.major.enabled?hm(t):[],o=r.length,a=r[0],l=r[o-1],c=[];if(o>n)return um(t,c,r,o/n),c;const h=cm(r,t,n);if(o>0){let u,d;const f=o>1?Math.round((l-a)/(o-1)):null;for(Ki(t,c,h,q(f)?0:a-f,a),u=0,d=o-1;u<d;u++)Ki(t,c,h,r[u],r[u+1]);return Ki(t,c,h,l,q(f)?t.length:l+f),c}return Ki(t,c,h),c}function lm(s){const t=s.options.offset,e=s._tickSize(),i=s._length/e+(t?0:1),n=s._maxLength/e;return Math.floor(Math.min(i,n))}function cm(s,t,e){const i=dm(s),n=t.length/e;if(!i)return Math.max(n,1);const r=Qd(i);for(let o=0,a=r.length-1;o<a;o++){const l=r[o];if(l>n)return l}return Math.max(n,1)}function hm(s){const t=[];let e,i;for(e=0,i=s.length;e<i;e++)s[e].major&&t.push(e);return t}function um(s,t,e,i){let n=0,r=e[0],o;for(i=Math.ceil(i),o=0;o<s.length;o++)o===r&&(t.push(s[o]),n++,r=e[n*i])}function Ki(s,t,e,i,n){const r=$(i,0),o=Math.min($(n,s.length),s.length);let a=0,l,c,h;for(e=Math.ceil(e),n&&(l=n-i,e=l/Math.floor(l/e)),h=r;h<0;)a++,h=Math.round(r+a*e);for(c=Math.max(r,0);c<o;c++)c===h&&(t.push(s[c]),a++,h=Math.round(r+a*e))}function dm(s){const t=s.length;let e,i;if(t<2)return!1;for(i=s[0],e=1;e<t;++e)if(s[e]-s[e-1]!==i)return!1;return i}const fm=s=>s==="left"?"right":s==="right"?"left":s,qa=(s,t,e)=>t==="top"||t==="left"?s[t]+e:s[t]-e,Ya=(s,t)=>Math.min(t||s,s);function Ga(s,t){const e=[],i=s.length/t,n=s.length;let r=0;for(;r<n;r+=i)e.push(s[Math.floor(r)]);return e}function gm(s,t,e){const i=s.ticks.length,n=Math.min(t,i-1),r=s._startPixel,o=s._endPixel,a=1e-6;let l=s.getPixelForTick(n),c;if(!(e&&(i===1?c=Math.max(l-r,o-l):t===0?c=(s.getPixelForTick(1)-l)/2:c=(l-s.getPixelForTick(n-1))/2,l+=n<t?c:-c,l<r-a||l>o+a)))return l}function mm(s,t){Z(s,e=>{const i=e.gc,n=i.length/2;let r;if(n>t){for(r=0;r<n;++r)delete e.data[i[r]];i.splice(0,n)}})}function Xs(s){return s.drawTicks?s.tickLength:0}function Za(s,t){if(!s.display)return 0;const e=mt(s.font,t),i=Ot(s.padding);return(it(s.text)?s.text.length:1)*e.lineHeight+i.height}function pm(s,t){return ze(s,{scale:t,type:"scale"})}function ym(s,t,e){return ze(s,{tick:e,index:t,type:"tick"})}function _m(s,t,e){let i=Co(s);return(e&&t!=="right"||!e&&t==="right")&&(i=fm(i)),i}function bm(s,t,e,i){const{top:n,left:r,bottom:o,right:a,chart:l}=s,{chartArea:c,scales:h}=l;let u=0,d,f,g;const m=o-n,p=a-r;if(s.isHorizontal()){if(f=bt(i,r,a),B(e)){const y=Object.keys(e)[0],_=e[y];g=h[y].getPixelForValue(_)+m-t}else e==="center"?g=(c.bottom+c.top)/2+m-t:g=qa(s,e,t);d=a-r}else{if(B(e)){const y=Object.keys(e)[0],_=e[y];f=h[y].getPixelForValue(_)-p+t}else e==="center"?f=(c.left+c.right)/2-p+t:f=qa(s,e,t);g=bt(i,o,n),u=e==="left"?-ht:ht}return{titleX:f,titleY:g,maxWidth:d,rotation:u}}class cs extends Kt{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:n}=this;return t=Pt(t,Number.POSITIVE_INFINITY),e=Pt(e,Number.NEGATIVE_INFINITY),i=Pt(i,Number.POSITIVE_INFINITY),n=Pt(n,Number.NEGATIVE_INFINITY),{min:Pt(t,i),max:Pt(e,n),minDefined:ot(t),maxDefined:ot(e)}}getMinMax(t){let{min:e,max:i,minDefined:n,maxDefined:r}=this.getUserBounds(),o;if(n&&r)return{min:e,max:i};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,t),n||(e=Math.min(e,o.min)),r||(i=Math.max(i,o.max));return e=r&&e>i?i:e,i=n&&e>i?e:i,{min:Pt(e,Pt(i,e)),max:Pt(i,Pt(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){tt(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:n,grace:r,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Ef(this,r,n),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?Ga(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=am(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,i;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){tt(this.options.afterUpdate,[this])}beforeSetDimensions(){tt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){tt(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),tt(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){tt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,n,r;for(i=0,n=t.length;i<n;i++)r=t[i],r.label=tt(e.callback,[r.value,i,t],this)}afterTickToLabelConversion(){tt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){tt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=Ya(this.ticks.length,t.ticks.maxTicksLimit),n=e.minRotation||0,r=e.maxRotation;let o=n,a,l,c;if(!this._isVisible()||!e.display||n>=r||i<=1||!this.isHorizontal()){this.labelRotation=n;return}const h=this._getLabelSizes(),u=h.widest.width,d=h.highest.height,f=yt(this.chart.width-u,0,this.maxWidth);a=t.offset?this.maxWidth/i:f/(i-1),u+6>a&&(a=f/(i-(t.offset?.5:1)),l=this.maxHeight-Xs(t.grid)-e.padding-Za(t.title,this.chart.options.font),c=Math.sqrt(u*u+d*d),o=Mo(Math.min(Math.asin(yt((h.highest.height+6)/a,-1,1)),Math.asin(yt(l/c,-1,1))-Math.asin(yt(d/c,-1,1)))),o=Math.max(n,Math.min(r,o))),this.labelRotation=o}afterCalculateLabelRotation(){tt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){tt(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:n,grid:r}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=Za(n,e.options.font);if(a?(t.width=this.maxWidth,t.height=Xs(r)+l):(t.height=this.maxHeight,t.width=Xs(r)+l),i.display&&this.ticks.length){const{first:c,last:h,widest:u,highest:d}=this._getLabelSizes(),f=i.padding*2,g=Gt(this.labelRotation),m=Math.cos(g),p=Math.sin(g);if(a){const y=i.mirror?0:p*u.width+m*d.height;t.height=Math.min(this.maxHeight,t.height+y+f)}else{const y=i.mirror?0:m*u.width+p*d.height;t.width=Math.min(this.maxWidth,t.width+y+f)}this._calculatePadding(c,h,p,m)}}this._handleMargins(),a?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,n){const{ticks:{align:r,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const h=this.getPixelForTick(0)-this.left,u=this.right-this.getPixelForTick(this.ticks.length-1);let d=0,f=0;l?c?(d=n*t.width,f=i*e.height):(d=i*t.height,f=n*e.width):r==="start"?f=e.width:r==="end"?d=t.width:r!=="inner"&&(d=t.width/2,f=e.width/2),this.paddingLeft=Math.max((d-h+o)*this.width/(this.width-h),0),this.paddingRight=Math.max((f-u+o)*this.width/(this.width-u),0)}else{let h=e.height/2,u=t.height/2;r==="start"?(h=0,u=t.height):r==="end"&&(h=e.height,u=0),this.paddingTop=h+o,this.paddingBottom=u+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){tt(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,i;for(e=0,i=t.length;e<i;e++)q(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=Ga(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){const{ctx:n,_longestTextCache:r}=this,o=[],a=[],l=Math.floor(e/Ya(e,i));let c=0,h=0,u,d,f,g,m,p,y,_,w,b,v;for(u=0;u<e;u+=l){if(g=t[u].label,m=this._resolveTickFontOptions(u),n.font=p=m.string,y=r[p]=r[p]||{data:{},gc:[]},_=m.lineHeight,w=b=0,!q(g)&&!it(g))w=In(n,y.data,y.gc,w,g),b=_;else if(it(g))for(d=0,f=g.length;d<f;++d)v=g[d],!q(v)&&!it(v)&&(w=In(n,y.data,y.gc,w,v),b+=_);o.push(w),a.push(b),c=Math.max(w,c),h=Math.max(b,h)}mm(r,e);const S=o.indexOf(c),M=a.indexOf(h),O=D=>({width:o[D]||0,height:a[D]||0});return{first:O(0),last:O(e-1),widest:O(S),highest:O(M),widths:o,heights:a}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return sf(this._alignToPixels?We(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=ym(this.getContext(),t,i))}return this.$context||(this.$context=pm(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=Gt(this.labelRotation),i=Math.abs(Math.cos(e)),n=Math.abs(Math.sin(e)),r=this._getLabelSizes(),o=t.autoSkipPadding||0,a=r?r.widest.width+o:0,l=r?r.highest.height+o:0;return this.isHorizontal()?l*i>a*n?a/i:l/n:l*n<a*i?l/i:a/n}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,n=this.options,{grid:r,position:o,border:a}=n,l=r.offset,c=this.isHorizontal(),u=this.ticks.length+(l?1:0),d=Xs(r),f=[],g=a.setContext(this.getContext()),m=g.display?g.width:0,p=m/2,y=function(z){return We(i,z,m)};let _,w,b,v,S,M,O,D,A,P,j,K;if(o==="top")_=y(this.bottom),M=this.bottom-d,D=_-p,P=y(t.top)+p,K=t.bottom;else if(o==="bottom")_=y(this.top),P=t.top,K=y(t.bottom)-p,M=_+p,D=this.top+d;else if(o==="left")_=y(this.right),S=this.right-d,O=_-p,A=y(t.left)+p,j=t.right;else if(o==="right")_=y(this.left),A=t.left,j=y(t.right)-p,S=_+p,O=this.left+d;else if(e==="x"){if(o==="center")_=y((t.top+t.bottom)/2+.5);else if(B(o)){const z=Object.keys(o)[0],Y=o[z];_=y(this.chart.scales[z].getPixelForValue(Y))}P=t.top,K=t.bottom,M=_+p,D=M+d}else if(e==="y"){if(o==="center")_=y((t.left+t.right)/2);else if(B(o)){const z=Object.keys(o)[0],Y=o[z];_=y(this.chart.scales[z].getPixelForValue(Y))}S=_-p,O=S-d,A=t.left,j=t.right}const X=$(n.ticks.maxTicksLimit,u),N=Math.max(1,Math.ceil(u/X));for(w=0;w<u;w+=N){const z=this.getContext(w),Y=r.setContext(z),_t=a.setContext(z),H=Y.lineWidth,Wt=Y.color,ut=_t.dash||[],dt=_t.dashOffset,ce=Y.tickWidth,Rt=Y.tickColor,Bt=Y.tickBorderDash||[],te=Y.tickBorderDashOffset;b=gm(this,w,l),b!==void 0&&(v=We(i,b,H),c?S=O=A=j=v:M=D=P=K=v,f.push({tx1:S,ty1:M,tx2:O,ty2:D,x1:A,y1:P,x2:j,y2:K,width:H,color:Wt,borderDash:ut,borderDashOffset:dt,tickWidth:ce,tickColor:Rt,tickBorderDash:Bt,tickBorderDashOffset:te}))}return this._ticksLength=u,this._borderValue=_,f}_computeLabelItems(t){const e=this.axis,i=this.options,{position:n,ticks:r}=i,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:h,mirror:u}=r,d=Xs(i.grid),f=d+h,g=u?-h:f,m=-Gt(this.labelRotation),p=[];let y,_,w,b,v,S,M,O,D,A,P,j,K="middle";if(n==="top")S=this.bottom-g,M=this._getXAxisLabelAlignment();else if(n==="bottom")S=this.top+g,M=this._getXAxisLabelAlignment();else if(n==="left"){const N=this._getYAxisLabelAlignment(d);M=N.textAlign,v=N.x}else if(n==="right"){const N=this._getYAxisLabelAlignment(d);M=N.textAlign,v=N.x}else if(e==="x"){if(n==="center")S=(t.top+t.bottom)/2+f;else if(B(n)){const N=Object.keys(n)[0],z=n[N];S=this.chart.scales[N].getPixelForValue(z)+f}M=this._getXAxisLabelAlignment()}else if(e==="y"){if(n==="center")v=(t.left+t.right)/2-f;else if(B(n)){const N=Object.keys(n)[0],z=n[N];v=this.chart.scales[N].getPixelForValue(z)}M=this._getYAxisLabelAlignment(d).textAlign}e==="y"&&(l==="start"?K="top":l==="end"&&(K="bottom"));const X=this._getLabelSizes();for(y=0,_=a.length;y<_;++y){w=a[y],b=w.label;const N=r.setContext(this.getContext(y));O=this.getPixelForTick(y)+r.labelOffset,D=this._resolveTickFontOptions(y),A=D.lineHeight,P=it(b)?b.length:1;const z=P/2,Y=N.color,_t=N.textStrokeColor,H=N.textStrokeWidth;let Wt=M;o?(v=O,M==="inner"&&(y===_-1?Wt=this.options.reverse?"left":"right":y===0?Wt=this.options.reverse?"right":"left":Wt="center"),n==="top"?c==="near"||m!==0?j=-P*A+A/2:c==="center"?j=-X.highest.height/2-z*A+A:j=-X.highest.height+A/2:c==="near"||m!==0?j=A/2:c==="center"?j=X.highest.height/2-z*A:j=X.highest.height-P*A,u&&(j*=-1),m!==0&&!N.showLabelBackdrop&&(v+=A/2*Math.sin(m))):(S=O,j=(1-P)*A/2);let ut;if(N.showLabelBackdrop){const dt=Ot(N.backdropPadding),ce=X.heights[y],Rt=X.widths[y];let Bt=j-dt.top,te=0-dt.left;switch(K){case"middle":Bt-=ce/2;break;case"bottom":Bt-=ce;break}switch(M){case"center":te-=Rt/2;break;case"right":te-=Rt;break;case"inner":y===_-1?te-=Rt:y>0&&(te-=Rt/2);break}ut={left:te,top:Bt,width:Rt+dt.width,height:ce+dt.height,color:N.backdropColor}}p.push({label:b,font:D,textOffset:j,options:{rotation:m,color:Y,strokeColor:_t,strokeWidth:H,textAlign:Wt,textBaseline:K,translation:[v,S],backdrop:ut}})}return p}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-Gt(this.labelRotation))return t==="top"?"left":"right";let n="center";return e.align==="start"?n="left":e.align==="end"?n="right":e.align==="inner"&&(n="inner"),n}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:n,padding:r}}=this.options,o=this._getLabelSizes(),a=t+r,l=o.widest.width;let c,h;return e==="left"?n?(h=this.right+r,i==="near"?c="left":i==="center"?(c="center",h+=l/2):(c="right",h+=l)):(h=this.right-a,i==="near"?c="right":i==="center"?(c="center",h-=l/2):(c="left",h=this.left)):e==="right"?n?(h=this.left+r,i==="near"?c="right":i==="center"?(c="center",h-=l/2):(c="left",h-=l)):(h=this.left+a,i==="near"?c="left":i==="center"?(c="center",h+=l/2):(c="right",h=this.right)):c="right",{textAlign:c,x:h}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:n,width:r,height:o}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,n,r,o),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const n=this.ticks.findIndex(r=>r.value===t);return n>=0?e.setContext(this.getContext(n)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,n=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let r,o;const a=(l,c,h)=>{!h.width||!h.color||(i.save(),i.lineWidth=h.width,i.strokeStyle=h.color,i.setLineDash(h.borderDash||[]),i.lineDashOffset=h.borderDashOffset,i.beginPath(),i.moveTo(l.x,l.y),i.lineTo(c.x,c.y),i.stroke(),i.restore())};if(e.display)for(r=0,o=n.length;r<o;++r){const l=n[r];e.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),e.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:n}}=this,r=i.setContext(this.getContext()),o=i.display?r.width:0;if(!o)return;const a=n.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,h,u,d;this.isHorizontal()?(c=We(t,this.left,o)-o/2,h=We(t,this.right,a)+a/2,u=d=l):(u=We(t,this.top,o)-o/2,d=We(t,this.bottom,a)+a/2,c=h=l),e.save(),e.lineWidth=r.width,e.strokeStyle=r.color,e.beginPath(),e.moveTo(c,u),e.lineTo(h,d),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,n=this._computeLabelArea();n&&Gn(i,n);const r=this.getLabelItems(t);for(const o of r){const a=o.options,l=o.font,c=o.label,h=o.textOffset;ls(i,c,0,h,l,a)}n&&Zn(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:n}}=this;if(!i.display)return;const r=mt(i.font),o=Ot(i.padding),a=i.align;let l=r.lineHeight/2;e==="bottom"||e==="center"||B(e)?(l+=o.bottom,it(i.text)&&(l+=r.lineHeight*(i.text.length-1))):l+=o.top;const{titleX:c,titleY:h,maxWidth:u,rotation:d}=bm(this,l,e,a);ls(t,i.text,0,0,r,{color:i.color,maxWidth:u,rotation:d,textAlign:_m(a,e,n),textBaseline:"middle",translation:[c,h]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=$(t.grid&&t.grid.z,-1),n=$(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==cs.prototype.draw?[{z:e,draw:r=>{this.draw(r)}}]:[{z:i,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:n,draw:()=>{this.drawBorder()}},{z:e,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",n=[];let r,o;for(r=0,o=e.length;r<o;++r){const a=e[r];a[i]===this.id&&(!t||a.type===t)&&n.push(a)}return n}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return mt(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Xi{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;xm(e)&&(i=this.register(e));const n=this.items,r=t.id,o=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+t);return r in n||(n[r]=t,vm(t,o,i),this.override&&at.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,n=this.scope;i in e&&delete e[i],n&&i in at[n]&&(delete at[n][i],this.override&&delete as[i])}}function vm(s,t,e){const i=xi(Object.create(null),[e?at.get(e):{},at.get(t),s.defaults]);at.set(t,i),s.defaultRoutes&&wm(t,s.defaultRoutes),s.descriptors&&at.describe(t,s.descriptors)}function wm(s,t){Object.keys(t).forEach(e=>{const i=e.split("."),n=i.pop(),r=[s].concat(i).join("."),o=t[e].split("."),a=o.pop(),l=o.join(".");at.route(r,n,l,a)})}function xm(s){return"id"in s&&"defaults"in s}class km{constructor(){this.controllers=new Xi(Jt,"datasets",!0),this.elements=new Xi(Kt,"elements"),this.plugins=new Xi(Object,"plugins"),this.scales=new Xi(cs,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(n=>{const r=i||this._getRegistryForType(n);i||r.isForType(n)||r===this.plugins&&n.id?this._exec(t,r,n):Z(n,o=>{const a=i||this._getRegistryForType(o);this._exec(t,a,o)})})}_exec(t,e,i){const n=To(t);tt(i["before"+n],[],i),e[t](i),tt(i["after"+n],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const n=e.get(t);if(n===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return n}}var ne=new km;class Sm{constructor(){this._init=[]}notify(t,e,i,n){e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const r=n?this._descriptors(t).filter(n):this._descriptors(t),o=this._notify(r,t,e,i);return e==="afterDestroy"&&(this._notify(r,t,"stop"),this._notify(this._init,t,"uninstall")),o}_notify(t,e,i,n){n=n||{};for(const r of t){const o=r.plugin,a=o[i],l=[e,n,r.options];if(tt(a,l,o)===!1&&n.cancelable)return!1}return!0}invalidate(){q(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,n=$(i.options&&i.options.plugins,{}),r=Om(i);return n===!1&&!e?[]:Mm(t,r,n,e)}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,n=(r,o)=>r.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(n(e,i),t,"stop"),this._notify(n(i,e),t,"start")}}function Om(s){const t={},e=[],i=Object.keys(ne.plugins.items);for(let r=0;r<i.length;r++)e.push(ne.getPlugin(i[r]));const n=s.plugins||[];for(let r=0;r<n.length;r++){const o=n[r];e.indexOf(o)===-1&&(e.push(o),t[o.id]=!0)}return{plugins:e,localIds:t}}function Tm(s,t){return!t&&s===!1?null:s===!0?{}:s}function Mm(s,{plugins:t,localIds:e},i,n){const r=[],o=s.getContext();for(const a of t){const l=a.id,c=Tm(i[l],n);c!==null&&r.push({plugin:a,options:Em(s.config,{plugin:a,local:e[l]},c,o)})}return r}function Em(s,{plugin:t,local:e},i,n){const r=s.pluginScopeKeys(t),o=s.getOptionScopes(i,r);return e&&t.defaults&&o.push(t.defaults),s.createResolver(o,n,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Yr(s,t){const e=at.datasets[s]||{};return((t.datasets||{})[s]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function Cm(s,t){let e=s;return s==="_index_"?e=t:s==="_value_"&&(e=t==="x"?"y":"x"),e}function Dm(s,t){return s===t?"_index_":"_value_"}function Ja(s){if(s==="x"||s==="y"||s==="r")return s}function Am(s){if(s==="top"||s==="bottom")return"x";if(s==="left"||s==="right")return"y"}function Gr(s,...t){if(Ja(s))return s;for(const e of t){const i=e.axis||Am(e.position)||s.length>1&&Ja(s[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${s}' axis. Please provide 'axis' or 'position' option.`)}function Ka(s,t,e){if(e[t+"AxisID"]===s)return{axis:t}}function Pm(s,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(i=>i.xAxisID===s||i.yAxisID===s);if(e.length)return Ka(s,"x",e[0])||Ka(s,"y",e[0])}return{}}function Im(s,t){const e=as[s.type]||{scales:{}},i=t.scales||{},n=Yr(s.type,t),r=Object.create(null);return Object.keys(i).forEach(o=>{const a=i[o];if(!B(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=Gr(o,a,Pm(o,s),at.scales[a.type]),c=Dm(l,n),h=e.scales||{};r[o]=ui(Object.create(null),[{axis:l},a,h[l],h[c]])}),s.data.datasets.forEach(o=>{const a=o.type||s.type,l=o.indexAxis||Yr(a,t),h=(as[a]||{}).scales||{};Object.keys(h).forEach(u=>{const d=Cm(u,l),f=o[d+"AxisID"]||d;r[f]=r[f]||Object.create(null),ui(r[f],[{axis:d},i[f],h[u]])})}),Object.keys(r).forEach(o=>{const a=r[o];ui(a,[at.scales[a.type],at.scale])}),r}function Oh(s){const t=s.options||(s.options={});t.plugins=$(t.plugins,{}),t.scales=Im(s,t)}function Th(s){return s=s||{},s.datasets=s.datasets||[],s.labels=s.labels||[],s}function Lm(s){return s=s||{},s.data=Th(s.data),Oh(s),s}const Xa=new Map,Mh=new Set;function Qi(s,t){let e=Xa.get(s);return e||(e=t(),Xa.set(s,e),Mh.add(e)),e}const Qs=(s,t,e)=>{const i=$e(t,e);i!==void 0&&s.add(i)};class Rm{constructor(t){this._config=Lm(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=Th(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),Oh(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Qi(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return Qi(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return Qi(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,i=this.type;return Qi(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let n=i.get(t);return(!n||e)&&(n=new Map,i.set(t,n)),n}getOptionScopes(t,e,i){const{options:n,type:r}=this,o=this._cachedScopes(t,i),a=o.get(e);if(a)return a;const l=new Set;e.forEach(h=>{t&&(l.add(t),h.forEach(u=>Qs(l,t,u))),h.forEach(u=>Qs(l,n,u)),h.forEach(u=>Qs(l,as[r]||{},u)),h.forEach(u=>Qs(l,at,u)),h.forEach(u=>Qs(l,Hr,u))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),Mh.has(e)&&o.set(e,c),c}chartOptionScopes(){const{options:t,type:e}=this;return[t,as[e]||{},at.datasets[e]||{},{type:e},at,Hr]}resolveNamedOptions(t,e,i,n=[""]){const r={$shared:!0},{resolver:o,subPrefixes:a}=Qa(this._resolverCache,t,n);let l=o;if(Nm(o,e)){r.$shared=!1,i=Ne(i)?i():i;const c=this.createResolver(t,i,a);l=Rs(o,i,c)}for(const c of e)r[c]=l[c];return r}createResolver(t,e,i=[""],n){const{resolver:r}=Qa(this._resolverCache,t,i);return B(e)?Rs(r,e,void 0,n):r}}function Qa(s,t,e){let i=s.get(t);i||(i=new Map,s.set(t,i));const n=e.join();let r=i.get(n);return r||(r={resolver:Po(t,e),subPrefixes:e.filter(a=>!a.toLowerCase().includes("hover"))},i.set(n,r)),r}const $m=s=>B(s)&&Object.getOwnPropertyNames(s).some(t=>Ne(s[t]));function Nm(s,t){const{isScriptable:e,isIndexable:i}=oh(s);for(const n of t){const r=e(n),o=i(n),a=(o||r)&&s[n];if(r&&(Ne(a)||$m(a))||o&&it(a))return!0}return!1}var Fm="4.4.3";const jm=["top","bottom","left","right","chartArea"];function tl(s,t){return s==="top"||s==="bottom"||jm.indexOf(s)===-1&&t==="x"}function el(s,t){return function(e,i){return e[s]===i[s]?e[t]-i[t]:e[s]-i[s]}}function sl(s){const t=s.chart,e=t.options.animation;t.notifyPlugins("afterRender"),tt(e&&e.onComplete,[s],t)}function zm(s){const t=s.chart,e=t.options.animation;tt(e&&e.onProgress,[s],t)}function Eh(s){return Ro()&&typeof s=="string"?s=document.getElementById(s):s&&s.length&&(s=s[0]),s&&s.canvas&&(s=s.canvas),s}const xn={},il=s=>{const t=Eh(s);return Object.values(xn).filter(e=>e.canvas===t).pop()};function Vm(s,t,e){const i=Object.keys(s);for(const n of i){const r=+n;if(r>=t){const o=s[n];delete s[n],(e>0||r>t)&&(s[r+e]=o)}}}function Wm(s,t,e,i){return!e||s.type==="mouseout"?null:i?t:s}function tn(s,t,e){return s.options.clip?s[e]:t[e]}function Bm(s,t){const{xScale:e,yScale:i}=s;return e&&i?{left:tn(e,t,"left"),right:tn(e,t,"right"),top:tn(i,t,"top"),bottom:tn(i,t,"bottom")}:t}class re{static register(...t){ne.add(...t),nl()}static unregister(...t){ne.remove(...t),nl()}constructor(t,e){const i=this.config=new Rm(e),n=Eh(t),r=il(n);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const o=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||om(n)),this.platform.updateConfig(i);const a=this.platform.acquireContext(n,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,h=l&&l.width;if(this.id=Hd(),this.ctx=a,this.canvas=l,this.width=h,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Sm,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=af(u=>this.update(u),o.resizeDelay||0),this._dataChanges=[],xn[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}ue.listen(this,"complete",sl),ue.listen(this,"progress",zm),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:n,_aspectRatio:r}=this;return q(t)?e&&r?r:n?i/n:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return ne}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Oa(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return xa(this.canvas,this.ctx),this}stop(){return ue.stop(this),this}resize(t,e){ue.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,n=this.canvas,r=i.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(n,t,e,r),a=i.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,Oa(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),tt(i.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};Z(e,(i,n)=>{i.id=n})}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,n=Object.keys(i).reduce((o,a)=>(o[a]=!1,o),{});let r=[];e&&(r=r.concat(Object.keys(e).map(o=>{const a=e[o],l=Gr(o,a),c=l==="r",h=l==="x";return{options:a,dposition:c?"chartArea":h?"bottom":"left",dtype:c?"radialLinear":h?"category":"linear"}}))),Z(r,o=>{const a=o.options,l=a.id,c=Gr(l,a),h=$(a.type,o.dtype);(a.position===void 0||tl(a.position,c)!==tl(o.dposition))&&(a.position=o.dposition),n[l]=!0;let u=null;if(l in i&&i[l].type===h)u=i[l];else{const d=ne.getScale(h);u=new d({id:l,type:h,ctx:this.ctx,chart:this}),i[u.id]=u}u.init(a,t)}),Z(n,(o,a)=>{o||delete i[a]}),Z(i,o=>{St.configure(this,o,o.options),St.addBox(this,o)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((n,r)=>n.index-r.index),i>e){for(let n=e;n<i;++n)this._destroyDatasetMeta(n);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(el("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,n)=>{e.filter(r=>r===i._dataset).length===0&&this._destroyDatasetMeta(n)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,n;for(this._removeUnreferencedMetasets(),i=0,n=e.length;i<n;i++){const r=e[i];let o=this.getDatasetMeta(i);const a=r.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(i),o=this.getDatasetMeta(i)),o.type=a,o.indexAxis=r.indexAxis||Yr(a,this.options),o.order=r.order||0,o.index=i,o.label=""+r.label,o.visible=this.isDatasetVisible(i),o.controller)o.controller.updateIndex(i),o.controller.linkScales();else{const l=ne.getController(a),{datasetElementType:c,dataElementType:h}=at.datasets[a];Object.assign(l,{dataElementType:ne.getElement(h),datasetElementType:c&&ne.getElement(c)}),o.controller=new l(this,i),t.push(o.controller)}}return this._updateMetasets(),t}_resetElements(){Z(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),n=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,h=this.data.datasets.length;c<h;c++){const{controller:u}=this.getDatasetMeta(c),d=!n&&r.indexOf(u)===-1;u.buildOrUpdateElements(d),o=Math.max(+u.getMaxOverflow(),o)}o=this._minPadding=i.layout.autoPadding?o:0,this._updateLayout(o),n||Z(r,c=>{c.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(el("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){Z(this.scales,t=>{St.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!fa(e,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:n,count:r}of e){const o=i==="_removeElements"?-r:r;Vm(t,n,o)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=r=>new Set(t.filter(o=>o[0]===r).map((o,a)=>a+","+o.splice(1).join(","))),n=i(0);for(let r=1;r<e;r++)if(!fa(n,i(r)))return;return Array.from(n).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;St.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],Z(this.boxes,n=>{i&&n.position==="chartArea"||(n.configure&&n.configure(),this._layers.push(...n._layers()))},this),this._layers.forEach((n,r)=>{n._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,Ne(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),n={meta:i,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",n)!==!1&&(i.controller._update(e),n.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",n))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(ue.has(this)?this.attached&&!ue.running(this)&&ue.start(this):(this.draw(),sl({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:n}=this._resizeBeforeDraw;this._resize(i,n),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let n,r;for(n=0,r=e.length;n<r;++n){const o=e[n];(!t||o.visible)&&i.push(o)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i=t._clip,n=!i.disabled,r=Bm(t,this.chartArea),o={meta:t,index:t.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(n&&Gn(e,{left:i.left===!1?0:r.left-i.left,right:i.right===!1?this.width:r.right+i.right,top:i.top===!1?0:r.top-i.top,bottom:i.bottom===!1?this.height:r.bottom+i.bottom}),t.controller.draw(),n&&Zn(e),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(t){return _e(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,n){const r=jg.modes[e];return typeof r=="function"?r(this,t,i,n):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let n=i.filter(r=>r&&r._dataset===e).pop();return n||(n={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(n)),n}getContext(){return this.$context||(this.$context=ze(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!e.hidden}setDatasetVisibility(t,e){const i=this.getDatasetMeta(t);i.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const n=i?"show":"hide",r=this.getDatasetMeta(t),o=r.controller._resolveAnimations(void 0,n);ki(e)?(r.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),o.update(r,{visible:i}),this.update(a=>a.datasetIndex===t?n:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),ue.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),xa(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete xn[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(r,o)=>{e.addEventListener(this,r,o),t[r]=o},n=(r,o,a)=>{r.offsetX=o,r.offsetY=a,this._eventHandler(r)};Z(this.options.events,r=>i(r,n))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(l,c)=>{e.addEventListener(this,l,c),t[l]=c},n=(l,c)=>{t[l]&&(e.removeEventListener(this,l,c),delete t[l])},r=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{n("attach",a),this.attached=!0,this.resize(),i("resize",r),i("detach",o)};o=()=>{this.attached=!1,n("resize",r),this._stop(),this._resize(0,0),i("attach",a)},e.isAttached(this.canvas)?a():o()}unbindEvents(){Z(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},Z(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const n=i?"set":"remove";let r,o,a,l;for(e==="dataset"&&(r=this.getDatasetMeta(t[0].datasetIndex),r.controller["_"+n+"DatasetHoverStyle"]()),a=0,l=t.length;a<l;++a){o=t[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[n+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map(({datasetIndex:r,index:o})=>{const a=this.getDatasetMeta(r);if(!a)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:a.data[o],index:o}});!Dn(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,i){const n=this.options.hover,r=(l,c)=>l.filter(h=>!c.some(u=>h.datasetIndex===u.datasetIndex&&h.index===u.index)),o=r(e,t),a=i?t:r(t,e);o.length&&this.updateHoverStyle(o,n.mode,!1),a.length&&n.mode&&this.updateHoverStyle(a,n.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},n=o=>(o.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,n)===!1)return;const r=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,n),(r||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:n=[],options:r}=this,o=e,a=this._getActiveElements(t,n,i,o),l=Jd(t),c=Wm(t,this._lastEvent,i,l);i&&(this._lastEvent=null,tt(r.onHover,[t,a,this],this),l&&tt(r.onClick,[t,a,this],this));const h=!Dn(a,n);return(h||e)&&(this._active=a,this._updateHoverStyles(a,n,e)),this._lastEvent=c,h}_getActiveElements(t,e,i,n){if(t.type==="mouseout")return[];if(!i)return e;const r=this.options.hover;return this.getElementsAtEventForMode(t,r.mode,r,n)}}E(re,"defaults",at),E(re,"instances",xn),E(re,"overrides",as),E(re,"registry",ne),E(re,"version",Fm),E(re,"getChart",il);function nl(){return Z(re.instances,s=>s._plugins.invalidate())}function Hm(s,t,e){const{startAngle:i,pixelMargin:n,x:r,y:o,outerRadius:a,innerRadius:l}=t;let c=n/a;s.beginPath(),s.arc(r,o,a,i-c,e+c),l>n?(c=n/l,s.arc(r,o,l,e+c,i-c,!0)):s.arc(r,o,n,e+ht,i-ht),s.closePath(),s.clip()}function Um(s){return Ao(s,["outerStart","outerEnd","innerStart","innerEnd"])}function qm(s,t,e,i){const n=Um(s.options.borderRadius),r=(e-t)/2,o=Math.min(r,i*t/2),a=l=>{const c=(e-Math.min(r,l))*i/2;return yt(l,0,Math.min(r,c))};return{outerStart:a(n.outerStart),outerEnd:a(n.outerEnd),innerStart:yt(n.innerStart,0,o),innerEnd:yt(n.innerEnd,0,o)}}function ms(s,t,e,i){return{x:e+s*Math.cos(t),y:i+s*Math.sin(t)}}function $n(s,t,e,i,n,r){const{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:h}=t,u=Math.max(t.outerRadius+i+e-c,0),d=h>0?h+i+e+c:0;let f=0;const g=n-l;if(i){const N=h>0?h-i:0,z=u>0?u-i:0,Y=(N+z)/2,_t=Y!==0?g*Y/(Y+i):g;f=(g-_t)/2}const m=Math.max(.001,g*u-e/st)/u,p=(g-m)/2,y=l+p+f,_=n-p-f,{outerStart:w,outerEnd:b,innerStart:v,innerEnd:S}=qm(t,d,u,_-y),M=u-w,O=u-b,D=y+w/M,A=_-b/O,P=d+v,j=d+S,K=y+v/P,X=_-S/j;if(s.beginPath(),r){const N=(D+A)/2;if(s.arc(o,a,u,D,N),s.arc(o,a,u,N,A),b>0){const H=ms(O,A,o,a);s.arc(H.x,H.y,b,A,_+ht)}const z=ms(j,_,o,a);if(s.lineTo(z.x,z.y),S>0){const H=ms(j,X,o,a);s.arc(H.x,H.y,S,_+ht,X+Math.PI)}const Y=(_-S/d+(y+v/d))/2;if(s.arc(o,a,d,_-S/d,Y,!0),s.arc(o,a,d,Y,y+v/d,!0),v>0){const H=ms(P,K,o,a);s.arc(H.x,H.y,v,K+Math.PI,y-ht)}const _t=ms(M,y,o,a);if(s.lineTo(_t.x,_t.y),w>0){const H=ms(M,D,o,a);s.arc(H.x,H.y,w,y-ht,D)}}else{s.moveTo(o,a);const N=Math.cos(D)*u+o,z=Math.sin(D)*u+a;s.lineTo(N,z);const Y=Math.cos(A)*u+o,_t=Math.sin(A)*u+a;s.lineTo(Y,_t)}s.closePath()}function Ym(s,t,e,i,n){const{fullCircles:r,startAngle:o,circumference:a}=t;let l=t.endAngle;if(r){$n(s,t,e,i,l,n);for(let c=0;c<r;++c)s.fill();isNaN(a)||(l=o+(a%et||et))}return $n(s,t,e,i,l,n),s.fill(),l}function Gm(s,t,e,i,n){const{fullCircles:r,startAngle:o,circumference:a,options:l}=t,{borderWidth:c,borderJoinStyle:h,borderDash:u,borderDashOffset:d}=l,f=l.borderAlign==="inner";if(!c)return;s.setLineDash(u||[]),s.lineDashOffset=d,f?(s.lineWidth=c*2,s.lineJoin=h||"round"):(s.lineWidth=c,s.lineJoin=h||"bevel");let g=t.endAngle;if(r){$n(s,t,e,i,g,n);for(let m=0;m<r;++m)s.stroke();isNaN(a)||(g=o+(a%et||et))}f&&Hm(s,t,g),r||($n(s,t,e,i,g,n),s.stroke())}class oi extends Kt{constructor(e){super();E(this,"circumference");E(this,"endAngle");E(this,"fullCircles");E(this,"innerRadius");E(this,"outerRadius");E(this,"pixelMargin");E(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,i,n){const r=this.getProps(["x","y"],n),{angle:o,distance:a}=Jc(r,{x:e,y:i}),{startAngle:l,endAngle:c,innerRadius:h,outerRadius:u,circumference:d}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),f=(this.options.spacing+this.options.borderWidth)/2,m=$(d,c-l)>=et||Si(o,l,c),p=pe(a,h+f,u+f);return m&&p}getCenterPoint(e){const{x:i,y:n,startAngle:r,endAngle:o,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:c,spacing:h}=this.options,u=(r+o)/2,d=(a+l+h+c)/2;return{x:i+Math.cos(u)*d,y:n+Math.sin(u)*d}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:i,circumference:n}=this,r=(i.offset||0)/4,o=(i.spacing||0)/2,a=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=n>et?Math.floor(n/et):0,n===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const l=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(l)*r,Math.sin(l)*r);const c=1-Math.sin(Math.min(st,n||0)),h=r*c;e.fillStyle=i.backgroundColor,e.strokeStyle=i.borderColor,Ym(e,this,h,o,a),Gm(e,this,h,o,a),e.restore()}}E(oi,"id","arc"),E(oi,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),E(oi,"defaultRoutes",{backgroundColor:"backgroundColor"}),E(oi,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"});function Ch(s,t,e=t){s.lineCap=$(e.borderCapStyle,t.borderCapStyle),s.setLineDash($(e.borderDash,t.borderDash)),s.lineDashOffset=$(e.borderDashOffset,t.borderDashOffset),s.lineJoin=$(e.borderJoinStyle,t.borderJoinStyle),s.lineWidth=$(e.borderWidth,t.borderWidth),s.strokeStyle=$(e.borderColor,t.borderColor)}function Zm(s,t,e){s.lineTo(e.x,e.y)}function Jm(s){return s.stepped?bf:s.tension||s.cubicInterpolationMode==="monotone"?vf:Zm}function Dh(s,t,e={}){const i=s.length,{start:n=0,end:r=i-1}=e,{start:o,end:a}=t,l=Math.max(n,o),c=Math.min(r,a),h=n<o&&r<o||n>a&&r>a;return{count:i,start:l,loop:t.loop,ilen:c<l&&!h?i+c-l:c-l}}function Km(s,t,e,i){const{points:n,options:r}=t,{count:o,start:a,loop:l,ilen:c}=Dh(n,e,i),h=Jm(r);let{move:u=!0,reverse:d}=i||{},f,g,m;for(f=0;f<=c;++f)g=n[(a+(d?c-f:f))%o],!g.skip&&(u?(s.moveTo(g.x,g.y),u=!1):h(s,m,g,d,r.stepped),m=g);return l&&(g=n[(a+(d?c:0))%o],h(s,m,g,d,r.stepped)),!!l}function Xm(s,t,e,i){const n=t.points,{count:r,start:o,ilen:a}=Dh(n,e,i),{move:l=!0,reverse:c}=i||{};let h=0,u=0,d,f,g,m,p,y;const _=b=>(o+(c?a-b:b))%r,w=()=>{m!==p&&(s.lineTo(h,p),s.lineTo(h,m),s.lineTo(h,y))};for(l&&(f=n[_(0)],s.moveTo(f.x,f.y)),d=0;d<=a;++d){if(f=n[_(d)],f.skip)continue;const b=f.x,v=f.y,S=b|0;S===g?(v<m?m=v:v>p&&(p=v),h=(u*h+b)/++u):(w(),s.lineTo(b,v),g=S,u=0,m=p=v),y=v}w()}function Zr(s){const t=s.options,e=t.borderDash&&t.borderDash.length;return!s._decimated&&!s._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?Xm:Km}function Qm(s){return s.stepped?Xf:s.tension||s.cubicInterpolationMode==="monotone"?Qf:Je}function tp(s,t,e,i){let n=t._path;n||(n=t._path=new Path2D,t.path(n,e,i)&&n.closePath()),Ch(s,t.options),s.stroke(n)}function ep(s,t,e,i){const{segments:n,options:r}=t,o=Zr(t);for(const a of n)Ch(s,r,a.style),s.beginPath(),o(s,t,a,{start:e,end:e+i-1})&&s.closePath(),s.stroke()}const sp=typeof Path2D=="function";function ip(s,t,e,i){sp&&!t.options.segment?tp(s,t,e,i):ep(s,t,e,i)}class Ae extends Kt{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const n=i.spanGaps?this._loop:this._fullLoop;Hf(this._points,i,t,n,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=rg(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,i=t.length;return i&&e[t[i-1].end]}interpolate(t,e){const i=this.options,n=t[e],r=this.points,o=ph(this,{property:e,start:n,end:n});if(!o.length)return;const a=[],l=Qm(i);let c,h;for(c=0,h=o.length;c<h;++c){const{start:u,end:d}=o[c],f=r[u],g=r[d];if(f===g){a.push(f);continue}const m=Math.abs((n-f[e])/(g[e]-f[e])),p=l(f,g,m,i.stepped);p[e]=t[e],a.push(p)}return a.length===1?a[0]:a}pathSegment(t,e,i){return Zr(this)(t,this,e,i)}path(t,e,i){const n=this.segments,r=Zr(this);let o=this._loop;e=e||0,i=i||this.points.length-e;for(const a of n)o&=r(t,this,a,{start:e,end:e+i-1});return!!o}draw(t,e,i,n){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(t.save(),ip(t,this,i,n),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}E(Ae,"id","line"),E(Ae,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),E(Ae,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),E(Ae,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function rl(s,t,e,i){const n=s.options,{[e]:r}=s.getProps([e],i);return Math.abs(t-r)<n.radius+n.hitRadius}class kn extends Kt{constructor(e){super();E(this,"parsed");E(this,"skip");E(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,i,n){const r=this.options,{x:o,y:a}=this.getProps(["x","y"],n);return Math.pow(e-o,2)+Math.pow(i-a,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(e,i){return rl(this,e,"x",i)}inYRange(e,i){return rl(this,e,"y",i)}getCenterPoint(e){const{x:i,y:n}=this.getProps(["x","y"],e);return{x:i,y:n}}size(e){e=e||this.options||{};let i=e.radius||0;i=Math.max(i,i&&e.hoverRadius||0);const n=i&&e.borderWidth||0;return(i+n)*2}draw(e,i){const n=this.options;this.skip||n.radius<.1||!_e(this,i,this.size(n)/2)||(e.strokeStyle=n.borderColor,e.lineWidth=n.borderWidth,e.fillStyle=n.backgroundColor,Ur(e,n,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}E(kn,"id","point"),E(kn,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),E(kn,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function Ah(s,t){const{x:e,y:i,base:n,width:r,height:o}=s.getProps(["x","y","base","width","height"],t);let a,l,c,h,u;return s.horizontal?(u=o/2,a=Math.min(e,n),l=Math.max(e,n),c=i-u,h=i+u):(u=r/2,a=e-u,l=e+u,c=Math.min(i,n),h=Math.max(i,n)),{left:a,top:c,right:l,bottom:h}}function Pe(s,t,e,i){return s?0:yt(t,e,i)}function np(s,t,e){const i=s.options.borderWidth,n=s.borderSkipped,r=rh(i);return{t:Pe(n.top,r.top,0,e),r:Pe(n.right,r.right,0,t),b:Pe(n.bottom,r.bottom,0,e),l:Pe(n.left,r.left,0,t)}}function rp(s,t,e){const{enableBorderRadius:i}=s.getProps(["enableBorderRadius"]),n=s.options.borderRadius,r=ss(n),o=Math.min(t,e),a=s.borderSkipped,l=i||B(n);return{topLeft:Pe(!l||a.top||a.left,r.topLeft,0,o),topRight:Pe(!l||a.top||a.right,r.topRight,0,o),bottomLeft:Pe(!l||a.bottom||a.left,r.bottomLeft,0,o),bottomRight:Pe(!l||a.bottom||a.right,r.bottomRight,0,o)}}function op(s){const t=Ah(s),e=t.right-t.left,i=t.bottom-t.top,n=np(s,e/2,i/2),r=rp(s,e/2,i/2);return{outer:{x:t.left,y:t.top,w:e,h:i,radius:r},inner:{x:t.left+n.l,y:t.top+n.t,w:e-n.l-n.r,h:i-n.t-n.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(n.t,n.l)),topRight:Math.max(0,r.topRight-Math.max(n.t,n.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(n.b,n.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(n.b,n.r))}}}}function wr(s,t,e,i){const n=t===null,r=e===null,a=s&&!(n&&r)&&Ah(s,i);return a&&(n||pe(t,a.left,a.right))&&(r||pe(e,a.top,a.bottom))}function ap(s){return s.topLeft||s.topRight||s.bottomLeft||s.bottomRight}function lp(s,t){s.rect(t.x,t.y,t.w,t.h)}function xr(s,t,e={}){const i=s.x!==e.x?-t:0,n=s.y!==e.y?-t:0,r=(s.x+s.w!==e.x+e.w?t:0)-i,o=(s.y+s.h!==e.y+e.h?t:0)-n;return{x:s.x+i,y:s.y+n,w:s.w+r,h:s.h+o,radius:s.radius}}class Sn extends Kt{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:i,backgroundColor:n}}=this,{inner:r,outer:o}=op(this),a=ap(o.radius)?Oi:lp;t.save(),(o.w!==r.w||o.h!==r.h)&&(t.beginPath(),a(t,xr(o,e,r)),t.clip(),a(t,xr(r,-e,o)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),a(t,xr(r,e)),t.fillStyle=n,t.fill(),t.restore()}inRange(t,e,i){return wr(this,t,e,i)}inXRange(t,e){return wr(this,t,null,e)}inYRange(t,e){return wr(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:n,horizontal:r}=this.getProps(["x","y","base","horizontal"],t);return{x:r?(e+n)/2:e,y:r?i:(i+n)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}E(Sn,"id","bar"),E(Sn,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),E(Sn,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var cp=Object.freeze({__proto__:null,ArcElement:oi,BarElement:Sn,LineElement:Ae,PointElement:kn});const Jr=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],ol=Jr.map(s=>s.replace("rgb(","rgba(").replace(")",", 0.5)"));function Ph(s){return Jr[s%Jr.length]}function Ih(s){return ol[s%ol.length]}function hp(s,t){return s.borderColor=Ph(t),s.backgroundColor=Ih(t),++t}function up(s,t){return s.backgroundColor=s.data.map(()=>Ph(t++)),t}function dp(s,t){return s.backgroundColor=s.data.map(()=>Ih(t++)),t}function fp(s){let t=0;return(e,i)=>{const n=s.getDatasetMeta(i).controller;n instanceof ts?t=up(e,t):n instanceof mi?t=dp(e,t):n&&(t=hp(e,t))}}function al(s){let t;for(t in s)if(s[t].borderColor||s[t].backgroundColor)return!0;return!1}function gp(s){return s&&(s.borderColor||s.backgroundColor)}var mp={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(s,t,e){if(!e.enabled)return;const{data:{datasets:i},options:n}=s.config,{elements:r}=n;if(!e.forceOverride&&(al(i)||gp(n)||r&&al(r)))return;const o=fp(s);i.forEach(o)}};function pp(s,t,e,i,n){const r=n.samples||i;if(r>=e)return s.slice(t,t+e);const o=[],a=(e-2)/(r-2);let l=0;const c=t+e-1;let h=t,u,d,f,g,m;for(o[l++]=s[h],u=0;u<r-2;u++){let p=0,y=0,_;const w=Math.floor((u+1)*a)+1+t,b=Math.min(Math.floor((u+2)*a)+1,e)+t,v=b-w;for(_=w;_<b;_++)p+=s[_].x,y+=s[_].y;p/=v,y/=v;const S=Math.floor(u*a)+1+t,M=Math.min(Math.floor((u+1)*a)+1,e)+t,{x:O,y:D}=s[h];for(f=g=-1,_=S;_<M;_++)g=.5*Math.abs((O-p)*(s[_].y-D)-(O-s[_].x)*(y-D)),g>f&&(f=g,d=s[_],m=_);o[l++]=d,h=m}return o[l++]=s[c],o}function yp(s,t,e,i){let n=0,r=0,o,a,l,c,h,u,d,f,g,m;const p=[],y=t+e-1,_=s[t].x,b=s[y].x-_;for(o=t;o<t+e;++o){a=s[o],l=(a.x-_)/b*i,c=a.y;const v=l|0;if(v===h)c<g?(g=c,u=o):c>m&&(m=c,d=o),n=(r*n+a.x)/++r;else{const S=o-1;if(!q(u)&&!q(d)){const M=Math.min(u,d),O=Math.max(u,d);M!==f&&M!==S&&p.push({...s[M],x:n}),O!==f&&O!==S&&p.push({...s[O],x:n})}o>0&&S!==f&&p.push(s[S]),p.push(a),h=v,r=0,g=m=c,u=d=f=o}}return p}function Lh(s){if(s._decimated){const t=s._data;delete s._decimated,delete s._data,Object.defineProperty(s,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function ll(s){s.data.datasets.forEach(t=>{Lh(t)})}function _p(s,t){const e=t.length;let i=0,n;const{iScale:r}=s,{min:o,max:a,minDefined:l,maxDefined:c}=r.getUserBounds();return l&&(i=yt(ye(t,r.axis,o).lo,0,e-1)),c?n=yt(ye(t,r.axis,a).hi+1,i,e)-i:n=e-i,{start:i,count:n}}var bp={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(s,t,e)=>{if(!e.enabled){ll(s);return}const i=s.width;s.data.datasets.forEach((n,r)=>{const{_data:o,indexAxis:a}=n,l=s.getDatasetMeta(r),c=o||n.data;if(ni([a,s.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;const h=s.scales[l.xAxisID];if(h.type!=="linear"&&h.type!=="time"||s.options.parsing)return;let{start:u,count:d}=_p(l,c);const f=e.threshold||4*i;if(d<=f){Lh(n);return}q(o)&&(n._data=c,delete n.data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(m){this._data=m}}));let g;switch(e.algorithm){case"lttb":g=pp(c,u,d,i,e);break;case"min-max":g=yp(c,u,d,i);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}n._decimated=g})},destroy(s){ll(s)}};function vp(s,t,e){const i=s.segments,n=s.points,r=t.points,o=[];for(const a of i){let{start:l,end:c}=a;c=Fo(l,c,n);const h=Kr(e,n[l],n[c],a.loop);if(!t.segments){o.push({source:a,target:h,start:n[l],end:n[c]});continue}const u=ph(t,h);for(const d of u){const f=Kr(e,r[d.start],r[d.end],d.loop),g=mh(a,n,f);for(const m of g)o.push({source:m,target:d,start:{[e]:cl(h,f,"start",Math.max)},end:{[e]:cl(h,f,"end",Math.min)}})}}return o}function Kr(s,t,e,i){if(i)return;let n=t[s],r=e[s];return s==="angle"&&(n=It(n),r=It(r)),{property:s,start:n,end:r}}function wp(s,t){const{x:e=null,y:i=null}=s||{},n=t.points,r=[];return t.segments.forEach(({start:o,end:a})=>{a=Fo(o,a,n);const l=n[o],c=n[a];i!==null?(r.push({x:l.x,y:i}),r.push({x:c.x,y:i})):e!==null&&(r.push({x:e,y:l.y}),r.push({x:e,y:c.y}))}),r}function Fo(s,t,e){for(;t>s;t--){const i=e[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function cl(s,t,e,i){return s&&t?i(s[e],t[e]):s?s[e]:t?t[e]:0}function Rh(s,t){let e=[],i=!1;return it(s)?(i=!0,e=s):e=wp(s,t),e.length?new Ae({points:e,options:{tension:0},_loop:i,_fullLoop:i}):null}function hl(s){return s&&s.fill!==!1}function xp(s,t,e){let n=s[t].fill;const r=[t];let o;if(!e)return n;for(;n!==!1&&r.indexOf(n)===-1;){if(!ot(n))return n;if(o=s[n],!o)return!1;if(o.visible)return n;r.push(n),n=o.fill}return!1}function kp(s,t,e){const i=Mp(s);if(B(i))return isNaN(i.value)?!1:i;let n=parseFloat(i);return ot(n)&&Math.floor(n)===n?Sp(i[0],t,n,e):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function Sp(s,t,e,i){return(s==="-"||s==="+")&&(e=t+e),e===t||e<0||e>=i?!1:e}function Op(s,t){let e=null;return s==="start"?e=t.bottom:s==="end"?e=t.top:B(s)?e=t.getPixelForValue(s.value):t.getBasePixel&&(e=t.getBasePixel()),e}function Tp(s,t,e){let i;return s==="start"?i=e:s==="end"?i=t.options.reverse?t.min:t.max:B(s)?i=s.value:i=t.getBaseValue(),i}function Mp(s){const t=s.options,e=t.fill;let i=$(e&&e.target,e);return i===void 0&&(i=!!t.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function Ep(s){const{scale:t,index:e,line:i}=s,n=[],r=i.segments,o=i.points,a=Cp(t,e);a.push(Rh({x:null,y:t.bottom},i));for(let l=0;l<r.length;l++){const c=r[l];for(let h=c.start;h<=c.end;h++)Dp(n,o[h],a)}return new Ae({points:n,options:{}})}function Cp(s,t){const e=[],i=s.getMatchingVisibleMetas("line");for(let n=0;n<i.length;n++){const r=i[n];if(r.index===t)break;r.hidden||e.unshift(r.dataset)}return e}function Dp(s,t,e){const i=[];for(let n=0;n<e.length;n++){const r=e[n],{first:o,last:a,point:l}=Ap(r,t,"x");if(!(!l||o&&a)){if(o)i.unshift(l);else if(s.push(l),!a)break}}s.push(...i)}function Ap(s,t,e){const i=s.interpolate(t,e);if(!i)return{};const n=i[e],r=s.segments,o=s.points;let a=!1,l=!1;for(let c=0;c<r.length;c++){const h=r[c],u=o[h.start][e],d=o[h.end][e];if(pe(n,u,d)){a=n===u,l=n===d;break}}return{first:a,last:l,point:i}}class $h{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,i){const{x:n,y:r,radius:o}=this;return e=e||{start:0,end:et},t.arc(n,r,o,e.end,e.start,!0),!i.bounds}interpolate(t){const{x:e,y:i,radius:n}=this,r=t.angle;return{x:e+Math.cos(r)*n,y:i+Math.sin(r)*n,angle:r}}}function Pp(s){const{chart:t,fill:e,line:i}=s;if(ot(e))return Ip(t,e);if(e==="stack")return Ep(s);if(e==="shape")return!0;const n=Lp(s);return n instanceof $h?n:Rh(n,i)}function Ip(s,t){const e=s.getDatasetMeta(t);return e&&s.isDatasetVisible(t)?e.dataset:null}function Lp(s){return(s.scale||{}).getPointPositionForValue?$p(s):Rp(s)}function Rp(s){const{scale:t={},fill:e}=s,i=Op(e,t);if(ot(i)){const n=t.isHorizontal();return{x:n?i:null,y:n?null:i}}return null}function $p(s){const{scale:t,fill:e}=s,i=t.options,n=t.getLabels().length,r=i.reverse?t.max:t.min,o=Tp(e,t,r),a=[];if(i.grid.circular){const l=t.getPointPositionForValue(0,r);return new $h({x:l.x,y:l.y,radius:t.getDistanceFromCenterForValue(o)})}for(let l=0;l<n;++l)a.push(t.getPointPositionForValue(l,o));return a}function kr(s,t,e){const i=Pp(t),{line:n,scale:r,axis:o}=t,a=n.options,l=a.fill,c=a.backgroundColor,{above:h=c,below:u=c}=l||{};i&&n.points.length&&(Gn(s,e),Np(s,{line:n,target:i,above:h,below:u,area:e,scale:r,axis:o}),Zn(s))}function Np(s,t){const{line:e,target:i,above:n,below:r,area:o,scale:a}=t,l=e._loop?"angle":t.axis;s.save(),l==="x"&&r!==n&&(ul(s,i,o.top),dl(s,{line:e,target:i,color:n,scale:a,property:l}),s.restore(),s.save(),ul(s,i,o.bottom)),dl(s,{line:e,target:i,color:r,scale:a,property:l}),s.restore()}function ul(s,t,e){const{segments:i,points:n}=t;let r=!0,o=!1;s.beginPath();for(const a of i){const{start:l,end:c}=a,h=n[l],u=n[Fo(l,c,n)];r?(s.moveTo(h.x,h.y),r=!1):(s.lineTo(h.x,e),s.lineTo(h.x,h.y)),o=!!t.pathSegment(s,a,{move:o}),o?s.closePath():s.lineTo(u.x,e)}s.lineTo(t.first().x,e),s.closePath(),s.clip()}function dl(s,t){const{line:e,target:i,property:n,color:r,scale:o}=t,a=vp(e,i,n);for(const{source:l,target:c,start:h,end:u}of a){const{style:{backgroundColor:d=r}={}}=l,f=i!==!0;s.save(),s.fillStyle=d,Fp(s,o,f&&Kr(n,h,u)),s.beginPath();const g=!!e.pathSegment(s,l);let m;if(f){g?s.closePath():fl(s,i,u,n);const p=!!i.pathSegment(s,c,{move:g,reverse:!0});m=g&&p,m||fl(s,i,h,n)}s.closePath(),s.fill(m?"evenodd":"nonzero"),s.restore()}}function Fp(s,t,e){const{top:i,bottom:n}=t.chart.chartArea,{property:r,start:o,end:a}=e||{};r==="x"&&(s.beginPath(),s.rect(o,i,a-o,n-i),s.clip())}function fl(s,t,e,i){const n=t.interpolate(e,i);n&&s.lineTo(n.x,n.y)}var jp={id:"filler",afterDatasetsUpdate(s,t,e){const i=(s.data.datasets||[]).length,n=[];let r,o,a,l;for(o=0;o<i;++o)r=s.getDatasetMeta(o),a=r.dataset,l=null,a&&a.options&&a instanceof Ae&&(l={visible:s.isDatasetVisible(o),index:o,fill:kp(a,o,i),chart:s,axis:r.controller.options.indexAxis,scale:r.vScale,line:a}),r.$filler=l,n.push(l);for(o=0;o<i;++o)l=n[o],!(!l||l.fill===!1)&&(l.fill=xp(n,o,e.propagate))},beforeDraw(s,t,e){const i=e.drawTime==="beforeDraw",n=s.getSortedVisibleDatasetMetas(),r=s.chartArea;for(let o=n.length-1;o>=0;--o){const a=n[o].$filler;a&&(a.line.updateControlPoints(r,a.axis),i&&a.fill&&kr(s.ctx,a,r))}},beforeDatasetsDraw(s,t,e){if(e.drawTime!=="beforeDatasetsDraw")return;const i=s.getSortedVisibleDatasetMetas();for(let n=i.length-1;n>=0;--n){const r=i[n].$filler;hl(r)&&kr(s.ctx,r,s.chartArea)}},beforeDatasetDraw(s,t,e){const i=t.meta.$filler;!hl(i)||e.drawTime!=="beforeDatasetDraw"||kr(s.ctx,i,s.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const gl=(s,t)=>{let{boxHeight:e=t,boxWidth:i=t}=s;return s.usePointStyle&&(e=Math.min(e,t),i=s.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}},zp=(s,t)=>s!==null&&t!==null&&s.datasetIndex===t.datasetIndex&&s.index===t.index;class ml extends Kt{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=tt(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,n)=>t.sort(i,n,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,n=mt(i.font),r=n.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=gl(i,r);let c,h;e.font=n.string,this.isHorizontal()?(c=this.maxWidth,h=this._fitRows(o,r,a,l)+10):(h=this.maxHeight,c=this._fitCols(o,n,a,l)+10),this.width=Math.min(c,t.maxWidth||this.maxWidth),this.height=Math.min(h,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,n){const{ctx:r,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],h=n+a;let u=t;r.textAlign="left",r.textBaseline="middle";let d=-1,f=-h;return this.legendItems.forEach((g,m)=>{const p=i+e/2+r.measureText(g.text).width;(m===0||c[c.length-1]+p+2*a>o)&&(u+=h,c[c.length-(m>0?0:1)]=0,f+=h,d++),l[m]={left:0,top:f,row:d,width:p,height:n},c[c.length-1]+=p+a}),u}_fitCols(t,e,i,n){const{ctx:r,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],h=o-t;let u=a,d=0,f=0,g=0,m=0;return this.legendItems.forEach((p,y)=>{const{itemWidth:_,itemHeight:w}=Vp(i,e,r,p,n);y>0&&f+w+2*a>h&&(u+=d+a,c.push({width:d,height:f}),g+=d+a,m++,d=f=0),l[y]={left:g,top:f,col:m,width:_,height:w},d=Math.max(d,_),f+=w+a}),u+=d,c.push({width:d,height:f}),u}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:n},rtl:r}}=this,o=Ms(r,this.left,this.width);if(this.isHorizontal()){let a=0,l=bt(i,this.left+n,this.right-this.lineWidths[a]);for(const c of e)a!==c.row&&(a=c.row,l=bt(i,this.left+n,this.right-this.lineWidths[a])),c.top+=this.top+t+n,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+n}else{let a=0,l=bt(i,this.top+t+n,this.bottom-this.columnSizes[a].height);for(const c of e)c.col!==a&&(a=c.col,l=bt(i,this.top+t+n,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+n,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+n}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Gn(t,this),this._draw(),Zn(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:n}=this,{align:r,labels:o}=t,a=at.color,l=Ms(t.rtl,this.left,this.width),c=mt(o.font),{padding:h}=o,u=c.size,d=u/2;let f;this.drawTitle(),n.textAlign=l.textAlign("left"),n.textBaseline="middle",n.lineWidth=.5,n.font=c.string;const{boxWidth:g,boxHeight:m,itemHeight:p}=gl(o,u),y=function(S,M,O){if(isNaN(g)||g<=0||isNaN(m)||m<0)return;n.save();const D=$(O.lineWidth,1);if(n.fillStyle=$(O.fillStyle,a),n.lineCap=$(O.lineCap,"butt"),n.lineDashOffset=$(O.lineDashOffset,0),n.lineJoin=$(O.lineJoin,"miter"),n.lineWidth=D,n.strokeStyle=$(O.strokeStyle,a),n.setLineDash($(O.lineDash,[])),o.usePointStyle){const A={radius:m*Math.SQRT2/2,pointStyle:O.pointStyle,rotation:O.rotation,borderWidth:D},P=l.xPlus(S,g/2),j=M+d;nh(n,A,P,j,o.pointStyleWidth&&g)}else{const A=M+Math.max((u-m)/2,0),P=l.leftForLtr(S,g),j=ss(O.borderRadius);n.beginPath(),Object.values(j).some(K=>K!==0)?Oi(n,{x:P,y:A,w:g,h:m,radius:j}):n.rect(P,A,g,m),n.fill(),D!==0&&n.stroke()}n.restore()},_=function(S,M,O){ls(n,O.text,S,M+p/2,c,{strikethrough:O.hidden,textAlign:l.textAlign(O.textAlign)})},w=this.isHorizontal(),b=this._computeTitleHeight();w?f={x:bt(r,this.left+h,this.right-i[0]),y:this.top+h+b,line:0}:f={x:this.left+h,y:bt(r,this.top+b+h,this.bottom-e[0].height),line:0},dh(this.ctx,t.textDirection);const v=p+h;this.legendItems.forEach((S,M)=>{n.strokeStyle=S.fontColor,n.fillStyle=S.fontColor;const O=n.measureText(S.text).width,D=l.textAlign(S.textAlign||(S.textAlign=o.textAlign)),A=g+d+O;let P=f.x,j=f.y;l.setWidth(this.width),w?M>0&&P+A+h>this.right&&(j=f.y+=v,f.line++,P=f.x=bt(r,this.left+h,this.right-i[f.line])):M>0&&j+v>this.bottom&&(P=f.x=P+e[f.line].width+h,f.line++,j=f.y=bt(r,this.top+b+h,this.bottom-e[f.line].height));const K=l.x(P);if(y(K,j,S),P=lf(D,P+g+d,w?P+A:this.right,t.rtl),_(l.x(P),j,S),w)f.x+=A+h;else if(typeof S.text!="string"){const X=c.lineHeight;f.y+=Nh(S,X)+h}else f.y+=v}),fh(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=mt(e.font),n=Ot(e.padding);if(!e.display)return;const r=Ms(t.rtl,this.left,this.width),o=this.ctx,a=e.position,l=i.size/2,c=n.top+l;let h,u=this.left,d=this.width;if(this.isHorizontal())d=Math.max(...this.lineWidths),h=this.top+c,u=bt(t.align,u,this.right-d);else{const g=this.columnSizes.reduce((m,p)=>Math.max(m,p.height),0);h=c+bt(t.align,this.top,this.bottom-g-t.labels.padding-this._computeTitleHeight())}const f=bt(a,u,u+d);o.textAlign=r.textAlign(Co(a)),o.textBaseline="middle",o.strokeStyle=e.color,o.fillStyle=e.color,o.font=i.string,ls(o,e.text,f,h,i)}_computeTitleHeight(){const t=this.options.title,e=mt(t.font),i=Ot(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,n,r;if(pe(t,this.left,this.right)&&pe(e,this.top,this.bottom)){for(r=this.legendHitBoxes,i=0;i<r.length;++i)if(n=r[i],pe(t,n.left,n.left+n.width)&&pe(e,n.top,n.top+n.height))return this.legendItems[i]}return null}handleEvent(t){const e=this.options;if(!Hp(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const n=this._hoveredItem,r=zp(n,i);n&&!r&&tt(e.onLeave,[t,n,this],this),this._hoveredItem=i,i&&!r&&tt(e.onHover,[t,i,this],this)}else i&&tt(e.onClick,[t,i,this],this)}}function Vp(s,t,e,i,n){const r=Wp(i,s,t,e),o=Bp(n,i,t.lineHeight);return{itemWidth:r,itemHeight:o}}function Wp(s,t,e,i){let n=s.text;return n&&typeof n!="string"&&(n=n.reduce((r,o)=>r.length>o.length?r:o)),t+e.size/2+i.measureText(n).width}function Bp(s,t,e){let i=s;return typeof t.text!="string"&&(i=Nh(t,e)),i}function Nh(s,t){const e=s.text?s.text.length:0;return t*e}function Hp(s,t){return!!((s==="mousemove"||s==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(s==="click"||s==="mouseup"))}var Up={id:"legend",_element:ml,start(s,t,e){const i=s.legend=new ml({ctx:s.ctx,options:e,chart:s});St.configure(s,i,e),St.addBox(s,i)},stop(s){St.removeBox(s,s.legend),delete s.legend},beforeUpdate(s,t,e){const i=s.legend;St.configure(s,i,e),i.options=e},afterUpdate(s){const t=s.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(s,t){t.replay||s.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(s,t,e){const i=t.datasetIndex,n=e.chart;n.isDatasetVisible(i)?(n.hide(i),t.hidden=!0):(n.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:s=>s.chart.options.color,boxWidth:40,padding:10,generateLabels(s){const t=s.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:n,color:r,useBorderRadius:o,borderRadius:a}}=s.legend.options;return s._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(e?0:void 0),h=Ot(c.borderWidth);return{text:t[l.index].label,fillStyle:c.backgroundColor,fontColor:r,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(h.width+h.height)/4,strokeStyle:c.borderColor,pointStyle:i||c.pointStyle,rotation:c.rotation,textAlign:n||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:s=>s.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:s=>!s.startsWith("on"),labels:{_scriptable:s=>!["generateLabels","filter","sort"].includes(s)}}};class jo extends Kt{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;const n=it(i.text)?i.text.length:1;this._padding=Ot(i.padding);const r=n*mt(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:e,left:i,bottom:n,right:r,options:o}=this,a=o.align;let l=0,c,h,u;return this.isHorizontal()?(h=bt(a,i,r),u=e+t,c=r-i):(o.position==="left"?(h=i+t,u=bt(a,n,e),l=st*-.5):(h=r-t,u=bt(a,e,n),l=st*.5),c=n-e),{titleX:h,titleY:u,maxWidth:c,rotation:l}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const i=mt(e.font),r=i.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(r);ls(t,e.text,0,0,i,{color:e.color,maxWidth:l,rotation:c,textAlign:Co(e.align),textBaseline:"middle",translation:[o,a]})}}function qp(s,t){const e=new jo({ctx:s.ctx,options:t,chart:s});St.configure(s,e,t),St.addBox(s,e),s.titleBlock=e}var Yp={id:"title",_element:jo,start(s,t,e){qp(s,e)},stop(s){const t=s.titleBlock;St.removeBox(s,t),delete s.titleBlock},beforeUpdate(s,t,e){const i=s.titleBlock;St.configure(s,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const en=new WeakMap;var Gp={id:"subtitle",start(s,t,e){const i=new jo({ctx:s.ctx,options:e,chart:s});St.configure(s,i,e),St.addBox(s,i),en.set(s,i)},stop(s){St.removeBox(s,en.get(s)),en.delete(s)},beforeUpdate(s,t,e){const i=en.get(s);St.configure(s,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const ai={average(s){if(!s.length)return!1;let t,e,i=new Set,n=0,r=0;for(t=0,e=s.length;t<e;++t){const a=s[t].element;if(a&&a.hasValue()){const l=a.tooltipPosition();i.add(l.x),n+=l.y,++r}}return{x:[...i].reduce((a,l)=>a+l)/i.size,y:n/r}},nearest(s,t){if(!s.length)return!1;let e=t.x,i=t.y,n=Number.POSITIVE_INFINITY,r,o,a;for(r=0,o=s.length;r<o;++r){const l=s[r].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),h=Br(t,c);h<n&&(n=h,a=l)}}if(a){const l=a.tooltipPosition();e=l.x,i=l.y}return{x:e,y:i}}};function ie(s,t){return t&&(it(t)?Array.prototype.push.apply(s,t):s.push(t)),s}function de(s){return(typeof s=="string"||s instanceof String)&&s.indexOf(`
`)>-1?s.split(`
`):s}function Zp(s,t){const{element:e,datasetIndex:i,index:n}=t,r=s.getDatasetMeta(i).controller,{label:o,value:a}=r.getLabelAndValue(n);return{chart:s,label:o,parsed:r.getParsed(n),raw:s.data.datasets[i].data[n],formattedValue:a,dataset:r.getDataset(),dataIndex:n,datasetIndex:i,element:e}}function pl(s,t){const e=s.chart.ctx,{body:i,footer:n,title:r}=s,{boxWidth:o,boxHeight:a}=t,l=mt(t.bodyFont),c=mt(t.titleFont),h=mt(t.footerFont),u=r.length,d=n.length,f=i.length,g=Ot(t.padding);let m=g.height,p=0,y=i.reduce((b,v)=>b+v.before.length+v.lines.length+v.after.length,0);if(y+=s.beforeBody.length+s.afterBody.length,u&&(m+=u*c.lineHeight+(u-1)*t.titleSpacing+t.titleMarginBottom),y){const b=t.displayColors?Math.max(a,l.lineHeight):l.lineHeight;m+=f*b+(y-f)*l.lineHeight+(y-1)*t.bodySpacing}d&&(m+=t.footerMarginTop+d*h.lineHeight+(d-1)*t.footerSpacing);let _=0;const w=function(b){p=Math.max(p,e.measureText(b).width+_)};return e.save(),e.font=c.string,Z(s.title,w),e.font=l.string,Z(s.beforeBody.concat(s.afterBody),w),_=t.displayColors?o+2+t.boxPadding:0,Z(i,b=>{Z(b.before,w),Z(b.lines,w),Z(b.after,w)}),_=0,e.font=h.string,Z(s.footer,w),e.restore(),p+=g.width,{width:p,height:m}}function Jp(s,t){const{y:e,height:i}=t;return e<i/2?"top":e>s.height-i/2?"bottom":"center"}function Kp(s,t,e,i){const{x:n,width:r}=i,o=e.caretSize+e.caretPadding;if(s==="left"&&n+r+o>t.width||s==="right"&&n-r-o<0)return!0}function Xp(s,t,e,i){const{x:n,width:r}=e,{width:o,chartArea:{left:a,right:l}}=s;let c="center";return i==="center"?c=n<=(a+l)/2?"left":"right":n<=r/2?c="left":n>=o-r/2&&(c="right"),Kp(c,s,t,e)&&(c="center"),c}function yl(s,t,e){const i=e.yAlign||t.yAlign||Jp(s,e);return{xAlign:e.xAlign||t.xAlign||Xp(s,t,e,i),yAlign:i}}function Qp(s,t){let{x:e,width:i}=s;return t==="right"?e-=i:t==="center"&&(e-=i/2),e}function ty(s,t,e){let{y:i,height:n}=s;return t==="top"?i+=e:t==="bottom"?i-=n+e:i-=n/2,i}function _l(s,t,e,i){const{caretSize:n,caretPadding:r,cornerRadius:o}=s,{xAlign:a,yAlign:l}=e,c=n+r,{topLeft:h,topRight:u,bottomLeft:d,bottomRight:f}=ss(o);let g=Qp(t,a);const m=ty(t,l,c);return l==="center"?a==="left"?g+=c:a==="right"&&(g-=c):a==="left"?g-=Math.max(h,d)+n:a==="right"&&(g+=Math.max(u,f)+n),{x:yt(g,0,i.width-t.width),y:yt(m,0,i.height-t.height)}}function sn(s,t,e){const i=Ot(e.padding);return t==="center"?s.x+s.width/2:t==="right"?s.x+s.width-i.right:s.x+i.left}function bl(s){return ie([],de(s))}function ey(s,t,e){return ze(s,{tooltip:t,tooltipItems:e,type:"tooltip"})}function vl(s,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?s.override(e):s}const Fh={beforeTitle:he,title(s){if(s.length>0){const t=s[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:he,beforeBody:he,beforeLabel:he,label(s){if(this&&this.options&&this.options.mode==="dataset")return s.label+": "+s.formattedValue||s.formattedValue;let t=s.dataset.label||"";t&&(t+=": ");const e=s.formattedValue;return q(e)||(t+=e),t},labelColor(s){const e=s.chart.getDatasetMeta(s.datasetIndex).controller.getStyle(s.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(s){const e=s.chart.getDatasetMeta(s.datasetIndex).controller.getStyle(s.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:he,afterBody:he,beforeFooter:he,footer:he,afterFooter:he};function Mt(s,t,e,i){const n=s[t].call(e,i);return typeof n>"u"?Fh[t].call(e,i):n}class Xr extends Kt{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),n=i.enabled&&e.options.animation&&i.animations,r=new yh(this.chart,n);return n._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=ey(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:i}=e,n=Mt(i,"beforeTitle",this,t),r=Mt(i,"title",this,t),o=Mt(i,"afterTitle",this,t);let a=[];return a=ie(a,de(n)),a=ie(a,de(r)),a=ie(a,de(o)),a}getBeforeBody(t,e){return bl(Mt(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:i}=e,n=[];return Z(t,r=>{const o={before:[],lines:[],after:[]},a=vl(i,r);ie(o.before,de(Mt(a,"beforeLabel",this,r))),ie(o.lines,Mt(a,"label",this,r)),ie(o.after,de(Mt(a,"afterLabel",this,r))),n.push(o)}),n}getAfterBody(t,e){return bl(Mt(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:i}=e,n=Mt(i,"beforeFooter",this,t),r=Mt(i,"footer",this,t),o=Mt(i,"afterFooter",this,t);let a=[];return a=ie(a,de(n)),a=ie(a,de(r)),a=ie(a,de(o)),a}_createItems(t){const e=this._active,i=this.chart.data,n=[],r=[],o=[];let a=[],l,c;for(l=0,c=e.length;l<c;++l)a.push(Zp(this.chart,e[l]));return t.filter&&(a=a.filter((h,u,d)=>t.filter(h,u,d,i))),t.itemSort&&(a=a.sort((h,u)=>t.itemSort(h,u,i))),Z(a,h=>{const u=vl(t.callbacks,h);n.push(Mt(u,"labelColor",this,h)),r.push(Mt(u,"labelPointStyle",this,h)),o.push(Mt(u,"labelTextColor",this,h))}),this.labelColors=n,this.labelPointStyles=r,this.labelTextColors=o,this.dataPoints=a,a}update(t,e){const i=this.options.setContext(this.getContext()),n=this._active;let r,o=[];if(!n.length)this.opacity!==0&&(r={opacity:0});else{const a=ai[i.position].call(this,n,this._eventPosition);o=this._createItems(i),this.title=this.getTitle(o,i),this.beforeBody=this.getBeforeBody(o,i),this.body=this.getBody(o,i),this.afterBody=this.getAfterBody(o,i),this.footer=this.getFooter(o,i);const l=this._size=pl(this,i),c=Object.assign({},a,l),h=yl(this.chart,i,c),u=_l(i,c,h,this.chart);this.xAlign=h.xAlign,this.yAlign=h.yAlign,r={opacity:1,x:u.x,y:u.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,r&&this._resolveAnimations().update(this,r),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,n){const r=this.getCaretPosition(t,i,n);e.lineTo(r.x1,r.y1),e.lineTo(r.x2,r.y2),e.lineTo(r.x3,r.y3)}getCaretPosition(t,e,i){const{xAlign:n,yAlign:r}=this,{caretSize:o,cornerRadius:a}=i,{topLeft:l,topRight:c,bottomLeft:h,bottomRight:u}=ss(a),{x:d,y:f}=t,{width:g,height:m}=e;let p,y,_,w,b,v;return r==="center"?(b=f+m/2,n==="left"?(p=d,y=p-o,w=b+o,v=b-o):(p=d+g,y=p+o,w=b-o,v=b+o),_=p):(n==="left"?y=d+Math.max(l,h)+o:n==="right"?y=d+g-Math.max(c,u)-o:y=this.caretX,r==="top"?(w=f,b=w-o,p=y-o,_=y+o):(w=f+m,b=w+o,p=y+o,_=y-o),v=w),{x1:p,x2:y,x3:_,y1:w,y2:b,y3:v}}drawTitle(t,e,i){const n=this.title,r=n.length;let o,a,l;if(r){const c=Ms(i.rtl,this.x,this.width);for(t.x=sn(this,i.titleAlign,i),e.textAlign=c.textAlign(i.titleAlign),e.textBaseline="middle",o=mt(i.titleFont),a=i.titleSpacing,e.fillStyle=i.titleColor,e.font=o.string,l=0;l<r;++l)e.fillText(n[l],c.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+a,l+1===r&&(t.y+=i.titleMarginBottom-a)}}_drawColorBox(t,e,i,n,r){const o=this.labelColors[i],a=this.labelPointStyles[i],{boxHeight:l,boxWidth:c}=r,h=mt(r.bodyFont),u=sn(this,"left",r),d=n.x(u),f=l<h.lineHeight?(h.lineHeight-l)/2:0,g=e.y+f;if(r.usePointStyle){const m={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},p=n.leftForLtr(d,c)+c/2,y=g+l/2;t.strokeStyle=r.multiKeyBackground,t.fillStyle=r.multiKeyBackground,Ur(t,m,p,y),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,Ur(t,m,p,y)}else{t.lineWidth=B(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;const m=n.leftForLtr(d,c),p=n.leftForLtr(n.xPlus(d,1),c-2),y=ss(o.borderRadius);Object.values(y).some(_=>_!==0)?(t.beginPath(),t.fillStyle=r.multiKeyBackground,Oi(t,{x:m,y:g,w:c,h:l,radius:y}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),Oi(t,{x:p,y:g+1,w:c-2,h:l-2,radius:y}),t.fill()):(t.fillStyle=r.multiKeyBackground,t.fillRect(m,g,c,l),t.strokeRect(m,g,c,l),t.fillStyle=o.backgroundColor,t.fillRect(p,g+1,c-2,l-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:n}=this,{bodySpacing:r,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:h}=i,u=mt(i.bodyFont);let d=u.lineHeight,f=0;const g=Ms(i.rtl,this.x,this.width),m=function(O){e.fillText(O,g.x(t.x+f),t.y+d/2),t.y+=d+r},p=g.textAlign(o);let y,_,w,b,v,S,M;for(e.textAlign=o,e.textBaseline="middle",e.font=u.string,t.x=sn(this,p,i),e.fillStyle=i.bodyColor,Z(this.beforeBody,m),f=a&&p!=="right"?o==="center"?c/2+h:c+2+h:0,b=0,S=n.length;b<S;++b){for(y=n[b],_=this.labelTextColors[b],e.fillStyle=_,Z(y.before,m),w=y.lines,a&&w.length&&(this._drawColorBox(e,t,b,g,i),d=Math.max(u.lineHeight,l)),v=0,M=w.length;v<M;++v)m(w[v]),d=u.lineHeight;Z(y.after,m)}f=0,d=u.lineHeight,Z(this.afterBody,m),t.y-=r}drawFooter(t,e,i){const n=this.footer,r=n.length;let o,a;if(r){const l=Ms(i.rtl,this.x,this.width);for(t.x=sn(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=l.textAlign(i.footerAlign),e.textBaseline="middle",o=mt(i.footerFont),e.fillStyle=i.footerColor,e.font=o.string,a=0;a<r;++a)e.fillText(n[a],l.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+i.footerSpacing}}drawBackground(t,e,i,n){const{xAlign:r,yAlign:o}=this,{x:a,y:l}=t,{width:c,height:h}=i,{topLeft:u,topRight:d,bottomLeft:f,bottomRight:g}=ss(n.cornerRadius);e.fillStyle=n.backgroundColor,e.strokeStyle=n.borderColor,e.lineWidth=n.borderWidth,e.beginPath(),e.moveTo(a+u,l),o==="top"&&this.drawCaret(t,e,i,n),e.lineTo(a+c-d,l),e.quadraticCurveTo(a+c,l,a+c,l+d),o==="center"&&r==="right"&&this.drawCaret(t,e,i,n),e.lineTo(a+c,l+h-g),e.quadraticCurveTo(a+c,l+h,a+c-g,l+h),o==="bottom"&&this.drawCaret(t,e,i,n),e.lineTo(a+f,l+h),e.quadraticCurveTo(a,l+h,a,l+h-f),o==="center"&&r==="left"&&this.drawCaret(t,e,i,n),e.lineTo(a,l+u),e.quadraticCurveTo(a,l,a+u,l),e.closePath(),e.fill(),n.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,i=this.$animations,n=i&&i.x,r=i&&i.y;if(n||r){const o=ai[t.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=pl(this,t),l=Object.assign({},o,this._size),c=yl(e,t,l),h=_l(t,l,c,e);(n._to!==h.x||r._to!==h.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,h))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const n={width:this.width,height:this.height},r={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const o=Ot(e.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&a&&(t.save(),t.globalAlpha=i,this.drawBackground(r,t,n,e),dh(t,e.textDirection),r.y+=o.top,this.drawTitle(r,t,e),this.drawBody(r,t,e),this.drawFooter(r,t,e),fh(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,n=t.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),r=!Dn(i,n),o=this._positionChanged(n,e);(r||o)&&(this._active=n,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const n=this.options,r=this._active||[],o=this._getActiveElements(t,r,e,i),a=this._positionChanged(o,t),l=e||!Dn(o,r)||a;return l&&(this._active=o,(n.enabled||n.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),l}_getActiveElements(t,e,i,n){const r=this.options;if(t.type==="mouseout")return[];if(!n)return e.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(t,r.mode,r,i);return r.reverse&&o.reverse(),o}_positionChanged(t,e){const{caretX:i,caretY:n,options:r}=this,o=ai[r.position].call(this,t,e);return o!==!1&&(i!==o.x||n!==o.y)}}E(Xr,"positioners",ai);var sy={id:"tooltip",_element:Xr,positioners:ai,afterInit(s,t,e){e&&(s.tooltip=new Xr({chart:s,options:e}))},beforeUpdate(s,t,e){s.tooltip&&s.tooltip.initialize(e)},reset(s,t,e){s.tooltip&&s.tooltip.initialize(e)},afterDraw(s){const t=s.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(s.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(s.ctx),s.notifyPlugins("afterTooltipDraw",e)}},afterEvent(s,t){if(s.tooltip){const e=t.replay;s.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(s,t)=>t.bodyFont.size,boxWidth:(s,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Fh},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:s=>s!=="filter"&&s!=="itemSort"&&s!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},iy=Object.freeze({__proto__:null,Colors:mp,Decimation:bp,Filler:jp,Legend:Up,SubTitle:Gp,Title:Yp,Tooltip:sy});const ny=(s,t,e,i)=>(typeof t=="string"?(e=s.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function ry(s,t,e,i){const n=s.indexOf(t);if(n===-1)return ny(s,t,e,i);const r=s.lastIndexOf(t);return n!==r?e:n}const oy=(s,t)=>s===null?null:yt(Math.round(s),0,t);function wl(s){const t=this.getLabels();return s>=0&&s<t.length?t[s]:s}class Qr extends cs{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const i=this.getLabels();for(const{index:n,label:r}of e)i[n]===r&&i.splice(n,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(q(t))return null;const i=this.getLabels();return e=isFinite(e)&&i[e]===t?e:ry(i,t,$(e,t),this._addedLabels),oy(e,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:n}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),e||(n=this.getLabels().length-1)),this.min=i,this.max=n}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,n=[];let r=this.getLabels();r=t===0&&e===r.length-1?r:r.slice(t,e+1),this._valueRange=Math.max(r.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let o=t;o<=e;o++)n.push({value:o});return n}getLabelForValue(t){return wl.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}E(Qr,"id","category"),E(Qr,"defaults",{ticks:{callback:wl}});function ay(s,t){const e=[],{bounds:n,step:r,min:o,max:a,precision:l,count:c,maxTicks:h,maxDigits:u,includeBounds:d}=s,f=r||1,g=h-1,{min:m,max:p}=t,y=!q(o),_=!q(a),w=!q(c),b=(p-m)/(u+1);let v=ma((p-m)/g/f)*f,S,M,O,D;if(v<1e-14&&!y&&!_)return[{value:m},{value:p}];D=Math.ceil(p/v)-Math.floor(m/v),D>g&&(v=ma(D*v/g/f)*f),q(l)||(S=Math.pow(10,l),v=Math.ceil(v*S)/S),n==="ticks"?(M=Math.floor(m/v)*v,O=Math.ceil(p/v)*v):(M=m,O=p),y&&_&&r&&tf((a-o)/r,v/1e3)?(D=Math.round(Math.min((a-o)/v,h)),v=(a-o)/D,M=o,O=a):w?(M=y?o:M,O=_?a:O,D=c-1,v=(O-M)/D):(D=(O-M)/v,di(D,Math.round(D),v/1e3)?D=Math.round(D):D=Math.ceil(D));const A=Math.max(pa(v),pa(M));S=Math.pow(10,q(l)?A:l),M=Math.round(M*S)/S,O=Math.round(O*S)/S;let P=0;for(y&&(d&&M!==o?(e.push({value:o}),M<o&&P++,di(Math.round((M+P*v)*S)/S,o,xl(o,b,s))&&P++):M<o&&P++);P<D;++P){const j=Math.round((M+P*v)*S)/S;if(_&&j>a)break;e.push({value:j})}return _&&d&&O!==a?e.length&&di(e[e.length-1].value,a,xl(a,b,s))?e[e.length-1].value=a:e.push({value:a}):(!_||O===a)&&e.push({value:O}),e}function xl(s,t,{horizontal:e,minRotation:i}){const n=Gt(i),r=(e?Math.sin(n):Math.cos(n))||.001,o=.75*t*(""+s).length;return Math.min(t/r,o)}class Nn extends cs{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return q(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:n,max:r}=this;const o=l=>n=e?n:l,a=l=>r=i?r:l;if(t){const l=ae(n),c=ae(r);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(n===r){let l=r===0?1:Math.abs(r*.05);a(r+l),t||o(n-l)}this.min=n,this.max=r}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:i}=t,n;return i?(n=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,n>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${n} ticks. Limiting to 1000.`),n=1e3)):(n=this.computeTickLimit(),e=e||11),e&&(n=Math.min(e,n)),n}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const n={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},r=this._range||this,o=ay(n,r);return t.bounds==="ticks"&&Zc(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const n=(i-e)/Math.max(t.length-1,1)/2;e-=n,i+=n}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return Ii(t,this.chart.options.locale,this.options.ticks.format)}}class to extends Nn{determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=ot(t)?t:0,this.max=ot(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=Gt(this.options.ticks.minRotation),n=(t?Math.sin(i):Math.cos(i))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,r.lineHeight/n))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}E(to,"id","linear"),E(to,"defaults",{ticks:{callback:Yn.formatters.numeric}});const Mi=s=>Math.floor(De(s)),He=(s,t)=>Math.pow(10,Mi(s)+t);function kl(s){return s/Math.pow(10,Mi(s))===1}function Sl(s,t,e){const i=Math.pow(10,e),n=Math.floor(s/i);return Math.ceil(t/i)-n}function ly(s,t){const e=t-s;let i=Mi(e);for(;Sl(s,t,i)>10;)i++;for(;Sl(s,t,i)<10;)i--;return Math.min(i,Mi(s))}function cy(s,{min:t,max:e}){t=Pt(s.min,t);const i=[],n=Mi(t);let r=ly(t,e),o=r<0?Math.pow(10,Math.abs(r)):1;const a=Math.pow(10,r),l=n>r?Math.pow(10,n):0,c=Math.round((t-l)*o)/o,h=Math.floor((t-l)/a/10)*a*10;let u=Math.floor((c-h)/Math.pow(10,r)),d=Pt(s.min,Math.round((l+h+u*Math.pow(10,r))*o)/o);for(;d<e;)i.push({value:d,major:kl(d),significand:u}),u>=10?u=u<15?15:20:u++,u>=20&&(r++,u=2,o=r>=0?1:o),d=Math.round((l+h+u*Math.pow(10,r))*o)/o;const f=Pt(s.max,d);return i.push({value:f,major:kl(f),significand:u}),i}class eo extends cs{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const i=Nn.prototype.parse.apply(this,[t,e]);if(i===0){this._zero=!0;return}return ot(i)&&i>0?i:null}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=ot(t)?Math.max(0,t):null,this.max=ot(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!ot(this._userMin)&&(this.min=t===He(this.min,0)?He(this.min,-1):He(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let i=this.min,n=this.max;const r=a=>i=t?i:a,o=a=>n=e?n:a;i===n&&(i<=0?(r(1),o(10)):(r(He(i,-1)),o(He(n,1)))),i<=0&&r(He(n,-1)),n<=0&&o(He(i,1)),this.min=i,this.max=n}buildTicks(){const t=this.options,e={min:this._userMin,max:this._userMax},i=cy(e,this);return t.bounds==="ticks"&&Zc(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(t){return t===void 0?"0":Ii(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=De(t),this._valueRange=De(this.max)-De(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(De(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}}E(eo,"id","logarithmic"),E(eo,"defaults",{ticks:{callback:Yn.formatters.logarithmic,major:{enabled:!0}}});function so(s){const t=s.ticks;if(t.display&&s.display){const e=Ot(t.backdropPadding);return $(t.font&&t.font.size,at.font.size)+e.height}return 0}function hy(s,t,e){return e=it(e)?e:[e],{w:_f(s,t.string,e),h:e.length*t.lineHeight}}function Ol(s,t,e,i,n){return s===i||s===n?{start:t-e/2,end:t+e/2}:s<i||s>n?{start:t-e,end:t}:{start:t,end:t+e}}function uy(s){const t={l:s.left+s._padding.left,r:s.right-s._padding.right,t:s.top+s._padding.top,b:s.bottom-s._padding.bottom},e=Object.assign({},t),i=[],n=[],r=s._pointLabels.length,o=s.options.pointLabels,a=o.centerPointLabels?st/r:0;for(let l=0;l<r;l++){const c=o.setContext(s.getPointLabelContext(l));n[l]=c.padding;const h=s.getPointPosition(l,s.drawingArea+n[l],a),u=mt(c.font),d=hy(s.ctx,u,s._pointLabels[l]);i[l]=d;const f=It(s.getIndexAngle(l)+a),g=Math.round(Mo(f)),m=Ol(g,h.x,d.w,0,180),p=Ol(g,h.y,d.h,90,270);dy(e,t,f,m,p)}s.setCenterPoint(t.l-e.l,e.r-t.r,t.t-e.t,e.b-t.b),s._pointLabelItems=my(s,i,n)}function dy(s,t,e,i,n){const r=Math.abs(Math.sin(e)),o=Math.abs(Math.cos(e));let a=0,l=0;i.start<t.l?(a=(t.l-i.start)/r,s.l=Math.min(s.l,t.l-a)):i.end>t.r&&(a=(i.end-t.r)/r,s.r=Math.max(s.r,t.r+a)),n.start<t.t?(l=(t.t-n.start)/o,s.t=Math.min(s.t,t.t-l)):n.end>t.b&&(l=(n.end-t.b)/o,s.b=Math.max(s.b,t.b+l))}function fy(s,t,e){const i=s.drawingArea,{extra:n,additionalAngle:r,padding:o,size:a}=e,l=s.getPointPosition(t,i+n+o,r),c=Math.round(Mo(It(l.angle+ht))),h=_y(l.y,a.h,c),u=py(c),d=yy(l.x,a.w,u);return{visible:!0,x:l.x,y:h,textAlign:u,left:d,top:h,right:d+a.w,bottom:h+a.h}}function gy(s,t){if(!t)return!0;const{left:e,top:i,right:n,bottom:r}=s;return!(_e({x:e,y:i},t)||_e({x:e,y:r},t)||_e({x:n,y:i},t)||_e({x:n,y:r},t))}function my(s,t,e){const i=[],n=s._pointLabels.length,r=s.options,{centerPointLabels:o,display:a}=r.pointLabels,l={extra:so(r)/2,additionalAngle:o?st/n:0};let c;for(let h=0;h<n;h++){l.padding=e[h],l.size=t[h];const u=fy(s,h,l);i.push(u),a==="auto"&&(u.visible=gy(u,c),u.visible&&(c=u))}return i}function py(s){return s===0||s===180?"center":s<180?"left":"right"}function yy(s,t,e){return e==="right"?s-=t:e==="center"&&(s-=t/2),s}function _y(s,t,e){return e===90||e===270?s-=t/2:(e>270||e<90)&&(s-=t),s}function by(s,t,e){const{left:i,top:n,right:r,bottom:o}=e,{backdropColor:a}=t;if(!q(a)){const l=ss(t.borderRadius),c=Ot(t.backdropPadding);s.fillStyle=a;const h=i-c.left,u=n-c.top,d=r-i+c.width,f=o-n+c.height;Object.values(l).some(g=>g!==0)?(s.beginPath(),Oi(s,{x:h,y:u,w:d,h:f,radius:l}),s.fill()):s.fillRect(h,u,d,f)}}function vy(s,t){const{ctx:e,options:{pointLabels:i}}=s;for(let n=t-1;n>=0;n--){const r=s._pointLabelItems[n];if(!r.visible)continue;const o=i.setContext(s.getPointLabelContext(n));by(e,o,r);const a=mt(o.font),{x:l,y:c,textAlign:h}=r;ls(e,s._pointLabels[n],l,c+a.lineHeight/2,a,{color:o.color,textAlign:h,textBaseline:"middle"})}}function jh(s,t,e,i){const{ctx:n}=s;if(e)n.arc(s.xCenter,s.yCenter,t,0,et);else{let r=s.getPointPosition(0,t);n.moveTo(r.x,r.y);for(let o=1;o<i;o++)r=s.getPointPosition(o,t),n.lineTo(r.x,r.y)}}function wy(s,t,e,i,n){const r=s.ctx,o=t.circular,{color:a,lineWidth:l}=t;!o&&!i||!a||!l||e<0||(r.save(),r.strokeStyle=a,r.lineWidth=l,r.setLineDash(n.dash),r.lineDashOffset=n.dashOffset,r.beginPath(),jh(s,e,o,i),r.closePath(),r.stroke(),r.restore())}function xy(s,t,e){return ze(s,{label:e,index:t,type:"pointLabel"})}class li extends Nn{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=Ot(so(this.options)/2),e=this.width=this.maxWidth-t.width,i=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+i/2+t.top),this.drawingArea=Math.floor(Math.min(e,i)/2)}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!1);this.min=ot(t)&&!isNaN(t)?t:0,this.max=ot(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/so(this.options))}generateTickLabels(t){Nn.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((e,i)=>{const n=tt(this.options.pointLabels.callback,[e,i],this);return n||n===0?n:""}).filter((e,i)=>this.chart.getDataVisibility(i))}fit(){const t=this.options;t.display&&t.pointLabels.display?uy(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,i,n){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((i-n)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,i,n))}getIndexAngle(t){const e=et/(this._pointLabels.length||1),i=this.options.startAngle||0;return It(t*e+Gt(i))}getDistanceFromCenterForValue(t){if(q(t))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(q(t))return NaN;const e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){const e=this._pointLabels||[];if(t>=0&&t<e.length){const i=e[t];return xy(this.getContext(),t,i)}}getPointPosition(t,e,i=0){const n=this.getIndexAngle(t)-ht+i;return{x:Math.cos(n)*e+this.xCenter,y:Math.sin(n)*e+this.yCenter,angle:n}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:i,right:n,bottom:r}=this._pointLabelItems[t];return{left:e,top:i,right:n,bottom:r}}drawBackground(){const{backgroundColor:t,grid:{circular:e}}=this.options;if(t){const i=this.ctx;i.save(),i.beginPath(),jh(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),i.closePath(),i.fillStyle=t,i.fill(),i.restore()}}drawGrid(){const t=this.ctx,e=this.options,{angleLines:i,grid:n,border:r}=e,o=this._pointLabels.length;let a,l,c;if(e.pointLabels.display&&vy(this,o),n.display&&this.ticks.forEach((h,u)=>{if(u!==0||u===0&&this.min<0){l=this.getDistanceFromCenterForValue(h.value);const d=this.getContext(u),f=n.setContext(d),g=r.setContext(d);wy(this,f,l,o,g)}}),i.display){for(t.save(),a=o-1;a>=0;a--){const h=i.setContext(this.getPointLabelContext(a)),{color:u,lineWidth:d}=h;!d||!u||(t.lineWidth=d,t.strokeStyle=u,t.setLineDash(h.borderDash),t.lineDashOffset=h.borderDashOffset,l=this.getDistanceFromCenterForValue(e.ticks.reverse?this.min:this.max),c=this.getPointPosition(a,l),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(c.x,c.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,e=this.options,i=e.ticks;if(!i.display)return;const n=this.getIndexAngle(0);let r,o;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(n),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&this.min>=0&&!e.reverse)return;const c=i.setContext(this.getContext(l)),h=mt(c.font);if(r=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){t.font=h.string,o=t.measureText(a.label).width,t.fillStyle=c.backdropColor;const u=Ot(c.backdropPadding);t.fillRect(-o/2-u.left,-r-h.size/2-u.top,o+u.width,h.size+u.height)}ls(t,a.label,0,-r,h,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),t.restore()}drawTitle(){}}E(li,"id","radialLinear"),E(li,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Yn.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}}),E(li,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),E(li,"descriptors",{angleLines:{_fallback:"grid"}});const Kn={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ct=Object.keys(Kn);function Tl(s,t){return s-t}function Ml(s,t){if(q(t))return null;const e=s._adapter,{parser:i,round:n,isoWeekday:r}=s._parseOpts;let o=t;return typeof i=="function"&&(o=i(o)),ot(o)||(o=typeof i=="string"?e.parse(o,i):e.parse(o)),o===null?null:(n&&(o=n==="week"&&(Ls(r)||r===!0)?e.startOf(o,"isoWeek",r):e.startOf(o,n)),+o)}function El(s,t,e,i){const n=Ct.length;for(let r=Ct.indexOf(s);r<n-1;++r){const o=Kn[Ct[r]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((e-t)/(a*o.size))<=i)return Ct[r]}return Ct[n-1]}function ky(s,t,e,i,n){for(let r=Ct.length-1;r>=Ct.indexOf(e);r--){const o=Ct[r];if(Kn[o].common&&s._adapter.diff(n,i,o)>=t-1)return o}return Ct[e?Ct.indexOf(e):0]}function Sy(s){for(let t=Ct.indexOf(s)+1,e=Ct.length;t<e;++t)if(Kn[Ct[t]].common)return Ct[t]}function Cl(s,t,e){if(!e)s[t]=!0;else if(e.length){const{lo:i,hi:n}=Eo(e,t),r=e[i]>=t?e[i]:e[n];s[r]=!0}}function Oy(s,t,e,i){const n=s._adapter,r=+n.startOf(t[0].value,i),o=t[t.length-1].value;let a,l;for(a=r;a<=o;a=+n.add(a,1,i))l=e[a],l>=0&&(t[l].major=!0);return t}function Dl(s,t,e){const i=[],n={},r=t.length;let o,a;for(o=0;o<r;++o)a=t[o],n[a]=o,i.push({value:a,major:!1});return r===0||!e?i:Oy(s,i,n,e)}class Ei extends cs{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const i=t.time||(t.time={}),n=this._adapter=new Lg._date(t.adapters.date);n.init(e),ui(i.displayFormats,n.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:Ml(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,i=t.time.unit||"day";let{min:n,max:r,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(n=Math.min(n,c.min)),!a&&!isNaN(c.max)&&(r=Math.max(r,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&l(this.getMinMax(!1))),n=ot(n)&&!isNaN(n)?n:+e.startOf(Date.now(),i),r=ot(r)&&!isNaN(r)?r:+e.endOf(Date.now(),i)+1,this.min=Math.min(n,r-1),this.max=Math.max(n+1,r)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,n=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&n.length&&(this.min=this._userMin||n[0],this.max=this._userMax||n[n.length-1]);const r=this.min,o=this.max,a=rf(n,r,o);return this._unit=e.unit||(i.autoSkip?El(e.minUnit,this.min,this.max,this._getLabelCapacity(r)):ky(this,a.length,e.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:Sy(this._unit),this.initOffsets(n),t.reverse&&a.reverse(),Dl(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,i=0,n,r;this.options.offset&&t.length&&(n=this.getDecimalForValue(t[0]),t.length===1?e=1-n:e=(this.getDecimalForValue(t[1])-n)/2,r=this.getDecimalForValue(t[t.length-1]),t.length===1?i=r:i=(r-this.getDecimalForValue(t[t.length-2]))/2);const o=t.length<3?.5:.25;e=yt(e,0,o),i=yt(i,0,o),this._offsets={start:e,end:i,factor:1/(e+1+i)}}_generate(){const t=this._adapter,e=this.min,i=this.max,n=this.options,r=n.time,o=r.unit||El(r.minUnit,e,i,this._getLabelCapacity(e)),a=$(n.ticks.stepSize,1),l=o==="week"?r.isoWeekday:!1,c=Ls(l)||l===!0,h={};let u=e,d,f;if(c&&(u=+t.startOf(u,"isoWeek",l)),u=+t.startOf(u,c?"day":o),t.diff(i,e,o)>1e5*a)throw new Error(e+" and "+i+" are too far apart with stepSize of "+a+" "+o);const g=n.ticks.source==="data"&&this.getDataTimestamps();for(d=u,f=0;d<i;d=+t.add(d,a,o),f++)Cl(h,d,g);return(d===i||n.bounds==="ticks"||f===1)&&Cl(h,d,g),Object.keys(h).sort(Tl).map(m=>+m)}getLabelForValue(t){const e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}format(t,e){const n=this.options.time.displayFormats,r=this._unit,o=e||n[r];return this._adapter.format(t,o)}_tickFormatFunction(t,e,i,n){const r=this.options,o=r.ticks.callback;if(o)return tt(o,[t,e,i],this);const a=r.time.displayFormats,l=this._unit,c=this._majorUnit,h=l&&a[l],u=c&&a[c],d=i[e],f=c&&u&&d&&d.major;return this._adapter.format(t,n||(f?u:h))}generateTickLabels(t){let e,i,n;for(e=0,i=t.length;e<i;++e)n=t[e],n.label=this._tickFormatFunction(n.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,n=Gt(this.isHorizontal()?e.maxRotation:e.minRotation),r=Math.cos(n),o=Math.sin(n),a=this._resolveTickFontOptions(0).size;return{w:i*r+a*o,h:i*o+a*r}}_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,n=i[e.unit]||i.millisecond,r=this._tickFormatFunction(t,0,Dl(this,[t],this._majorUnit),n),o=this._getLabelSize(r),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let t=this._cache.data||[],e,i;if(t.length)return t;const n=this.getMatchingVisibleMetas();if(this._normalized&&n.length)return this._cache.data=n[0].controller.getAllParsedValues(this);for(e=0,i=n.length;e<i;++e)t=t.concat(n[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,i;if(t.length)return t;const n=this.getLabels();for(e=0,i=n.length;e<i;++e)t.push(Ml(this,n[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return Xc(t.sort(Tl))}}E(Ei,"id","time"),E(Ei,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function nn(s,t,e){let i=0,n=s.length-1,r,o,a,l;e?(t>=s[i].pos&&t<=s[n].pos&&({lo:i,hi:n}=ye(s,"pos",t)),{pos:r,time:a}=s[i],{pos:o,time:l}=s[n]):(t>=s[i].time&&t<=s[n].time&&({lo:i,hi:n}=ye(s,"time",t)),{time:r,pos:a}=s[i],{time:o,pos:l}=s[n]);const c=o-r;return c?a+(l-a)*(t-r)/c:a}class io extends Ei{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=nn(e,this.min),this._tableRange=nn(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,n=[],r=[];let o,a,l,c,h;for(o=0,a=t.length;o<a;++o)c=t[o],c>=e&&c<=i&&n.push(c);if(n.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(o=0,a=n.length;o<a;++o)h=n[o+1],l=n[o-1],c=n[o],Math.round((h+l)/2)!==c&&r.push({time:c,pos:o/(a-1)});return r}_generate(){const t=this.min,e=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(e)||i.length===1)&&i.push(e),i.sort((n,r)=>n-r)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return e.length&&i.length?t=this.normalize(e.concat(i)):t=e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(nn(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return nn(this._table,i*this._tableRange+this._minPos,!0)}}E(io,"id","timeseries"),E(io,"defaults",Ei.defaults);var Ty=Object.freeze({__proto__:null,CategoryScale:Qr,LinearScale:to,LogarithmicScale:eo,RadialLinearScale:li,TimeScale:Ei,TimeSeriesScale:io});const My=[Ig,cp,iy,Ty],ps=[];function Xn(s,t=R){let e;const i=new Set;function n(a){if(le(s,a)&&(s=a,e)){const l=!ps.length;for(const c of i)c[1](),ps.push(c,s);if(l){for(let c=0;c<ps.length;c+=2)ps[c][0](ps[c+1]);ps.length=0}}}function r(a){n(a(s))}function o(a,l=R){const c=[a,l];return i.add(c),i.size===1&&(e=t(n,r)||R),a(s),()=>{i.delete(c),i.size===0&&e&&(e(),e=null)}}return{set:n,update:r,subscribe:o}}const Ey="modulepreload",Cy=function(s){return"/"+s},Al={},Ns=function(t,e,i){let n=Promise.resolve();if(e&&e.length>0){document.getElementsByTagName("link");const r=document.querySelector("meta[property=csp-nonce]"),o=(r==null?void 0:r.nonce)||(r==null?void 0:r.getAttribute("nonce"));n=Promise.all(e.map(a=>{if(a=Cy(a),a in Al)return;Al[a]=!0;const l=a.endsWith(".css"),c=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${c}`))return;const h=document.createElement("link");if(h.rel=l?"stylesheet":Ey,l||(h.as="script",h.crossOrigin=""),h.href=a,o&&h.setAttribute("nonce",o),document.head.appendChild(h),l)return new Promise((u,d)=>{h.addEventListener("load",u),h.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${a}`)))})}))}return n.then(()=>t()).catch(r=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=r,window.dispatchEvent(o),!o.defaultPrevented)throw r})},Dy=s=>{let t;return s?t=s:typeof fetch>"u"?t=(...e)=>Ns(()=>Promise.resolve().then(()=>Ri),void 0).then(({default:i})=>i(...e)):t=fetch,(...e)=>t(...e)};class zo extends Error{constructor(t,e="FunctionsError",i){super(t),this.name=e,this.context=i}}class Ay extends zo{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Py extends zo{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Iy extends zo{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var no;(function(s){s.Any="any",s.ApNortheast1="ap-northeast-1",s.ApNortheast2="ap-northeast-2",s.ApSouth1="ap-south-1",s.ApSoutheast1="ap-southeast-1",s.ApSoutheast2="ap-southeast-2",s.CaCentral1="ca-central-1",s.EuCentral1="eu-central-1",s.EuWest1="eu-west-1",s.EuWest2="eu-west-2",s.EuWest3="eu-west-3",s.SaEast1="sa-east-1",s.UsEast1="us-east-1",s.UsWest1="us-west-1",s.UsWest2="us-west-2"})(no||(no={}));var Ly=function(s,t,e,i){function n(r){return r instanceof e?r:new e(function(o){o(r)})}return new(e||(e=Promise))(function(r,o){function a(h){try{c(i.next(h))}catch(u){o(u)}}function l(h){try{c(i.throw(h))}catch(u){o(u)}}function c(h){h.done?r(h.value):n(h.value).then(a,l)}c((i=i.apply(s,t||[])).next())})};class Ry{constructor(t,{headers:e={},customFetch:i,region:n=no.Any}={}){this.url=t,this.headers=e,this.region=n,this.fetch=Dy(i)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,e={}){var i;return Ly(this,void 0,void 0,function*(){try{const{headers:n,method:r,body:o}=e;let a={},{region:l}=e;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let c;o&&(n&&!Object.prototype.hasOwnProperty.call(n,"Content-Type")||!n)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(a["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(a["Content-Type"]="application/json",c=JSON.stringify(o)));const h=yield this.fetch(`${this.url}/${t}`,{method:r||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),n),body:c}).catch(g=>{throw new Ay(g)}),u=h.headers.get("x-relay-error");if(u&&u==="true")throw new Py(h);if(!h.ok)throw new Iy(h);let d=((i=h.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),f;return d==="application/json"?f=yield h.json():d==="application/octet-stream"?f=yield h.blob():d==="text/event-stream"?f=h:d==="multipart/form-data"?f=yield h.formData():f=yield h.text(),{data:f,error:null}}catch(n){return{data:null,error:n}}})}}var $y=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Fs=$y();const Ny=Fs.fetch,Vo=Fs.fetch.bind(Fs),zh=Fs.Headers,Fy=Fs.Request,jy=Fs.Response,Ri=Object.freeze(Object.defineProperty({__proto__:null,Headers:zh,Request:Fy,Response:jy,default:Vo,fetch:Ny},Symbol.toStringTag,{value:"Module"}));class zy extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}}class Vy{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=Vo:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}then(t,e){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const i=this.fetch;let n=i(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async r=>{var o,a,l;let c=null,h=null,u=null,d=r.status,f=r.statusText;if(r.ok){if(this.method!=="HEAD"){const y=await r.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?h=y:h=JSON.parse(y))}const m=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),p=(a=r.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");m&&p&&p.length>1&&(u=parseInt(p[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(c={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,u=null,d=406,f="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const m=await r.text();try{c=JSON.parse(m),Array.isArray(c)&&r.status===404&&(h=[],c=null,d=200,f="OK")}catch{r.status===404&&m===""?(d=204,f="No Content"):c={message:m}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,d=200,f="OK"),c&&this.shouldThrowOnError)throw new zy(c)}return{error:c,data:h,count:u,status:d,statusText:f}});return this.shouldThrowOnError||(n=n.catch(r=>{var o,a,l;return{error:{message:`${(o=r==null?void 0:r.name)!==null&&o!==void 0?o:"FetchError"}: ${r==null?void 0:r.message}`,details:`${(a=r==null?void 0:r.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=r==null?void 0:r.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),n.then(t,e)}}class Wy extends Vy{select(t){let e=!1;const i=(t??"*").split("").map(n=>/\s/.test(n)&&!e?"":(n==='"'&&(e=!e),n)).join("");return this.url.searchParams.set("select",i),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:e=!0,nullsFirst:i,foreignTable:n,referencedTable:r=n}={}){const o=r?`${r}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${t}.${e?"asc":"desc"}${i===void 0?"":i?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:i=e}={}){const n=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(n,`${t}`),this}range(t,e,{foreignTable:i,referencedTable:n=i}={}){const r=typeof n>"u"?"offset":`${n}.offset`,o=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${t}`),this.url.searchParams.set(o,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:e=!1,settings:i=!1,buffers:n=!1,wal:r=!1,format:o="text"}={}){var a;const l=[t?"analyze":null,e?"verbose":null,i?"settings":null,n?"buffers":null,r?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${c}"; options=${l};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}class ks extends Wy{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}in(t,e){const i=Array.from(new Set(e)).map(n=>typeof n=="string"&&new RegExp("[,()]").test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`in.(${i})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:i,type:n}={}){let r="";n==="plain"?r="pl":n==="phrase"?r="ph":n==="websearch"&&(r="w");const o=i===void 0?"":`(${i})`;return this.url.searchParams.append(t,`${r}fts${o}.${e}`),this}match(t){return Object.entries(t).forEach(([e,i])=>{this.url.searchParams.append(e,`eq.${i}`)}),this}not(t,e,i){return this.url.searchParams.append(t,`not.${e}.${i}`),this}or(t,{foreignTable:e,referencedTable:i=e}={}){const n=i?`${i}.or`:"or";return this.url.searchParams.append(n,`(${t})`),this}filter(t,e,i){return this.url.searchParams.append(t,`${e}.${i}`),this}}class By{constructor(t,{headers:e={},schema:i,fetch:n}){this.url=t,this.headers=e,this.schema=i,this.fetch=n}select(t,{head:e=!1,count:i}={}){const n=e?"HEAD":"GET";let r=!1;const o=(t??"*").split("").map(a=>/\s/.test(a)&&!r?"":(a==='"'&&(r=!r),a)).join("");return this.url.searchParams.set("select",o),i&&(this.headers.Prefer=`count=${i}`),new ks({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:e,defaultToNull:i=!0}={}){const n="POST",r=[];if(this.headers.Prefer&&r.push(this.headers.Prefer),e&&r.push(`count=${e}`),i||r.push("missing=default"),this.headers.Prefer=r.join(","),Array.isArray(t)){const o=t.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new ks({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:e,ignoreDuplicates:i=!1,count:n,defaultToNull:r=!0}={}){const o="POST",a=[`resolution=${i?"ignore":"merge"}-duplicates`];if(e!==void 0&&this.url.searchParams.set("on_conflict",e),this.headers.Prefer&&a.push(this.headers.Prefer),n&&a.push(`count=${n}`),r||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const l=t.reduce((c,h)=>c.concat(Object.keys(h)),[]);if(l.length>0){const c=[...new Set(l)].map(h=>`"${h}"`);this.url.searchParams.set("columns",c.join(","))}}return new ks({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:e}={}){const i="PATCH",n=[];return this.headers.Prefer&&n.push(this.headers.Prefer),e&&n.push(`count=${e}`),this.headers.Prefer=n.join(","),new ks({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const e="DELETE",i=[];return t&&i.push(`count=${t}`),this.headers.Prefer&&i.unshift(this.headers.Prefer),this.headers.Prefer=i.join(","),new ks({method:e,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}const Hy="1.15.2",Uy={"X-Client-Info":`postgrest-js/${Hy}`};class Wo{constructor(t,{headers:e={},schema:i,fetch:n}={}){this.url=t,this.headers=Object.assign(Object.assign({},Uy),e),this.schemaName=i,this.fetch=n}from(t){const e=new URL(`${this.url}/${t}`);return new By(e,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Wo(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,e={},{head:i=!1,get:n=!1,count:r}={}){let o;const a=new URL(`${this.url}/rpc/${t}`);let l;i||n?(o=i?"HEAD":"GET",Object.entries(e).filter(([h,u])=>u!==void 0).map(([h,u])=>[h,Array.isArray(u)?`{${u.join(",")}}`:`${u}`]).forEach(([h,u])=>{a.searchParams.append(h,u)})):(o="POST",l=e);const c=Object.assign({},this.headers);return r&&(c.Prefer=`count=${r}`),new ks({method:o,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}}const qy="2.9.5",Yy={"X-Client-Info":`realtime-js/${qy}`},Gy="1.0.0",Vh=1e4,Zy=1e3;var Es;(function(s){s[s.connecting=0]="connecting",s[s.open=1]="open",s[s.closing=2]="closing",s[s.closed=3]="closed"})(Es||(Es={}));var At;(function(s){s.closed="closed",s.errored="errored",s.joined="joined",s.joining="joining",s.leaving="leaving"})(At||(At={}));var Yt;(function(s){s.close="phx_close",s.error="phx_error",s.join="phx_join",s.reply="phx_reply",s.leave="phx_leave",s.access_token="access_token"})(Yt||(Yt={}));var ro;(function(s){s.websocket="websocket"})(ro||(ro={}));var Xe;(function(s){s.Connecting="connecting",s.Open="open",s.Closing="closing",s.Closed="closed"})(Xe||(Xe={}));class Wh{constructor(t,e){this.callback=t,this.timerCalc=e,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=e}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}class Jy{constructor(){this.HEADER_LENGTH=1}decode(t,e){return t.constructor===ArrayBuffer?e(this._binaryDecode(t)):e(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const e=new DataView(t),i=new TextDecoder;return this._decodeBroadcast(t,e,i)}_decodeBroadcast(t,e,i){const n=e.getUint8(1),r=e.getUint8(2);let o=this.HEADER_LENGTH+2;const a=i.decode(t.slice(o,o+n));o=o+n;const l=i.decode(t.slice(o,o+r));o=o+r;const c=JSON.parse(i.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class Sr{constructor(t,e,i={},n=Vh){this.channel=t,this.event=e,this.payload=i,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,e){var i;return this._hasReceived(t)&&e((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:t,callback:e}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,e){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:e})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:e}){this.recHooks.filter(i=>i.status===t).forEach(i=>i.callback(e))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Pl;(function(s){s.SYNC="sync",s.JOIN="join",s.LEAVE="leave"})(Pl||(Pl={}));class pi{constructor(t,e){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(e==null?void 0:e.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},n=>{const{onJoin:r,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=pi.syncState(this.state,n,r,o),this.pendingDiffs.forEach(l=>{this.state=pi.syncDiff(this.state,l,r,o)}),this.pendingDiffs=[],a()}),this.channel._on(i.diff,{},n=>{const{onJoin:r,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=pi.syncDiff(this.state,n,r,o),a())}),this.onJoin((n,r,o)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:r,newPresences:o})}),this.onLeave((n,r,o)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:r,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,e,i,n){const r=this.cloneDeep(t),o=this.transformState(e),a={},l={};return this.map(r,(c,h)=>{o[c]||(l[c]=h)}),this.map(o,(c,h)=>{const u=r[c];if(u){const d=h.map(p=>p.presence_ref),f=u.map(p=>p.presence_ref),g=h.filter(p=>f.indexOf(p.presence_ref)<0),m=u.filter(p=>d.indexOf(p.presence_ref)<0);g.length>0&&(a[c]=g),m.length>0&&(l[c]=m)}else a[c]=h}),this.syncDiff(r,{joins:a,leaves:l},i,n)}static syncDiff(t,e,i,n){const{joins:r,leaves:o}={joins:this.transformState(e.joins),leaves:this.transformState(e.leaves)};return i||(i=()=>{}),n||(n=()=>{}),this.map(r,(a,l)=>{var c;const h=(c=t[a])!==null&&c!==void 0?c:[];if(t[a]=this.cloneDeep(l),h.length>0){const u=t[a].map(f=>f.presence_ref),d=h.filter(f=>u.indexOf(f.presence_ref)<0);t[a].unshift(...d)}i(a,h,l)}),this.map(o,(a,l)=>{let c=t[a];if(!c)return;const h=l.map(u=>u.presence_ref);c=c.filter(u=>h.indexOf(u.presence_ref)<0),t[a]=c,n(a,c,l),c.length===0&&delete t[a]}),t}static map(t,e){return Object.getOwnPropertyNames(t).map(i=>e(i,t[i]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((e,i)=>{const n=t[i];return"metas"in n?e[i]=n.metas.map(r=>(r.presence_ref=r.phx_ref,delete r.phx_ref,delete r.phx_ref_prev,r)):e[i]=n,e},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Q;(function(s){s.abstime="abstime",s.bool="bool",s.date="date",s.daterange="daterange",s.float4="float4",s.float8="float8",s.int2="int2",s.int4="int4",s.int4range="int4range",s.int8="int8",s.int8range="int8range",s.json="json",s.jsonb="jsonb",s.money="money",s.numeric="numeric",s.oid="oid",s.reltime="reltime",s.text="text",s.time="time",s.timestamp="timestamp",s.timestamptz="timestamptz",s.timetz="timetz",s.tsrange="tsrange",s.tstzrange="tstzrange"})(Q||(Q={}));const Il=(s,t,e={})=>{var i;const n=(i=e.skipTypes)!==null&&i!==void 0?i:[];return Object.keys(t).reduce((r,o)=>(r[o]=Ky(o,s,t,n),r),{})},Ky=(s,t,e,i)=>{const n=t.find(a=>a.name===s),r=n==null?void 0:n.type,o=e[s];return r&&!i.includes(r)?Bh(r,o):oo(o)},Bh=(s,t)=>{if(s.charAt(0)==="_"){const e=s.slice(1,s.length);return e_(t,e)}switch(s){case Q.bool:return Xy(t);case Q.float4:case Q.float8:case Q.int2:case Q.int4:case Q.int8:case Q.numeric:case Q.oid:return Qy(t);case Q.json:case Q.jsonb:return t_(t);case Q.timestamp:return s_(t);case Q.abstime:case Q.date:case Q.daterange:case Q.int4range:case Q.int8range:case Q.money:case Q.reltime:case Q.text:case Q.time:case Q.timestamptz:case Q.timetz:case Q.tsrange:case Q.tstzrange:return oo(t);default:return oo(t)}},oo=s=>s,Xy=s=>{switch(s){case"t":return!0;case"f":return!1;default:return s}},Qy=s=>{if(typeof s=="string"){const t=parseFloat(s);if(!Number.isNaN(t))return t}return s},t_=s=>{if(typeof s=="string")try{return JSON.parse(s)}catch(t){return console.log(`JSON parse error: ${t}`),s}return s},e_=(s,t)=>{if(typeof s!="string")return s;const e=s.length-1,i=s[e];if(s[0]==="{"&&i==="}"){let r;const o=s.slice(1,e);try{r=JSON.parse("["+o+"]")}catch{r=o?o.split(","):[]}return r.map(a=>Bh(t,a))}return s},s_=s=>typeof s=="string"?s.replace(" ","T"):s;var Ll;(function(s){s.ALL="*",s.INSERT="INSERT",s.UPDATE="UPDATE",s.DELETE="DELETE"})(Ll||(Ll={}));var Rl;(function(s){s.BROADCAST="broadcast",s.PRESENCE="presence",s.POSTGRES_CHANGES="postgres_changes"})(Rl||(Rl={}));var $l;(function(s){s.SUBSCRIBED="SUBSCRIBED",s.TIMED_OUT="TIMED_OUT",s.CLOSED="CLOSED",s.CHANNEL_ERROR="CHANNEL_ERROR"})($l||($l={}));class Bo{constructor(t,e={config:{}},i){this.topic=t,this.params=e,this.socket=i,this.bindings={},this.state=At.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""}},e.config),this.timeout=this.socket.timeout,this.joinPush=new Sr(this,Yt.join,this.params,this.timeout),this.rejoinTimer=new Wh(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=At.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(n=>n.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=At.closed,this.socket._remove(this)}),this._onError(n=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,n),this.state=At.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=At.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Yt.reply,{},(n,r)=>{this._trigger(this._replyEventName(r),n)}),this.presence=new pi(this),this.broadcastEndpointURL=this._broadcastEndpointURL()}subscribe(t,e=this.timeout){var i,n;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:r,presence:o}}=this.params;this._onError(c=>t&&t("CHANNEL_ERROR",c)),this._onClose(()=>t&&t("CLOSED"));const a={},l={broadcast:r,presence:o,postgres_changes:(n=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(c=>c.filter))!==null&&n!==void 0?n:[]};this.socket.accessToken&&(a.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:l},a)),this.joinedOnce=!0,this._rejoin(e),this.joinPush.receive("ok",({postgres_changes:c})=>{var h;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),c===void 0){t&&t("SUBSCRIBED");return}else{const u=this.bindings.postgres_changes,d=(h=u==null?void 0:u.length)!==null&&h!==void 0?h:0,f=[];for(let g=0;g<d;g++){const m=u[g],{filter:{event:p,schema:y,table:_,filter:w}}=m,b=c&&c[g];if(b&&b.event===p&&b.schema===y&&b.table===_&&b.filter===w)f.push(Object.assign(Object.assign({},m),{id:b.id}));else{this.unsubscribe(),t&&t("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=f,t&&t("SUBSCRIBED");return}}).receive("error",c=>{t&&t("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{t&&t("TIMED_OUT")})}return this}presenceState(){return this.presence.state}async track(t,e={}){return await this.send({type:"presence",event:"track",payload:t},e.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,e,i){return this._on(t,e,i)}async send(t,e={}){var i,n;if(!this._canPush()&&t.type==="broadcast"){const{event:r,payload:o}=t,a={method:"POST",headers:{apikey:(i=this.socket.apiKey)!==null&&i!==void 0?i:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:r,payload:o}]})};try{return(await this._fetchWithTimeout(this.broadcastEndpointURL,a,(n=e.timeout)!==null&&n!==void 0?n:this.timeout)).ok?"ok":"error"}catch(l){return l.name==="AbortError"?"timed out":"error"}}else return new Promise(r=>{var o,a,l;const c=this._push(t.type,t,e.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&r("ok"),c.receive("ok",()=>r("ok")),c.receive("error",()=>r("error")),c.receive("timeout",()=>r("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=At.leaving;const e=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Yt.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(i=>{const n=new Sr(this,Yt.leave,{},t);n.receive("ok",()=>{e(),i("ok")}).receive("timeout",()=>{e(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})})}_broadcastEndpointURL(){let t=this.socket.endPoint;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"}async _fetchWithTimeout(t,e,i){const n=new AbortController,r=setTimeout(()=>n.abort(),i),o=await this.socket.fetch(t,Object.assign(Object.assign({},e),{signal:n.signal}));return clearTimeout(r),o}_push(t,e,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new Sr(this,t,e,i);return this._canPush()?n.send():(n.startTimeout(),this.pushBuffer.push(n)),n}_onMessage(t,e,i){return e}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,e,i){var n,r;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:c,join:h}=Yt;if(i&&[a,l,c,h].indexOf(o)>=0&&i!==this._joinRef())return;let d=this._onMessage(o,e,i);if(e&&!d)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(f=>{var g,m,p;return((g=f.filter)===null||g===void 0?void 0:g.event)==="*"||((p=(m=f.filter)===null||m===void 0?void 0:m.event)===null||p===void 0?void 0:p.toLocaleLowerCase())===o}).map(f=>f.callback(d,i)):(r=this.bindings[o])===null||r===void 0||r.filter(f=>{var g,m,p,y,_,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const b=f.id,v=(g=f.filter)===null||g===void 0?void 0:g.event;return b&&((m=e.ids)===null||m===void 0?void 0:m.includes(b))&&(v==="*"||(v==null?void 0:v.toLocaleLowerCase())===((p=e.data)===null||p===void 0?void 0:p.type.toLocaleLowerCase()))}else{const b=(_=(y=f==null?void 0:f.filter)===null||y===void 0?void 0:y.event)===null||_===void 0?void 0:_.toLocaleLowerCase();return b==="*"||b===((w=e==null?void 0:e.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof d=="object"&&"ids"in d){const g=d.data,{schema:m,table:p,commit_timestamp:y,type:_,errors:w}=g;d=Object.assign(Object.assign({},{schema:m,table:p,commit_timestamp:y,eventType:_,new:{},old:{},errors:w}),this._getPayloadRecords(g))}f.callback(d,i)})}_isClosed(){return this.state===At.closed}_isJoined(){return this.state===At.joined}_isJoining(){return this.state===At.joining}_isLeaving(){return this.state===At.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,e,i){const n=t.toLocaleLowerCase(),r={type:n,filter:e,callback:i};return this.bindings[n]?this.bindings[n].push(r):this.bindings[n]=[r],this}_off(t,e){const i=t.toLocaleLowerCase();return this.bindings[i]=this.bindings[i].filter(n=>{var r;return!(((r=n.type)===null||r===void 0?void 0:r.toLocaleLowerCase())===i&&Bo.isEqual(n.filter,e))}),this}static isEqual(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const i in t)if(t[i]!==e[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Yt.close,{},t)}_onError(t){this._on(Yt.error,{},e=>t(e))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=At.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const e={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(e.new=Il(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(e.old=Il(t.columns,t.old_record)),e}}const i_=()=>{},n_=typeof WebSocket<"u";class r_{constructor(t,e){var i;this.accessToken=null,this.apiKey=null,this.channels=[],this.endPoint="",this.headers=Yy,this.params={},this.timeout=Vh,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=i_,this.conn=null,this.sendBuffer=[],this.serializer=new Jy,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=r=>{let o;return r?o=r:typeof fetch>"u"?o=(...a)=>Ns(()=>Promise.resolve().then(()=>Ri),void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${t}/${ro.websocket}`,e!=null&&e.transport?this.transport=e.transport:this.transport=null,e!=null&&e.params&&(this.params=e.params),e!=null&&e.headers&&(this.headers=Object.assign(Object.assign({},this.headers),e.headers)),e!=null&&e.timeout&&(this.timeout=e.timeout),e!=null&&e.logger&&(this.logger=e.logger),e!=null&&e.heartbeatIntervalMs&&(this.heartbeatIntervalMs=e.heartbeatIntervalMs);const n=(i=e==null?void 0:e.params)===null||i===void 0?void 0:i.apikey;n&&(this.accessToken=n,this.apiKey=n),this.reconnectAfterMs=e!=null&&e.reconnectAfterMs?e.reconnectAfterMs:r=>[1e3,2e3,5e3,1e4][r-1]||1e4,this.encode=e!=null&&e.encode?e.encode:(r,o)=>o(JSON.stringify(r)),this.decode=e!=null&&e.decode?e.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Wh(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(e==null?void 0:e.fetch)}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers});return}if(n_){this.conn=new WebSocket(this._endPointURL()),this.setupConnection();return}this.conn=new o_(this._endPointURL(),void 0,{close:()=>{this.conn=null}}),Ns(()=>import("./browser-BImCA5dO.js").then(t=>t.b),[]).then(({default:t})=>{this.conn=new t(this._endPointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}disconnect(t,e){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,e??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const e=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),e}async removeAllChannels(){const t=await Promise.all(this.channels.map(e=>e.unsubscribe()));return this.disconnect(),t}log(t,e,i){this.logger(t,e,i)}connectionState(){switch(this.conn&&this.conn.readyState){case Es.connecting:return Xe.Connecting;case Es.open:return Xe.Open;case Es.closing:return Xe.Closing;default:return Xe.Closed}}isConnected(){return this.connectionState()===Xe.Open}channel(t,e={config:{}}){const i=new Bo(`realtime:${t}`,e,this);return this.channels.push(i),i}push(t){const{topic:e,event:i,payload:n,ref:r}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${e} ${i} (${r})`,n),this.isConnected()?o():this.sendBuffer.push(o)}setAuth(t){this.accessToken=t,this.channels.forEach(e=>{t&&e.updateJoinPayload({access_token:t}),e.joinedOnce&&e._isJoined()&&e._push(Yt.access_token,{access_token:t})})}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let e=this.channels.find(i=>i.topic===t&&(i._isJoined()||i._isJoining()));e&&(this.log("transport",`leaving duplicate topic "${t}"`),e.unsubscribe())}_remove(t){this.channels=this.channels.filter(e=>e._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Gy}))}_onConnMessage(t){this.decode(t.data,e=>{let{topic:i,event:n,payload:r,ref:o}=e;(o&&o===this.pendingHeartbeatRef||n===(r==null?void 0:r.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${r.status||""} ${i} ${n} ${o&&"("+o+")"||""}`,r),this.channels.filter(a=>a._isMember(i)).forEach(a=>a._trigger(n,r,o)),this.stateChangeCallbacks.message.forEach(a=>a(e))})}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(e=>e(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(e=>e(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Yt.error))}_appendParams(t,e){if(Object.keys(e).length===0)return t;const i=t.match(/\?/)?"&":"?",n=new URLSearchParams(e);return`${t}${i}${n}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(Zy,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}}class o_{constructor(t,e,i){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Es.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=i.close}}class Ho extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function vt(s){return typeof s=="object"&&s!==null&&"__isStorageError"in s}class a_ extends Ho{constructor(t,e){super(t),this.name="StorageApiError",this.status=e}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Nl extends Ho{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}}var l_=function(s,t,e,i){function n(r){return r instanceof e?r:new e(function(o){o(r)})}return new(e||(e=Promise))(function(r,o){function a(h){try{c(i.next(h))}catch(u){o(u)}}function l(h){try{c(i.throw(h))}catch(u){o(u)}}function c(h){h.done?r(h.value):n(h.value).then(a,l)}c((i=i.apply(s,t||[])).next())})};const Hh=s=>{let t;return s?t=s:typeof fetch>"u"?t=(...e)=>Ns(()=>Promise.resolve().then(()=>Ri),void 0).then(({default:i})=>i(...e)):t=fetch,(...e)=>t(...e)},c_=()=>l_(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ns(()=>Promise.resolve().then(()=>Ri),void 0)).Response:Response});var zs=function(s,t,e,i){function n(r){return r instanceof e?r:new e(function(o){o(r)})}return new(e||(e=Promise))(function(r,o){function a(h){try{c(i.next(h))}catch(u){o(u)}}function l(h){try{c(i.throw(h))}catch(u){o(u)}}function c(h){h.done?r(h.value):n(h.value).then(a,l)}c((i=i.apply(s,t||[])).next())})};const Or=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),h_=(s,t)=>zs(void 0,void 0,void 0,function*(){const e=yield c_();s instanceof e?s.json().then(i=>{t(new a_(Or(i),s.status||500))}).catch(i=>{t(new Nl(Or(i),i))}):t(new Nl(Or(s),s))}),u_=(s,t,e,i)=>{const n={method:s,headers:(t==null?void 0:t.headers)||{}};return s==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n.body=JSON.stringify(i),Object.assign(Object.assign({},n),e))};function Qn(s,t,e,i,n,r){return zs(this,void 0,void 0,function*(){return new Promise((o,a)=>{s(e,u_(t,i,n,r)).then(l=>{if(!l.ok)throw l;return i!=null&&i.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>h_(l,a))})})}function ao(s,t,e,i){return zs(this,void 0,void 0,function*(){return Qn(s,"GET",t,e,i)})}function Oe(s,t,e,i,n){return zs(this,void 0,void 0,function*(){return Qn(s,"POST",t,i,n,e)})}function d_(s,t,e,i,n){return zs(this,void 0,void 0,function*(){return Qn(s,"PUT",t,i,n,e)})}function Uh(s,t,e,i,n){return zs(this,void 0,void 0,function*(){return Qn(s,"DELETE",t,i,n,e)})}var Nt=function(s,t,e,i){function n(r){return r instanceof e?r:new e(function(o){o(r)})}return new(e||(e=Promise))(function(r,o){function a(h){try{c(i.next(h))}catch(u){o(u)}}function l(h){try{c(i.throw(h))}catch(u){o(u)}}function c(h){h.done?r(h.value):n(h.value).then(a,l)}c((i=i.apply(s,t||[])).next())})};const f_={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Fl={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class g_{constructor(t,e={},i,n){this.url=t,this.headers=e,this.bucketId=i,this.fetch=Hh(n)}uploadOrUpdate(t,e,i,n){return Nt(this,void 0,void 0,function*(){try{let r;const o=Object.assign(Object.assign({},Fl),n),a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});typeof Blob<"u"&&i instanceof Blob?(r=new FormData,r.append("cacheControl",o.cacheControl),r.append("",i)):typeof FormData<"u"&&i instanceof FormData?(r=i,r.append("cacheControl",o.cacheControl)):(r=i,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType);const l=this._removeEmptyFolders(e),c=this._getFinalPath(l),h=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:t,body:r,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),u=yield h.json();return h.ok?{data:{path:l,id:u.Id,fullPath:u.Key},error:null}:{data:null,error:u}}catch(r){if(vt(r))return{data:null,error:r};throw r}})}upload(t,e,i){return Nt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,e,i)})}uploadToSignedUrl(t,e,i,n){return Nt(this,void 0,void 0,function*(){const r=this._removeEmptyFolders(t),o=this._getFinalPath(r),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",e);try{let l;const c=Object.assign({upsert:Fl.upsert},n),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&i instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",i)):typeof FormData<"u"&&i instanceof FormData?(l=i,l.append("cacheControl",c.cacheControl)):(l=i,h["cache-control"]=`max-age=${c.cacheControl}`,h["content-type"]=c.contentType);const u=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:h}),d=yield u.json();return u.ok?{data:{path:r,fullPath:d.Key},error:null}:{data:null,error:d}}catch(l){if(vt(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t){return Nt(this,void 0,void 0,function*(){try{let e=this._getFinalPath(t);const i=yield Oe(this.fetch,`${this.url}/object/upload/sign/${e}`,{},{headers:this.headers}),n=new URL(this.url+i.url),r=n.searchParams.get("token");if(!r)throw new Ho("No token returned by API");return{data:{signedUrl:n.toString(),path:t,token:r},error:null}}catch(e){if(vt(e))return{data:null,error:e};throw e}})}update(t,e,i){return Nt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,e,i)})}move(t,e){return Nt(this,void 0,void 0,function*(){try{return{data:yield Oe(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:e},{headers:this.headers}),error:null}}catch(i){if(vt(i))return{data:null,error:i};throw i}})}copy(t,e){return Nt(this,void 0,void 0,function*(){try{return{data:{path:(yield Oe(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:e},{headers:this.headers})).Key},error:null}}catch(i){if(vt(i))return{data:null,error:i};throw i}})}createSignedUrl(t,e,i){return Nt(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t),r=yield Oe(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:e},i!=null&&i.transform?{transform:i.transform}:{}),{headers:this.headers});const o=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return r={signedUrl:encodeURI(`${this.url}${r.signedURL}${o}`)},{data:r,error:null}}catch(n){if(vt(n))return{data:null,error:n};throw n}})}createSignedUrls(t,e,i){return Nt(this,void 0,void 0,function*(){try{const n=yield Oe(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:e,paths:t},{headers:this.headers}),r=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return{data:n.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${r}`):null})),error:null}}catch(n){if(vt(n))return{data:null,error:n};throw n}})}download(t,e){return Nt(this,void 0,void 0,function*(){const n=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),o=r?`?${r}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield ao(this.fetch,`${this.url}/${n}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(vt(a))return{data:null,error:a};throw a}})}getPublicUrl(t,e){const i=this._getFinalPath(t),n=[],r=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";r!==""&&n.push(r);const a=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});l!==""&&n.push(l);let c=n.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${i}${c}`)}}}remove(t){return Nt(this,void 0,void 0,function*(){try{return{data:yield Uh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(e){if(vt(e))return{data:null,error:e};throw e}})}list(t,e,i){return Nt(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},f_),e),{prefix:t||""});return{data:yield Oe(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},i),error:null}}catch(n){if(vt(n))return{data:null,error:n};throw n}})}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}}const m_="2.5.5",p_={"X-Client-Info":`storage-js/${m_}`};var ys=function(s,t,e,i){function n(r){return r instanceof e?r:new e(function(o){o(r)})}return new(e||(e=Promise))(function(r,o){function a(h){try{c(i.next(h))}catch(u){o(u)}}function l(h){try{c(i.throw(h))}catch(u){o(u)}}function c(h){h.done?r(h.value):n(h.value).then(a,l)}c((i=i.apply(s,t||[])).next())})};class y_{constructor(t,e={},i){this.url=t,this.headers=Object.assign(Object.assign({},p_),e),this.fetch=Hh(i)}listBuckets(){return ys(this,void 0,void 0,function*(){try{return{data:yield ao(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(vt(t))return{data:null,error:t};throw t}})}getBucket(t){return ys(this,void 0,void 0,function*(){try{return{data:yield ao(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(e){if(vt(e))return{data:null,error:e};throw e}})}createBucket(t,e={public:!1}){return ys(this,void 0,void 0,function*(){try{return{data:yield Oe(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(vt(i))return{data:null,error:i};throw i}})}updateBucket(t,e){return ys(this,void 0,void 0,function*(){try{return{data:yield d_(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(vt(i))return{data:null,error:i};throw i}})}emptyBucket(t){return ys(this,void 0,void 0,function*(){try{return{data:yield Oe(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(e){if(vt(e))return{data:null,error:e};throw e}})}deleteBucket(t){return ys(this,void 0,void 0,function*(){try{return{data:yield Uh(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(e){if(vt(e))return{data:null,error:e};throw e}})}}class __ extends y_{constructor(t,e={},i){super(t,e,i)}from(t){return new g_(this.url,this.headers,t,this.fetch)}}const b_="2.43.2";let ci="";typeof Deno<"u"?ci="deno":typeof document<"u"?ci="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ci="react-native":ci="node";const v_={"X-Client-Info":`supabase-js-${ci}/${b_}`},w_={headers:v_},x_={schema:"public"},k_={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},S_={};var O_=function(s,t,e,i){function n(r){return r instanceof e?r:new e(function(o){o(r)})}return new(e||(e=Promise))(function(r,o){function a(h){try{c(i.next(h))}catch(u){o(u)}}function l(h){try{c(i.throw(h))}catch(u){o(u)}}function c(h){h.done?r(h.value):n(h.value).then(a,l)}c((i=i.apply(s,t||[])).next())})};const T_=s=>{let t;return s?t=s:typeof fetch>"u"?t=Vo:t=fetch,(...e)=>t(...e)},M_=()=>typeof Headers>"u"?zh:Headers,E_=(s,t,e)=>{const i=T_(e),n=M_();return(r,o)=>O_(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:s;let c=new n(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",s),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),i(r,Object.assign(Object.assign({},o),{headers:c}))})};function C_(s){return s.replace(/\/$/,"")}function D_(s,t){const{db:e,auth:i,realtime:n,global:r}=s,{db:o,auth:a,realtime:l,global:c}=t;return{db:Object.assign(Object.assign({},o),e),auth:Object.assign(Object.assign({},a),i),realtime:Object.assign(Object.assign({},l),n),global:Object.assign(Object.assign({},c),r)}}const qh="2.64.2",A_="http://localhost:9999",P_="supabase.auth.token",I_={"X-Client-Info":`gotrue-js/${qh}`},jl=10,lo="X-Supabase-Api-Version",Yh={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function L_(s){return Math.round(Date.now()/1e3)+s}function R_(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(s){const t=Math.random()*16|0;return(s=="x"?t:t&3|8).toString(16)})}const qt=()=>typeof document<"u",Ue={tested:!1,writable:!1},yi=()=>{if(!qt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ue.tested)return Ue.writable;const s=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(s,s),globalThis.localStorage.removeItem(s),Ue.tested=!0,Ue.writable=!0}catch{Ue.tested=!0,Ue.writable=!1}return Ue.writable};function Tr(s){const t={},e=new URL(s);if(e.hash&&e.hash[0]==="#")try{new URLSearchParams(e.hash.substring(1)).forEach((n,r)=>{t[r]=n})}catch{}return e.searchParams.forEach((i,n)=>{t[n]=i}),t}const Gh=s=>{let t;return s?t=s:typeof fetch>"u"?t=(...e)=>Ns(()=>Promise.resolve().then(()=>Ri),void 0).then(({default:i})=>i(...e)):t=fetch,(...e)=>t(...e)},$_=s=>typeof s=="object"&&s!==null&&"status"in s&&"ok"in s&&"json"in s&&typeof s.json=="function",Zh=async(s,t,e)=>{await s.setItem(t,JSON.stringify(e))},rn=async(s,t)=>{const e=await s.getItem(t);if(!e)return null;try{return JSON.parse(e)}catch{return e}},Mr=async(s,t)=>{await s.removeItem(t)};function N_(s){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let e="",i,n,r,o,a,l,c,h=0;for(s=s.replace("-","+").replace("_","/");h<s.length;)o=t.indexOf(s.charAt(h++)),a=t.indexOf(s.charAt(h++)),l=t.indexOf(s.charAt(h++)),c=t.indexOf(s.charAt(h++)),i=o<<2|a>>4,n=(a&15)<<4|l>>2,r=(l&3)<<6|c,e=e+String.fromCharCode(i),l!=64&&n!=0&&(e=e+String.fromCharCode(n)),c!=64&&r!=0&&(e=e+String.fromCharCode(r));return e}class tr{constructor(){this.promise=new tr.promiseConstructor((t,e)=>{this.resolve=t,this.reject=e})}}tr.promiseConstructor=Promise;function zl(s){const t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,e=s.split(".");if(e.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(e[1]))throw new Error("JWT is not valid: payload is not in base64url format");const i=e[1];return JSON.parse(N_(i))}async function F_(s){return await new Promise(t=>{setTimeout(()=>t(null),s)})}function j_(s,t){return new Promise((i,n)=>{(async()=>{for(let r=0;r<1/0;r++)try{const o=await s(r);if(!t(r,null,o)){i(o);return}}catch(o){if(!t(r,o)){n(o);return}}})()})}function z_(s){return("0"+s.toString(16)).substr(-2)}function V_(){const t=new Uint32Array(56);if(typeof crypto>"u"){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=e.length;let n="";for(let r=0;r<56;r++)n+=e.charAt(Math.floor(Math.random()*i));return n}return crypto.getRandomValues(t),Array.from(t,z_).join("")}async function W_(s){const e=new TextEncoder().encode(s),i=await crypto.subtle.digest("SHA-256",e),n=new Uint8Array(i);return Array.from(n).map(r=>String.fromCharCode(r)).join("")}function B_(s){return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function H_(s){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),s;const e=await W_(s);return B_(e)}async function _s(s,t,e=!1){const i=V_();let n=i;e&&(n+="/PASSWORD_RECOVERY"),await Zh(s,`${t}-code-verifier`,n);const r=await H_(i);return[r,i===r?"plain":"s256"]}const U_=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function q_(s){const t=s.headers.get(lo);if(!t||!t.match(U_))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}class Uo extends Error{constructor(t,e,i){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=e,this.code=i}}function V(s){return typeof s=="object"&&s!==null&&"__isAuthError"in s}class Y_ extends Uo{constructor(t,e,i){super(t,e,i),this.name="AuthApiError",this.status=e,this.code=i}}function G_(s){return V(s)&&s.name==="AuthApiError"}class Jh extends Uo{constructor(t,e){super(t),this.name="AuthUnknownError",this.originalError=e}}class hs extends Uo{constructor(t,e,i,n){super(t,i,n),this.name=e,this.status=i}}class qe extends hs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class Er extends hs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class on extends hs{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class an extends hs{constructor(t,e=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Vl extends hs{constructor(t,e=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class co extends hs{constructor(t,e){super(t,"AuthRetryableFetchError",e,void 0)}}function Cr(s){return V(s)&&s.name==="AuthRetryableFetchError"}class Wl extends hs{constructor(t,e,i){super(t,"AuthWeakPasswordError",e,"weak_password"),this.reasons=i}}var Z_=function(s,t){var e={};for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&t.indexOf(i)<0&&(e[i]=s[i]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(s);n<i.length;n++)t.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(s,i[n])&&(e[i[n]]=s[i[n]]);return e};const Ke=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),J_=[502,503,504];async function Bl(s){var t;if(!$_(s))throw new co(Ke(s),0);if(J_.includes(s.status))throw new co(Ke(s),s.status);let e;try{e=await s.json()}catch(r){throw new Jh(Ke(r),r)}let i;const n=q_(s);if(n&&n.getTime()>=Yh["2024-01-01"].timestamp&&typeof e=="object"&&e&&typeof e.code=="string"?i=e.code:typeof e=="object"&&e&&typeof e.error_code=="string"&&(i=e.error_code),i){if(i==="weak_password")throw new Wl(Ke(e),s.status,((t=e.weak_password)===null||t===void 0?void 0:t.reasons)||[])}else if(typeof e=="object"&&e&&typeof e.weak_password=="object"&&e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.reasons.reduce((r,o)=>r&&typeof o=="string",!0))throw new Wl(Ke(e),s.status,e.weak_password.reasons);throw new Y_(Ke(e),s.status||500,i)}const K_=(s,t,e,i)=>{const n={method:s,headers:(t==null?void 0:t.headers)||{}};return s==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),n.body=JSON.stringify(i),Object.assign(Object.assign({},n),e))};async function U(s,t,e,i){var n;const r=Object.assign({},i==null?void 0:i.headers);r[lo]||(r[lo]=Yh["2024-01-01"].name),i!=null&&i.jwt&&(r.Authorization=`Bearer ${i.jwt}`);const o=(n=i==null?void 0:i.query)!==null&&n!==void 0?n:{};i!=null&&i.redirectTo&&(o.redirect_to=i.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await X_(s,t,e+a,{headers:r,noResolveJson:i==null?void 0:i.noResolveJson},{},i==null?void 0:i.body);return i!=null&&i.xform?i==null?void 0:i.xform(l):{data:Object.assign({},l),error:null}}async function X_(s,t,e,i,n,r){const o=K_(t,i,n,r);let a;try{a=await s(e,Object.assign({},o))}catch(l){throw console.error(l),new co(Ke(l),0)}if(a.ok||await Bl(a),i!=null&&i.noResolveJson)return a;try{return await a.json()}catch(l){await Bl(l)}}function Se(s){var t;let e=null;sb(s)&&(e=Object.assign({},s),s.expires_at||(e.expires_at=L_(s.expires_in)));const i=(t=s.user)!==null&&t!==void 0?t:s;return{data:{session:e,user:i},error:null}}function Hl(s){const t=Se(s);return!t.error&&s.weak_password&&typeof s.weak_password=="object"&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.message&&typeof s.weak_password.message=="string"&&s.weak_password.reasons.reduce((e,i)=>e&&typeof i=="string",!0)&&(t.data.weak_password=s.weak_password),t}function Me(s){var t;return{data:{user:(t=s.user)!==null&&t!==void 0?t:s},error:null}}function Q_(s){return{data:s,error:null}}function tb(s){const{action_link:t,email_otp:e,hashed_token:i,redirect_to:n,verification_type:r}=s,o=Z_(s,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:e,hashed_token:i,redirect_to:n,verification_type:r},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function eb(s){return s}function sb(s){return s.access_token&&s.refresh_token&&s.expires_in}var ib=function(s,t){var e={};for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&t.indexOf(i)<0&&(e[i]=s[i]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(s);n<i.length;n++)t.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(s,i[n])&&(e[i[n]]=s[i[n]]);return e};class nb{constructor({url:t="",headers:e={},fetch:i}){this.url=t,this.headers=e,this.fetch=Gh(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,e="global"){try{return await U(this.fetch,"POST",`${this.url}/logout?scope=${e}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(i){if(V(i))return{data:null,error:i};throw i}}async inviteUserByEmail(t,e={}){try{return await U(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:e.data},headers:this.headers,redirectTo:e.redirectTo,xform:Me})}catch(i){if(V(i))return{data:{user:null},error:i};throw i}}async generateLink(t){try{const{options:e}=t,i=ib(t,["options"]),n=Object.assign(Object.assign({},i),e);return"newEmail"in i&&(n.new_email=i==null?void 0:i.newEmail,delete n.newEmail),await U(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:tb,redirectTo:e==null?void 0:e.redirectTo})}catch(e){if(V(e))return{data:{properties:null,user:null},error:e};throw e}}async createUser(t){try{return await U(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Me})}catch(e){if(V(e))return{data:{user:null},error:e};throw e}}async listUsers(t){var e,i,n,r,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},h=await U(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(e=t==null?void 0:t.page)===null||e===void 0?void 0:e.toString())!==null&&i!==void 0?i:"",per_page:(r=(n=t==null?void 0:t.perPage)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:""},xform:eb});if(h.error)throw h.error;const u=await h.json(),d=(o=h.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(l=(a=h.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(g=>{const m=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),p=JSON.parse(g.split(";")[1].split("=")[1]);c[`${p}Page`]=m}),c.total=parseInt(d)),{data:Object.assign(Object.assign({},u),c),error:null}}catch(c){if(V(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){try{return await U(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Me})}catch(e){if(V(e))return{data:{user:null},error:e};throw e}}async updateUserById(t,e){try{return await U(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:e,headers:this.headers,xform:Me})}catch(i){if(V(i))return{data:{user:null},error:i};throw i}}async deleteUser(t,e=!1){try{return await U(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:e},xform:Me})}catch(i){if(V(i))return{data:{user:null},error:i};throw i}}async _listFactors(t){try{const{data:e,error:i}=await U(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:e,error:i}}catch(e){if(V(e))return{data:null,error:e};throw e}}async _deleteFactor(t){try{return{data:await U(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(e){if(V(e))return{data:null,error:e};throw e}}}const rb={getItem:s=>yi()?globalThis.localStorage.getItem(s):null,setItem:(s,t)=>{yi()&&globalThis.localStorage.setItem(s,t)},removeItem:s=>{yi()&&globalThis.localStorage.removeItem(s)}};function Ul(s={}){return{getItem:t=>s[t]||null,setItem:(t,e)=>{s[t]=e},removeItem:t=>{delete s[t]}}}function ob(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const bs={debug:!!(globalThis&&yi()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Kh extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class ab extends Kh{}async function lb(s,t,e){bs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",s,t);const i=new globalThis.AbortController;return t>0&&setTimeout(()=>{i.abort(),bs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",s)},t),await globalThis.navigator.locks.request(s,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async n=>{if(n){bs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",s,n.name);try{return await e()}finally{bs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",s,n.name)}}else{if(t===0)throw bs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",s),new ab(`Acquiring an exclusive Navigator LockManager lock "${s}" immediately failed`);if(bs.debug)try{const r=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(r,null,"  "))}catch(r){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",r)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await e()}})}ob();const cb={url:A_,storageKey:P_,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:I_,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},ti=30*1e3,ql=3;async function Yl(s,t,e){return await e()}class Ci{constructor(t){var e,i;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ci.nextInstanceID,Ci.nextInstanceID+=1,this.instanceID>0&&qt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},cb),t);if(this.logDebugMessages=!!n.debug,typeof n.debug=="function"&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new nb({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=Gh(n.fetch),this.lock=n.lock||Yl,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:qt()&&(!((e=globalThis==null?void 0:globalThis.navigator)===null||e===void 0)&&e.locks)?this.lock=lb:this.lock=Yl,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?n.storage?this.storage=n.storage:yi()?this.storage=rb:(this.memoryStorage={},this.storage=Ul(this.memoryStorage)):(this.memoryStorage={},this.storage=Ul(this.memoryStorage)),qt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(r){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",r)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async r=>{this._debug("received broadcast notification from other tab or client",r),await this._notifyAllSubscribers(r.data.event,r.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${qh}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){try{const t=qt()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",t),t||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:e,error:i}=await this._getSessionFromURL(t);if(i)return this._debug("#_initialize()","error detecting session from URL",i),(i==null?void 0:i.message)==="Identity is already linked"||(i==null?void 0:i.message)==="Identity is already linked to another user"?{error:i}:(await this._removeSession(),{error:i});const{session:n,redirectType:r}=e;return this._debug("#_initialize()","detected session in URL",n,"redirect type",r),await this._saveSession(n),setTimeout(async()=>{r==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",n):await this._notifyAllSubscribers("SIGNED_IN",n)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return V(t)?{error:t}:{error:new Jh("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var e,i,n;try{await this._removeSession();const r=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(e=t==null?void 0:t.options)===null||e===void 0?void 0:e.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.captchaToken}},xform:Se}),{data:o,error:a}=r;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(r){if(V(r))return{data:{user:null,session:null},error:r};throw r}}async signUp(t){var e,i,n;try{await this._removeSession();let r;if("email"in t){const{email:h,password:u,options:d}=t;let f=null,g=null;this.flowType==="pkce"&&([f,g]=await _s(this.storage,this.storageKey)),r=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:d==null?void 0:d.emailRedirectTo,body:{email:h,password:u,data:(e=d==null?void 0:d.data)!==null&&e!==void 0?e:{},gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:f,code_challenge_method:g},xform:Se})}else if("phone"in t){const{phone:h,password:u,options:d}=t;r=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:u,data:(i=d==null?void 0:d.data)!==null&&i!==void 0?i:{},channel:(n=d==null?void 0:d.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:Se})}else throw new on("You must provide either an email or phone number and a password");const{data:o,error:a}=r;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(r){if(V(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithPassword(t){try{await this._removeSession();let e;if("email"in t){const{email:r,password:o,options:a}=t;e=await U(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:r,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Hl})}else if("phone"in t){const{phone:r,password:o,options:a}=t;e=await U(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:r,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Hl})}else throw new on("You must provide either an email or phone number and a password");const{data:i,error:n}=e;return n?{data:{user:null,session:null},error:n}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new Er}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:n})}catch(e){if(V(e))return{data:{user:null,session:null},error:e};throw e}}async signInWithOAuth(t){var e,i,n,r;return await this._removeSession(),await this._handleProviderSignIn(t.provider,{redirectTo:(e=t.options)===null||e===void 0?void 0:e.redirectTo,scopes:(i=t.options)===null||i===void 0?void 0:i.scopes,queryParams:(n=t.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(r=t.options)===null||r===void 0?void 0:r.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const e=await rn(this.storage,`${this.storageKey}-code-verifier`),[i,n]=(e??"").split("/"),{data:r,error:o}=await U(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:i},xform:Se});return await Mr(this.storage,`${this.storageKey}-code-verifier`),o?{data:{user:null,session:null,redirectType:null},error:o}:!r||!r.session||!r.user?{data:{user:null,session:null,redirectType:null},error:new Er}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign(Object.assign({},r),{redirectType:n??null}),error:o})}async signInWithIdToken(t){await this._removeSession();try{const{options:e,provider:i,token:n,access_token:r,nonce:o}=t,a=await U(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:n,access_token:r,nonce:o,gotrue_meta_security:{captcha_token:e==null?void 0:e.captchaToken}},xform:Se}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Er}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(e){if(V(e))return{data:{user:null,session:null},error:e};throw e}}async signInWithOtp(t){var e,i,n,r,o;try{if(await this._removeSession(),"email"in t){const{email:a,options:l}=t;let c=null,h=null;this.flowType==="pkce"&&([c,h]=await _s(this.storage,this.storageKey));const{error:u}=await U(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(e=l==null?void 0:l.data)!==null&&e!==void 0?e:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:h},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:u}}if("phone"in t){const{phone:a,options:l}=t,{data:c,error:h}=await U(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:h}}throw new on("You must provide either an email or phone number.")}catch(a){if(V(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var e,i;try{t.type!=="email_change"&&t.type!=="phone_change"&&await this._removeSession();let n,r;"options"in t&&(n=(e=t.options)===null||e===void 0?void 0:e.redirectTo,r=(i=t.options)===null||i===void 0?void 0:i.captchaToken);const{data:o,error:a}=await U(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:r}}),redirectTo:n,xform:Se});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(n){if(V(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithSSO(t){var e,i,n;try{await this._removeSession();let r=null,o=null;return this.flowType==="pkce"&&([r,o]=await _s(this.storage,this.storageKey)),await U(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(i=(e=t.options)===null||e===void 0?void 0:e.redirectTo)!==null&&i!==void 0?i:void 0}),!((n=t==null?void 0:t.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:r,code_challenge_method:o}),headers:this.headers,xform:Q_})}catch(r){if(V(r))return{data:null,error:r};throw r}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:e},error:i}=t;if(i)throw i;if(!e)throw new qe;const{error:n}=await U(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:e.access_token});return{data:{user:null,session:null},error:n}})}catch(t){if(V(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{t.type!="email_change"&&t.type!="phone_change"&&await this._removeSession();const e=`${this.url}/resend`;if("email"in t){const{email:i,type:n,options:r}=t,{error:o}=await U(this.fetch,"POST",e,{headers:this.headers,body:{email:i,type:n,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},redirectTo:r==null?void 0:r.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:i,type:n,options:r}=t,{data:o,error:a}=await U(this.fetch,"POST",e,{headers:this.headers,body:{phone:i,type:n,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new on("You must provide either an email or phone number and a type")}catch(e){if(V(e))return{data:{user:null,session:null},error:e};throw e}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async e=>e))}async _acquireLock(t,e){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await i,await e()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=e();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const n=[...this.pendingInLock];await Promise.all(n),this.pendingInLock.splice(0,n.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const e=await this.__loadSession();return await t(e)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const e=await rn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",e),e!==null&&(this._isValidSession(e)?t=e:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const i=t.expires_at?t.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",t.expires_at),!i){if(this.storage.isServer){const o=this.suppressGetSessionWarning;t=new Proxy(t,{get(l,c,h){return!o&&c==="user"&&console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and many not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),Reflect.get(l,c,h)}})}return{data:{session:t},error:null}}const{session:n,error:r}=await this._callRefreshToken(t.refresh_token);return r?{data:{session:null},error:r}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await U(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Me}):await this._useSession(async e=>{var i,n,r;const{data:o,error:a}=e;if(a)throw a;return!(!((i=o.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new qe}:await U(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(r=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&r!==void 0?r:void 0,xform:Me})})}catch(e){if(V(e))return{data:{user:null},error:e};throw e}}async updateUser(t,e={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,e))}async _updateUser(t,e={}){try{return await this._useSession(async i=>{const{data:n,error:r}=i;if(r)throw r;if(!n.session)throw new qe;const o=n.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await _s(this.storage,this.storageKey));const{data:c,error:h}=await U(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:e==null?void 0:e.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Me});if(h)throw h;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(i){if(V(i))return{data:{user:null},error:i};throw i}}_decodeJWT(t){return zl(t)}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new qe;const e=Date.now()/1e3;let i=e,n=!0,r=null;const o=zl(t.access_token);if(o.exp&&(i=o.exp,n=i<=e),n){const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};r=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;r={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:i-e,expires_at:i},await this._saveSession(r),await this._notifyAllSubscribers("SIGNED_IN",r)}return{data:{user:r.user,session:r},error:null}}catch(e){if(V(e))return{data:{session:null,user:null},error:e};throw e}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async e=>{var i;if(!t){const{data:o,error:a}=e;if(a)throw a;t=(i=o.session)!==null&&i!==void 0?i:void 0}if(!(t!=null&&t.refresh_token))throw new qe;const{session:n,error:r}=await this._callRefreshToken(t.refresh_token);return r?{data:{user:null,session:null},error:r}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}})}catch(e){if(V(e))return{data:{user:null,session:null},error:e};throw e}}async _getSessionFromURL(t){try{if(!qt())throw new an("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new an("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!t)throw new Vl("Not a valid PKCE flow url.");const e=Tr(window.location.href);if(t){if(!e.code)throw new Vl("No code detected.");const{data:_,error:w}=await this._exchangeCodeForSession(e.code);if(w)throw w;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:_.session,redirectType:null},error:null}}if(e.error||e.error_description||e.error_code)throw new an(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});const{provider_token:i,provider_refresh_token:n,access_token:r,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=e;if(!r||!a||!o||!c)throw new an("No session defined in URL");const h=Math.round(Date.now()/1e3),u=parseInt(a);let d=h+u;l&&(d=parseInt(l));const f=d-h;f*1e3<=ti&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${u}s`);const g=d-u;h-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,d,h):h-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clok for skew",g,d,h);const{data:m,error:p}=await this._getUser(r);if(p)throw p;const y={provider_token:i,provider_refresh_token:n,access_token:r,expires_in:u,expires_at:d,refresh_token:o,token_type:c,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:e.type},error:null}}catch(e){if(V(e))return{data:{session:null,redirectType:null},error:e};throw e}}_isImplicitGrantFlow(){const t=Tr(window.location.href);return!!(qt()&&(t.access_token||t.error_description))}async _isPKCEFlow(){const t=Tr(window.location.href),e=await rn(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&e)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async e=>{var i;const{data:n,error:r}=e;if(r)return{error:r};const o=(i=n.session)===null||i===void 0?void 0:i.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(G_(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await Mr(this.storage,`${this.storageKey}-code-verifier`),await this._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}})}onAuthStateChange(t){const e=R_(),i={id:e,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",e),this.stateChangeEmitters.delete(e)}};return this._debug("#onAuthStateChange()","registered callback with id",e),this.stateChangeEmitters.set(e,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(e)})))(),{data:{subscription:i}}}async _emitInitialSession(t){return await this._useSession(async e=>{var i,n;try{const{data:{session:r},error:o}=e;if(o)throw o;await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",r)),this._debug("INITIAL_SESSION","callback id",t,"session",r)}catch(r){await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",r),console.error(r)}})}async resetPasswordForEmail(t,e={}){let i=null,n=null;this.flowType==="pkce"&&([i,n]=await _s(this.storage,this.storageKey,!0));try{return await U(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:i,code_challenge_method:n,gotrue_meta_security:{captcha_token:e.captchaToken}},headers:this.headers,redirectTo:e.redirectTo})}catch(r){if(V(r))return{data:null,error:r};throw r}}async getUserIdentities(){var t;try{const{data:e,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(t=e.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(e){if(V(e))return{data:null,error:e};throw e}}async linkIdentity(t){var e;try{const{data:i,error:n}=await this._useSession(async r=>{var o,a,l,c,h;const{data:u,error:d}=r;if(d)throw d;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await U(this.fetch,"GET",f,{headers:this.headers,jwt:(h=(c=u.session)===null||c===void 0?void 0:c.access_token)!==null&&h!==void 0?h:void 0})});if(n)throw n;return qt()&&!(!((e=t.options)===null||e===void 0)&&e.skipBrowserRedirect)&&window.location.assign(i==null?void 0:i.url),{data:{provider:t.provider,url:i==null?void 0:i.url},error:null}}catch(i){if(V(i))return{data:{provider:t.provider,url:null},error:i};throw i}}async unlinkIdentity(t){try{return await this._useSession(async e=>{var i,n;const{data:r,error:o}=e;if(o)throw o;return await U(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(n=(i=r.session)===null||i===void 0?void 0:i.access_token)!==null&&n!==void 0?n:void 0})})}catch(e){if(V(e))return{data:null,error:e};throw e}}async _refreshAccessToken(t){const e=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(e,"begin");try{const i=Date.now();return await j_(async n=>(n>0&&await F_(200*Math.pow(2,n-1)),this._debug(e,"refreshing attempt",n),await U(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Se})),(n,r)=>{const o=200*Math.pow(2,n);return r&&Cr(r)&&Date.now()+o-i<ti})}catch(i){if(this._debug(e,"error",i),V(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(e,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,e){const i=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:e.redirectTo,scopes:e.scopes,queryParams:e.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",e,"url",i),qt()&&!e.skipBrowserRedirect&&window.location.assign(i),{data:{provider:t,url:i},error:null}}async _recoverAndRefresh(){var t;const e="#_recoverAndRefresh()";this._debug(e,"begin");try{const i=await rn(this.storage,this.storageKey);if(this._debug(e,"session from storage",i),!this._isValidSession(i)){this._debug(e,"session is not valid"),i!==null&&await this._removeSession();return}const n=Math.round(Date.now()/1e3),r=((t=i.expires_at)!==null&&t!==void 0?t:1/0)<n+jl;if(this._debug(e,`session has${r?"":" not"} expired with margin of ${jl}s`),r){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),Cr(o)||(this._debug(e,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(e,"error",i),console.error(i);return}finally{this._debug(e,"end")}}async _callRefreshToken(t){var e,i;if(!t)throw new qe;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new tr;const{data:r,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!r.session)throw new qe;await this._saveSession(r.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",r.session);const a={session:r.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(r){if(this._debug(n,"error",r),V(r)){const o={session:null,error:r};return Cr(r)||(await this._removeSession(),await this._notifyAllSubscribers("SIGNED_OUT",null)),(e=this.refreshingDeferred)===null||e===void 0||e.resolve(o),o}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(r),r}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(t,e,i=!0){const n=`#_notifyAllSubscribers(${t})`;this._debug(n,"begin",e,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:t,session:e});const r=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,e)}catch(l){r.push(l)}});if(await Promise.all(o),r.length>0){for(let a=0;a<r.length;a+=1)console.error(r[a]);throw r[0]}}finally{this._debug(n,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Zh(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Mr(this.storage,this.storageKey)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&qt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(e){console.error("removing visibilitychange callback failed",e)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ti);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async e=>{const{data:{session:i}}=e;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((i.expires_at*1e3-t)/ti);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${ti}ms, refresh threshold is ${ql} ticks`),n<=ql&&await this._callRefreshToken(i.refresh_token)})}catch(e){console.error("Auto refresh tick failed with error. This is likely a transient error.",e)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Kh)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!qt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const e=`#_onVisibilityChanged(${t})`;this._debug(e,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(e,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,e,i){const n=[`provider=${encodeURIComponent(e)}`];if(i!=null&&i.redirectTo&&n.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i!=null&&i.scopes&&n.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[r,o]=await _s(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(r)}`,code_challenge_method:`${encodeURIComponent(o)}`});n.push(a.toString())}if(i!=null&&i.queryParams){const r=new URLSearchParams(i.queryParams);n.push(r.toString())}return i!=null&&i.skipBrowserRedirect&&n.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${t}?${n.join("&")}`}async _unenroll(t){try{return await this._useSession(async e=>{var i;const{data:n,error:r}=e;return r?{data:null,error:r}:await U(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(i=n==null?void 0:n.session)===null||i===void 0?void 0:i.access_token})})}catch(e){if(V(e))return{data:null,error:e};throw e}}async _enroll(t){try{return await this._useSession(async e=>{var i,n;const{data:r,error:o}=e;if(o)return{data:null,error:o};const{data:a,error:l}=await U(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:t.friendlyName,factor_type:t.factorType,issuer:t.issuer},headers:this.headers,jwt:(i=r==null?void 0:r.session)===null||i===void 0?void 0:i.access_token});return l?{data:null,error:l}:(!((n=a==null?void 0:a.totp)===null||n===void 0)&&n.qr_code&&(a.totp.qr_code=`data:image/svg+xml;utf-8,${a.totp.qr_code}`),{data:a,error:null})})}catch(e){if(V(e))return{data:null,error:e};throw e}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async e=>{var i;const{data:n,error:r}=e;if(r)return{data:null,error:r};const{data:o,error:a}=await U(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(i=n==null?void 0:n.session)===null||i===void 0?void 0:i.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(e){if(V(e))return{data:null,error:e};throw e}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async e=>{var i;const{data:n,error:r}=e;return r?{data:null,error:r}:await U(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{headers:this.headers,jwt:(i=n==null?void 0:n.session)===null||i===void 0?void 0:i.access_token})})}catch(e){if(V(e))return{data:null,error:e};throw e}})}async _challengeAndVerify(t){const{data:e,error:i}=await this._challenge({factorId:t.factorId});return i?{data:null,error:i}:await this._verify({factorId:t.factorId,challengeId:e.id,code:t.code})}async _listFactors(){const{data:{user:t},error:e}=await this.getUser();if(e)return{data:null,error:e};const i=(t==null?void 0:t.factors)||[],n=i.filter(r=>r.factor_type==="totp"&&r.status==="verified");return{data:{all:i,totp:n},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var e,i;const{data:{session:n},error:r}=t;if(r)return{data:null,error:r};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(n.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((i=(e=n.user.factors)===null||e===void 0?void 0:e.filter(u=>u.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(l="aal2");const h=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:h},error:null}}))}}Ci.nextInstanceID=0;const hb=Ci;class ub extends hb{constructor(t){super(t)}}var db=function(s,t,e,i){function n(r){return r instanceof e?r:new e(function(o){o(r)})}return new(e||(e=Promise))(function(r,o){function a(h){try{c(i.next(h))}catch(u){o(u)}}function l(h){try{c(i.throw(h))}catch(u){o(u)}}function c(h){h.done?r(h.value):n(h.value).then(a,l)}c((i=i.apply(s,t||[])).next())})};class fb{constructor(t,e,i){var n,r,o,a,l,c,h,u;if(this.supabaseUrl=t,this.supabaseKey=e,!t)throw new Error("supabaseUrl is required.");if(!e)throw new Error("supabaseKey is required.");const d=C_(t);this.realtimeUrl=`${d}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${d}/auth/v1`,this.storageUrl=`${d}/storage/v1`,this.functionsUrl=`${d}/functions/v1`;const f=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,g={db:x_,realtime:S_,auth:Object.assign(Object.assign({},k_),{storageKey:f}),global:w_},m=D_(i??{},g);this.storageKey=(r=(n=m.auth)===null||n===void 0?void 0:n.storageKey)!==null&&r!==void 0?r:"",this.headers=(a=(o=m.global)===null||o===void 0?void 0:o.headers)!==null&&a!==void 0?a:{},this.auth=this._initSupabaseAuthClient((l=m.auth)!==null&&l!==void 0?l:{},this.headers,(c=m.global)===null||c===void 0?void 0:c.fetch),this.fetch=E_(e,this._getAccessToken.bind(this),(h=m.global)===null||h===void 0?void 0:h.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},m.realtime)),this.rest=new Wo(`${d}/rest/v1`,{headers:this.headers,schema:(u=m.db)===null||u===void 0?void 0:u.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new Ry(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new __(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},i={}){return this.rest.rpc(t,e,i)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,e;return db(this,void 0,void 0,function*(){const{data:i}=yield this.auth.getSession();return(e=(t=i.session)===null||t===void 0?void 0:t.access_token)!==null&&e!==void 0?e:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:i,storage:n,storageKey:r,flowType:o,debug:a},l,c){var h;const u={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ub({url:this.authUrl,headers:Object.assign(Object.assign({},u),l),storageKey:r,autoRefreshToken:t,persistSession:e,detectSessionInUrl:i,storage:n,flowType:o,debug:a,fetch:c,hasCustomAuthorizationHeader:(h="Authorization"in this.headers)!==null&&h!==void 0?h:!1})}_initRealtimeClient(t){return new r_(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,i)=>{this._handleTokenChanged(e,"CLIENT",i==null?void 0:i.access_token)})}_handleTokenChanged(t,e,i){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==i?(this.realtime.setAuth(i??null),this.changedAccessToken=i):t==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const gb=(s,t,e)=>new fb(s,t,e),mb="https://qipnvyttafkjlwfkolsq.supabase.co",pb="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFpcG52eXR0YWZramx3ZmtvbHNxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTIwNTc5NzksImV4cCI6MjAyNzYzMzk3OX0.8D2UoQHC89N9KQDej-5v1N13n6mCSjP0WiO_xs2Vh34",Qt=gb(mb,pb);let Vt,$i=Xn(),er=Xn();async function yb(){let{data:s,error:t}=await Qt.auth.getUser();if(t)return console.log("Not logged in!"),!1;if(s.user&&s.user.email)return console.log(s),Vt=s.user,$i.set(s.user.id),er.set(s.user.email),!0}async function _b(s){Vt=s.detail}class us extends Error{}class bb extends us{constructor(t){super(`Invalid DateTime: ${t.toMessage()}`)}}class vb extends us{constructor(t){super(`Invalid Interval: ${t.toMessage()}`)}}class wb extends us{constructor(t){super(`Invalid Duration: ${t.toMessage()}`)}}class Ss extends us{}class Xh extends us{constructor(t){super(`Invalid unit ${t}`)}}class Et extends us{}class xe extends us{constructor(){super("Zone is an abstract class")}}const C="numeric",Xt="short",Lt="long",Fn={year:C,month:C,day:C},Qh={year:C,month:Xt,day:C},xb={year:C,month:Xt,day:C,weekday:Xt},tu={year:C,month:Lt,day:C},eu={year:C,month:Lt,day:C,weekday:Lt},su={hour:C,minute:C},iu={hour:C,minute:C,second:C},nu={hour:C,minute:C,second:C,timeZoneName:Xt},ru={hour:C,minute:C,second:C,timeZoneName:Lt},ou={hour:C,minute:C,hourCycle:"h23"},au={hour:C,minute:C,second:C,hourCycle:"h23"},lu={hour:C,minute:C,second:C,hourCycle:"h23",timeZoneName:Xt},cu={hour:C,minute:C,second:C,hourCycle:"h23",timeZoneName:Lt},hu={year:C,month:C,day:C,hour:C,minute:C},uu={year:C,month:C,day:C,hour:C,minute:C,second:C},du={year:C,month:Xt,day:C,hour:C,minute:C},fu={year:C,month:Xt,day:C,hour:C,minute:C,second:C},kb={year:C,month:Xt,day:C,weekday:Xt,hour:C,minute:C},gu={year:C,month:Lt,day:C,hour:C,minute:C,timeZoneName:Xt},mu={year:C,month:Lt,day:C,hour:C,minute:C,second:C,timeZoneName:Xt},pu={year:C,month:Lt,day:C,weekday:Lt,hour:C,minute:C,timeZoneName:Lt},yu={year:C,month:Lt,day:C,weekday:Lt,hour:C,minute:C,second:C,timeZoneName:Lt};class Ni{get type(){throw new xe}get name(){throw new xe}get ianaName(){return this.name}get isUniversal(){throw new xe}offsetName(t,e){throw new xe}formatOffset(t,e){throw new xe}offset(t){throw new xe}equals(t){throw new xe}get isValid(){throw new xe}}let Dr=null;class sr extends Ni{static get instance(){return Dr===null&&(Dr=new sr),Dr}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(t,{format:e,locale:i}){return Tu(t,e,i)}formatOffset(t,e){return _i(this.offset(t),e)}offset(t){return-new Date(t).getTimezoneOffset()}equals(t){return t.type==="system"}get isValid(){return!0}}let On={};function Sb(s){return On[s]||(On[s]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:s,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),On[s]}const Ob={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function Tb(s,t){const e=s.format(t).replace(/\u200E/g,""),i=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(e),[,n,r,o,a,l,c,h]=i;return[o,n,r,a,l,c,h]}function Mb(s,t){const e=s.formatToParts(t),i=[];for(let n=0;n<e.length;n++){const{type:r,value:o}=e[n],a=Ob[r];r==="era"?i[a]=o:L(a)||(i[a]=parseInt(o,10))}return i}let ln={};class ve extends Ni{static create(t){return ln[t]||(ln[t]=new ve(t)),ln[t]}static resetCache(){ln={},On={}}static isValidSpecifier(t){return this.isValidZone(t)}static isValidZone(t){if(!t)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:t}).format(),!0}catch{return!1}}constructor(t){super(),this.zoneName=t,this.valid=ve.isValidZone(t)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(t,{format:e,locale:i}){return Tu(t,e,i,this.name)}formatOffset(t,e){return _i(this.offset(t),e)}offset(t){const e=new Date(t);if(isNaN(e))return NaN;const i=Sb(this.name);let[n,r,o,a,l,c,h]=i.formatToParts?Mb(i,e):Tb(i,e);a==="BC"&&(n=-Math.abs(n)+1);const d=nr({year:n,month:r,day:o,hour:l===24?0:l,minute:c,second:h,millisecond:0});let f=+e;const g=f%1e3;return f-=g>=0?g:1e3+g,(d-f)/(60*1e3)}equals(t){return t.type==="iana"&&t.name===this.name}get isValid(){return this.valid}}let Gl={};function Eb(s,t={}){const e=JSON.stringify([s,t]);let i=Gl[e];return i||(i=new Intl.ListFormat(s,t),Gl[e]=i),i}let ho={};function uo(s,t={}){const e=JSON.stringify([s,t]);let i=ho[e];return i||(i=new Intl.DateTimeFormat(s,t),ho[e]=i),i}let fo={};function Cb(s,t={}){const e=JSON.stringify([s,t]);let i=fo[e];return i||(i=new Intl.NumberFormat(s,t),fo[e]=i),i}let go={};function Db(s,t={}){const{base:e,...i}=t,n=JSON.stringify([s,i]);let r=go[n];return r||(r=new Intl.RelativeTimeFormat(s,t),go[n]=r),r}let hi=null;function Ab(){return hi||(hi=new Intl.DateTimeFormat().resolvedOptions().locale,hi)}let Zl={};function Pb(s){let t=Zl[s];if(!t){const e=new Intl.Locale(s);t="getWeekInfo"in e?e.getWeekInfo():e.weekInfo,Zl[s]=t}return t}function Ib(s){const t=s.indexOf("-x-");t!==-1&&(s=s.substring(0,t));const e=s.indexOf("-u-");if(e===-1)return[s];{let i,n;try{i=uo(s).resolvedOptions(),n=s}catch{const l=s.substring(0,e);i=uo(l).resolvedOptions(),n=l}const{numberingSystem:r,calendar:o}=i;return[n,r,o]}}function Lb(s,t,e){return(e||t)&&(s.includes("-u-")||(s+="-u"),e&&(s+=`-ca-${e}`),t&&(s+=`-nu-${t}`)),s}function Rb(s){const t=[];for(let e=1;e<=12;e++){const i=I.utc(2009,e,1);t.push(s(i))}return t}function $b(s){const t=[];for(let e=1;e<=7;e++){const i=I.utc(2016,11,13+e);t.push(s(i))}return t}function cn(s,t,e,i){const n=s.listingMode();return n==="error"?null:n==="en"?e(t):i(t)}function Nb(s){return s.numberingSystem&&s.numberingSystem!=="latn"?!1:s.numberingSystem==="latn"||!s.locale||s.locale.startsWith("en")||new Intl.DateTimeFormat(s.intl).resolvedOptions().numberingSystem==="latn"}class Fb{constructor(t,e,i){this.padTo=i.padTo||0,this.floor=i.floor||!1;const{padTo:n,floor:r,...o}=i;if(!e||Object.keys(o).length>0){const a={useGrouping:!1,...i};i.padTo>0&&(a.minimumIntegerDigits=i.padTo),this.inf=Cb(t,a)}}format(t){if(this.inf){const e=this.floor?Math.floor(t):t;return this.inf.format(e)}else{const e=this.floor?Math.floor(t):Zo(t,3);return ft(e,this.padTo)}}}class jb{constructor(t,e,i){this.opts=i,this.originalZone=void 0;let n;if(this.opts.timeZone)this.dt=t;else if(t.zone.type==="fixed"){const o=-1*(t.offset/60),a=o>=0?`Etc/GMT+${o}`:`Etc/GMT${o}`;t.offset!==0&&ve.create(a).valid?(n=a,this.dt=t):(n="UTC",this.dt=t.offset===0?t:t.setZone("UTC").plus({minutes:t.offset}),this.originalZone=t.zone)}else t.zone.type==="system"?this.dt=t:t.zone.type==="iana"?(this.dt=t,n=t.zone.name):(n="UTC",this.dt=t.setZone("UTC").plus({minutes:t.offset}),this.originalZone=t.zone);const r={...this.opts};r.timeZone=r.timeZone||n,this.dtf=uo(e,r)}format(){return this.originalZone?this.formatToParts().map(({value:t})=>t).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const t=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?t.map(e=>{if(e.type==="timeZoneName"){const i=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...e,value:i}}else return e}):t}resolvedOptions(){return this.dtf.resolvedOptions()}}class zb{constructor(t,e,i){this.opts={style:"long",...i},!e&&Su()&&(this.rtf=Db(t,i))}format(t,e){return this.rtf?this.rtf.format(t,e):o0(e,t,this.opts.numeric,this.opts.style!=="long")}formatToParts(t,e){return this.rtf?this.rtf.formatToParts(t,e):[]}}const Vb={firstDay:1,minimalDays:4,weekend:[6,7]};class J{static fromOpts(t){return J.create(t.locale,t.numberingSystem,t.outputCalendar,t.weekSettings,t.defaultToEN)}static create(t,e,i,n,r=!1){const o=t||ct.defaultLocale,a=o||(r?"en-US":Ab()),l=e||ct.defaultNumberingSystem,c=i||ct.defaultOutputCalendar,h=mo(n)||ct.defaultWeekSettings;return new J(a,l,c,h,o)}static resetCache(){hi=null,ho={},fo={},go={}}static fromObject({locale:t,numberingSystem:e,outputCalendar:i,weekSettings:n}={}){return J.create(t,e,i,n)}constructor(t,e,i,n,r){const[o,a,l]=Ib(t);this.locale=o,this.numberingSystem=e||a||null,this.outputCalendar=i||l||null,this.weekSettings=n,this.intl=Lb(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=r,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=Nb(this)),this.fastNumbersCached}listingMode(){const t=this.isEnglish(),e=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return t&&e?"en":"intl"}clone(t){return!t||Object.getOwnPropertyNames(t).length===0?this:J.create(t.locale||this.specifiedLocale,t.numberingSystem||this.numberingSystem,t.outputCalendar||this.outputCalendar,mo(t.weekSettings)||this.weekSettings,t.defaultToEN||!1)}redefaultToEN(t={}){return this.clone({...t,defaultToEN:!0})}redefaultToSystem(t={}){return this.clone({...t,defaultToEN:!1})}months(t,e=!1){return cn(this,t,Cu,()=>{const i=e?{month:t,day:"numeric"}:{month:t},n=e?"format":"standalone";return this.monthsCache[n][t]||(this.monthsCache[n][t]=Rb(r=>this.extract(r,i,"month"))),this.monthsCache[n][t]})}weekdays(t,e=!1){return cn(this,t,Pu,()=>{const i=e?{weekday:t,year:"numeric",month:"long",day:"numeric"}:{weekday:t},n=e?"format":"standalone";return this.weekdaysCache[n][t]||(this.weekdaysCache[n][t]=$b(r=>this.extract(r,i,"weekday"))),this.weekdaysCache[n][t]})}meridiems(){return cn(this,void 0,()=>Iu,()=>{if(!this.meridiemCache){const t={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[I.utc(2016,11,13,9),I.utc(2016,11,13,19)].map(e=>this.extract(e,t,"dayperiod"))}return this.meridiemCache})}eras(t){return cn(this,t,Lu,()=>{const e={era:t};return this.eraCache[t]||(this.eraCache[t]=[I.utc(-40,1,1),I.utc(2017,1,1)].map(i=>this.extract(i,e,"era"))),this.eraCache[t]})}extract(t,e,i){const n=this.dtFormatter(t,e),r=n.formatToParts(),o=r.find(a=>a.type.toLowerCase()===i);return o?o.value:null}numberFormatter(t={}){return new Fb(this.intl,t.forceSimple||this.fastNumbers,t)}dtFormatter(t,e={}){return new jb(t,this.intl,e)}relFormatter(t={}){return new zb(this.intl,this.isEnglish(),t)}listFormatter(t={}){return Eb(this.intl,t)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:Ou()?Pb(this.locale):Vb}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(t){return this.locale===t.locale&&this.numberingSystem===t.numberingSystem&&this.outputCalendar===t.outputCalendar}}let Ar=null;class Tt extends Ni{static get utcInstance(){return Ar===null&&(Ar=new Tt(0)),Ar}static instance(t){return t===0?Tt.utcInstance:new Tt(t)}static parseSpecifier(t){if(t){const e=t.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(e)return new Tt(rr(e[1],e[2]))}return null}constructor(t){super(),this.fixed=t}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${_i(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${_i(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(t,e){return _i(this.fixed,e)}get isUniversal(){return!0}offset(){return this.fixed}equals(t){return t.type==="fixed"&&t.fixed===this.fixed}get isValid(){return!0}}class Wb extends Ni{constructor(t){super(),this.zoneName=t}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function Ee(s,t){if(L(s)||s===null)return t;if(s instanceof Ni)return s;if(Ub(s)){const e=s.toLowerCase();return e==="default"?t:e==="local"||e==="system"?sr.instance:e==="utc"||e==="gmt"?Tt.utcInstance:Tt.parseSpecifier(e)||ve.create(s)}else return ns(s)?Tt.instance(s):typeof s=="object"&&"offset"in s&&typeof s.offset=="function"?s:new Wb(s)}let Jl=()=>Date.now(),Kl="system",Xl=null,Ql=null,tc=null,ec=60,sc,ic=null;class ct{static get now(){return Jl}static set now(t){Jl=t}static set defaultZone(t){Kl=t}static get defaultZone(){return Ee(Kl,sr.instance)}static get defaultLocale(){return Xl}static set defaultLocale(t){Xl=t}static get defaultNumberingSystem(){return Ql}static set defaultNumberingSystem(t){Ql=t}static get defaultOutputCalendar(){return tc}static set defaultOutputCalendar(t){tc=t}static get defaultWeekSettings(){return ic}static set defaultWeekSettings(t){ic=mo(t)}static get twoDigitCutoffYear(){return ec}static set twoDigitCutoffYear(t){ec=t%100}static get throwOnInvalid(){return sc}static set throwOnInvalid(t){sc=t}static resetCaches(){J.resetCache(),ve.resetCache()}}class Zt{constructor(t,e){this.reason=t,this.explanation=e}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const _u=[0,31,59,90,120,151,181,212,243,273,304,334],bu=[0,31,60,91,121,152,182,213,244,274,305,335];function jt(s,t){return new Zt("unit out of range",`you specified ${t} (of type ${typeof t}) as a ${s}, which is invalid`)}function qo(s,t,e){const i=new Date(Date.UTC(s,t-1,e));s<100&&s>=0&&i.setUTCFullYear(i.getUTCFullYear()-1900);const n=i.getUTCDay();return n===0?7:n}function vu(s,t,e){return e+(Fi(s)?bu:_u)[t-1]}function wu(s,t){const e=Fi(s)?bu:_u,i=e.findIndex(r=>r<t),n=t-e[i];return{month:i+1,day:n}}function Yo(s,t){return(s-t+7)%7+1}function jn(s,t=4,e=1){const{year:i,month:n,day:r}=s,o=vu(i,n,r),a=Yo(qo(i,n,r),e);let l=Math.floor((o-a+14-t)/7),c;return l<1?(c=i-1,l=Di(c,t,e)):l>Di(i,t,e)?(c=i+1,l=1):c=i,{weekYear:c,weekNumber:l,weekday:a,...or(s)}}function nc(s,t=4,e=1){const{weekYear:i,weekNumber:n,weekday:r}=s,o=Yo(qo(i,1,t),e),a=Cs(i);let l=n*7+r-o-7+t,c;l<1?(c=i-1,l+=Cs(c)):l>a?(c=i+1,l-=Cs(i)):c=i;const{month:h,day:u}=wu(c,l);return{year:c,month:h,day:u,...or(s)}}function Pr(s){const{year:t,month:e,day:i}=s,n=vu(t,e,i);return{year:t,ordinal:n,...or(s)}}function rc(s){const{year:t,ordinal:e}=s,{month:i,day:n}=wu(t,e);return{year:t,month:i,day:n,...or(s)}}function oc(s,t){if(!L(s.localWeekday)||!L(s.localWeekNumber)||!L(s.localWeekYear)){if(!L(s.weekday)||!L(s.weekNumber)||!L(s.weekYear))throw new Ss("Cannot mix locale-based week fields with ISO-based week fields");return L(s.localWeekday)||(s.weekday=s.localWeekday),L(s.localWeekNumber)||(s.weekNumber=s.localWeekNumber),L(s.localWeekYear)||(s.weekYear=s.localWeekYear),delete s.localWeekday,delete s.localWeekNumber,delete s.localWeekYear,{minDaysInFirstWeek:t.getMinDaysInFirstWeek(),startOfWeek:t.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function Bb(s,t=4,e=1){const i=ir(s.weekYear),n=zt(s.weekNumber,1,Di(s.weekYear,t,e)),r=zt(s.weekday,1,7);return i?n?r?!1:jt("weekday",s.weekday):jt("week",s.weekNumber):jt("weekYear",s.weekYear)}function Hb(s){const t=ir(s.year),e=zt(s.ordinal,1,Cs(s.year));return t?e?!1:jt("ordinal",s.ordinal):jt("year",s.year)}function xu(s){const t=ir(s.year),e=zt(s.month,1,12),i=zt(s.day,1,zn(s.year,s.month));return t?e?i?!1:jt("day",s.day):jt("month",s.month):jt("year",s.year)}function ku(s){const{hour:t,minute:e,second:i,millisecond:n}=s,r=zt(t,0,23)||t===24&&e===0&&i===0&&n===0,o=zt(e,0,59),a=zt(i,0,59),l=zt(n,0,999);return r?o?a?l?!1:jt("millisecond",n):jt("second",i):jt("minute",e):jt("hour",t)}function L(s){return typeof s>"u"}function ns(s){return typeof s=="number"}function ir(s){return typeof s=="number"&&s%1===0}function Ub(s){return typeof s=="string"}function qb(s){return Object.prototype.toString.call(s)==="[object Date]"}function Su(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function Ou(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function Yb(s){return Array.isArray(s)?s:[s]}function ac(s,t,e){if(s.length!==0)return s.reduce((i,n)=>{const r=[t(n),n];return i&&e(i[0],r[0])===i[0]?i:r},null)[1]}function Gb(s,t){return t.reduce((e,i)=>(e[i]=s[i],e),{})}function js(s,t){return Object.prototype.hasOwnProperty.call(s,t)}function mo(s){if(s==null)return null;if(typeof s!="object")throw new Et("Week settings must be an object");if(!zt(s.firstDay,1,7)||!zt(s.minimalDays,1,7)||!Array.isArray(s.weekend)||s.weekend.some(t=>!zt(t,1,7)))throw new Et("Invalid week settings");return{firstDay:s.firstDay,minimalDays:s.minimalDays,weekend:Array.from(s.weekend)}}function zt(s,t,e){return ir(s)&&s>=t&&s<=e}function Zb(s,t){return s-t*Math.floor(s/t)}function ft(s,t=2){const e=s<0;let i;return e?i="-"+(""+-s).padStart(t,"0"):i=(""+s).padStart(t,"0"),i}function Te(s){if(!(L(s)||s===null||s===""))return parseInt(s,10)}function Ye(s){if(!(L(s)||s===null||s===""))return parseFloat(s)}function Go(s){if(!(L(s)||s===null||s==="")){const t=parseFloat("0."+s)*1e3;return Math.floor(t)}}function Zo(s,t,e=!1){const i=10**t;return(e?Math.trunc:Math.round)(s*i)/i}function Fi(s){return s%4===0&&(s%100!==0||s%400===0)}function Cs(s){return Fi(s)?366:365}function zn(s,t){const e=Zb(t-1,12)+1,i=s+(t-e)/12;return e===2?Fi(i)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][e-1]}function nr(s){let t=Date.UTC(s.year,s.month-1,s.day,s.hour,s.minute,s.second,s.millisecond);return s.year<100&&s.year>=0&&(t=new Date(t),t.setUTCFullYear(s.year,s.month-1,s.day)),+t}function lc(s,t,e){return-Yo(qo(s,1,t),e)+t-1}function Di(s,t=4,e=1){const i=lc(s,t,e),n=lc(s+1,t,e);return(Cs(s)-i+n)/7}function po(s){return s>99?s:s>ct.twoDigitCutoffYear?1900+s:2e3+s}function Tu(s,t,e,i=null){const n=new Date(s),r={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};i&&(r.timeZone=i);const o={timeZoneName:t,...r},a=new Intl.DateTimeFormat(e,o).formatToParts(n).find(l=>l.type.toLowerCase()==="timezonename");return a?a.value:null}function rr(s,t){let e=parseInt(s,10);Number.isNaN(e)&&(e=0);const i=parseInt(t,10)||0,n=e<0||Object.is(e,-0)?-i:i;return e*60+n}function Mu(s){const t=Number(s);if(typeof s=="boolean"||s===""||Number.isNaN(t))throw new Et(`Invalid unit value ${s}`);return t}function Vn(s,t){const e={};for(const i in s)if(js(s,i)){const n=s[i];if(n==null)continue;e[t(i)]=Mu(n)}return e}function _i(s,t){const e=Math.trunc(Math.abs(s/60)),i=Math.trunc(Math.abs(s%60)),n=s>=0?"+":"-";switch(t){case"short":return`${n}${ft(e,2)}:${ft(i,2)}`;case"narrow":return`${n}${e}${i>0?`:${i}`:""}`;case"techie":return`${n}${ft(e,2)}${ft(i,2)}`;default:throw new RangeError(`Value format ${t} is out of range for property format`)}}function or(s){return Gb(s,["hour","minute","second","millisecond"])}const Jb=["January","February","March","April","May","June","July","August","September","October","November","December"],Eu=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Kb=["J","F","M","A","M","J","J","A","S","O","N","D"];function Cu(s){switch(s){case"narrow":return[...Kb];case"short":return[...Eu];case"long":return[...Jb];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const Du=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],Au=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],Xb=["M","T","W","T","F","S","S"];function Pu(s){switch(s){case"narrow":return[...Xb];case"short":return[...Au];case"long":return[...Du];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const Iu=["AM","PM"],Qb=["Before Christ","Anno Domini"],t0=["BC","AD"],e0=["B","A"];function Lu(s){switch(s){case"narrow":return[...e0];case"short":return[...t0];case"long":return[...Qb];default:return null}}function s0(s){return Iu[s.hour<12?0:1]}function i0(s,t){return Pu(t)[s.weekday-1]}function n0(s,t){return Cu(t)[s.month-1]}function r0(s,t){return Lu(t)[s.year<0?0:1]}function o0(s,t,e="always",i=!1){const n={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},r=["hours","minutes","seconds"].indexOf(s)===-1;if(e==="auto"&&r){const u=s==="days";switch(t){case 1:return u?"tomorrow":`next ${n[s][0]}`;case-1:return u?"yesterday":`last ${n[s][0]}`;case 0:return u?"today":`this ${n[s][0]}`}}const o=Object.is(t,-0)||t<0,a=Math.abs(t),l=a===1,c=n[s],h=i?l?c[1]:c[2]||c[1]:l?n[s][0]:s;return o?`${a} ${h} ago`:`in ${a} ${h}`}function cc(s,t){let e="";for(const i of s)i.literal?e+=i.val:e+=t(i.val);return e}const a0={D:Fn,DD:Qh,DDD:tu,DDDD:eu,t:su,tt:iu,ttt:nu,tttt:ru,T:ou,TT:au,TTT:lu,TTTT:cu,f:hu,ff:du,fff:gu,ffff:pu,F:uu,FF:fu,FFF:mu,FFFF:yu};class xt{static create(t,e={}){return new xt(t,e)}static parseFormat(t){let e=null,i="",n=!1;const r=[];for(let o=0;o<t.length;o++){const a=t.charAt(o);a==="'"?(i.length>0&&r.push({literal:n||/^\s+$/.test(i),val:i}),e=null,i="",n=!n):n||a===e?i+=a:(i.length>0&&r.push({literal:/^\s+$/.test(i),val:i}),i=a,e=a)}return i.length>0&&r.push({literal:n||/^\s+$/.test(i),val:i}),r}static macroTokenToFormatOpts(t){return a0[t]}constructor(t,e){this.opts=e,this.loc=t,this.systemLoc=null}formatWithSystemDefault(t,e){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(t,{...this.opts,...e}).format()}dtFormatter(t,e={}){return this.loc.dtFormatter(t,{...this.opts,...e})}formatDateTime(t,e){return this.dtFormatter(t,e).format()}formatDateTimeParts(t,e){return this.dtFormatter(t,e).formatToParts()}formatInterval(t,e){return this.dtFormatter(t.start,e).dtf.formatRange(t.start.toJSDate(),t.end.toJSDate())}resolvedOptions(t,e){return this.dtFormatter(t,e).resolvedOptions()}num(t,e=0){if(this.opts.forceSimple)return ft(t,e);const i={...this.opts};return e>0&&(i.padTo=e),this.loc.numberFormatter(i).format(t)}formatDateTimeFromString(t,e){const i=this.loc.listingMode()==="en",n=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",r=(f,g)=>this.loc.extract(t,f,g),o=f=>t.isOffsetFixed&&t.offset===0&&f.allowZ?"Z":t.isValid?t.zone.formatOffset(t.ts,f.format):"",a=()=>i?s0(t):r({hour:"numeric",hourCycle:"h12"},"dayperiod"),l=(f,g)=>i?n0(t,f):r(g?{month:f}:{month:f,day:"numeric"},"month"),c=(f,g)=>i?i0(t,f):r(g?{weekday:f}:{weekday:f,month:"long",day:"numeric"},"weekday"),h=f=>{const g=xt.macroTokenToFormatOpts(f);return g?this.formatWithSystemDefault(t,g):f},u=f=>i?r0(t,f):r({era:f},"era"),d=f=>{switch(f){case"S":return this.num(t.millisecond);case"u":case"SSS":return this.num(t.millisecond,3);case"s":return this.num(t.second);case"ss":return this.num(t.second,2);case"uu":return this.num(Math.floor(t.millisecond/10),2);case"uuu":return this.num(Math.floor(t.millisecond/100));case"m":return this.num(t.minute);case"mm":return this.num(t.minute,2);case"h":return this.num(t.hour%12===0?12:t.hour%12);case"hh":return this.num(t.hour%12===0?12:t.hour%12,2);case"H":return this.num(t.hour);case"HH":return this.num(t.hour,2);case"Z":return o({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return o({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return o({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return t.zone.offsetName(t.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return t.zone.offsetName(t.ts,{format:"long",locale:this.loc.locale});case"z":return t.zoneName;case"a":return a();case"d":return n?r({day:"numeric"},"day"):this.num(t.day);case"dd":return n?r({day:"2-digit"},"day"):this.num(t.day,2);case"c":return this.num(t.weekday);case"ccc":return c("short",!0);case"cccc":return c("long",!0);case"ccccc":return c("narrow",!0);case"E":return this.num(t.weekday);case"EEE":return c("short",!1);case"EEEE":return c("long",!1);case"EEEEE":return c("narrow",!1);case"L":return n?r({month:"numeric",day:"numeric"},"month"):this.num(t.month);case"LL":return n?r({month:"2-digit",day:"numeric"},"month"):this.num(t.month,2);case"LLL":return l("short",!0);case"LLLL":return l("long",!0);case"LLLLL":return l("narrow",!0);case"M":return n?r({month:"numeric"},"month"):this.num(t.month);case"MM":return n?r({month:"2-digit"},"month"):this.num(t.month,2);case"MMM":return l("short",!1);case"MMMM":return l("long",!1);case"MMMMM":return l("narrow",!1);case"y":return n?r({year:"numeric"},"year"):this.num(t.year);case"yy":return n?r({year:"2-digit"},"year"):this.num(t.year.toString().slice(-2),2);case"yyyy":return n?r({year:"numeric"},"year"):this.num(t.year,4);case"yyyyyy":return n?r({year:"numeric"},"year"):this.num(t.year,6);case"G":return u("short");case"GG":return u("long");case"GGGGG":return u("narrow");case"kk":return this.num(t.weekYear.toString().slice(-2),2);case"kkkk":return this.num(t.weekYear,4);case"W":return this.num(t.weekNumber);case"WW":return this.num(t.weekNumber,2);case"n":return this.num(t.localWeekNumber);case"nn":return this.num(t.localWeekNumber,2);case"ii":return this.num(t.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(t.localWeekYear,4);case"o":return this.num(t.ordinal);case"ooo":return this.num(t.ordinal,3);case"q":return this.num(t.quarter);case"qq":return this.num(t.quarter,2);case"X":return this.num(Math.floor(t.ts/1e3));case"x":return this.num(t.ts);default:return h(f)}};return cc(xt.parseFormat(e),d)}formatDurationFromString(t,e){const i=l=>{switch(l[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},n=l=>c=>{const h=i(c);return h?this.num(l.get(h),c.length):c},r=xt.parseFormat(e),o=r.reduce((l,{literal:c,val:h})=>c?l:l.concat(h),[]),a=t.shiftTo(...o.map(i).filter(l=>l));return cc(r,n(a))}}const Ru=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function Vs(...s){const t=s.reduce((e,i)=>e+i.source,"");return RegExp(`^${t}$`)}function Ws(...s){return t=>s.reduce(([e,i,n],r)=>{const[o,a,l]=r(t,n);return[{...e,...o},a||i,l]},[{},null,1]).slice(0,2)}function Bs(s,...t){if(s==null)return[null,null];for(const[e,i]of t){const n=e.exec(s);if(n)return i(n)}return[null,null]}function $u(...s){return(t,e)=>{const i={};let n;for(n=0;n<s.length;n++)i[s[n]]=Te(t[e+n]);return[i,null,e+n]}}const Nu=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,l0=`(?:${Nu.source}?(?:\\[(${Ru.source})\\])?)?`,Jo=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,Fu=RegExp(`${Jo.source}${l0}`),Ko=RegExp(`(?:T${Fu.source})?`),c0=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,h0=/(\d{4})-?W(\d\d)(?:-?(\d))?/,u0=/(\d{4})-?(\d{3})/,d0=$u("weekYear","weekNumber","weekDay"),f0=$u("year","ordinal"),g0=/(\d{4})-(\d\d)-(\d\d)/,ju=RegExp(`${Jo.source} ?(?:${Nu.source}|(${Ru.source}))?`),m0=RegExp(`(?: ${ju.source})?`);function Ds(s,t,e){const i=s[t];return L(i)?e:Te(i)}function p0(s,t){return[{year:Ds(s,t),month:Ds(s,t+1,1),day:Ds(s,t+2,1)},null,t+3]}function Hs(s,t){return[{hours:Ds(s,t,0),minutes:Ds(s,t+1,0),seconds:Ds(s,t+2,0),milliseconds:Go(s[t+3])},null,t+4]}function ji(s,t){const e=!s[t]&&!s[t+1],i=rr(s[t+1],s[t+2]),n=e?null:Tt.instance(i);return[{},n,t+3]}function zi(s,t){const e=s[t]?ve.create(s[t]):null;return[{},e,t+1]}const y0=RegExp(`^T?${Jo.source}$`),_0=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function b0(s){const[t,e,i,n,r,o,a,l,c]=s,h=t[0]==="-",u=l&&l[0]==="-",d=(f,g=!1)=>f!==void 0&&(g||f&&h)?-f:f;return[{years:d(Ye(e)),months:d(Ye(i)),weeks:d(Ye(n)),days:d(Ye(r)),hours:d(Ye(o)),minutes:d(Ye(a)),seconds:d(Ye(l),l==="-0"),milliseconds:d(Go(c),u)}]}const v0={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function Xo(s,t,e,i,n,r,o){const a={year:t.length===2?po(Te(t)):Te(t),month:Eu.indexOf(e)+1,day:Te(i),hour:Te(n),minute:Te(r)};return o&&(a.second=Te(o)),s&&(a.weekday=s.length>3?Du.indexOf(s)+1:Au.indexOf(s)+1),a}const w0=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function x0(s){const[,t,e,i,n,r,o,a,l,c,h,u]=s,d=Xo(t,n,i,e,r,o,a);let f;return l?f=v0[l]:c?f=0:f=rr(h,u),[d,new Tt(f)]}function k0(s){return s.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const S0=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,O0=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,T0=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function hc(s){const[,t,e,i,n,r,o,a]=s;return[Xo(t,n,i,e,r,o,a),Tt.utcInstance]}function M0(s){const[,t,e,i,n,r,o,a]=s;return[Xo(t,a,e,i,n,r,o),Tt.utcInstance]}const E0=Vs(c0,Ko),C0=Vs(h0,Ko),D0=Vs(u0,Ko),A0=Vs(Fu),zu=Ws(p0,Hs,ji,zi),P0=Ws(d0,Hs,ji,zi),I0=Ws(f0,Hs,ji,zi),L0=Ws(Hs,ji,zi);function R0(s){return Bs(s,[E0,zu],[C0,P0],[D0,I0],[A0,L0])}function $0(s){return Bs(k0(s),[w0,x0])}function N0(s){return Bs(s,[S0,hc],[O0,hc],[T0,M0])}function F0(s){return Bs(s,[_0,b0])}const j0=Ws(Hs);function z0(s){return Bs(s,[y0,j0])}const V0=Vs(g0,m0),W0=Vs(ju),B0=Ws(Hs,ji,zi);function H0(s){return Bs(s,[V0,zu],[W0,B0])}const uc="Invalid Duration",Vu={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},U0={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...Vu},Ft=146097/400,vs=146097/4800,q0={years:{quarters:4,months:12,weeks:Ft/7,days:Ft,hours:Ft*24,minutes:Ft*24*60,seconds:Ft*24*60*60,milliseconds:Ft*24*60*60*1e3},quarters:{months:3,weeks:Ft/28,days:Ft/4,hours:Ft*24/4,minutes:Ft*24*60/4,seconds:Ft*24*60*60/4,milliseconds:Ft*24*60*60*1e3/4},months:{weeks:vs/7,days:vs,hours:vs*24,minutes:vs*24*60,seconds:vs*24*60*60,milliseconds:vs*24*60*60*1e3},...Vu},es=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],Y0=es.slice(0).reverse();function ke(s,t,e=!1){const i={values:e?t.values:{...s.values,...t.values||{}},loc:s.loc.clone(t.loc),conversionAccuracy:t.conversionAccuracy||s.conversionAccuracy,matrix:t.matrix||s.matrix};return new W(i)}function Wu(s,t){let e=t.milliseconds??0;for(const i of Y0.slice(1))t[i]&&(e+=t[i]*s[i].milliseconds);return e}function dc(s,t){const e=Wu(s,t)<0?-1:1;es.reduceRight((i,n)=>{if(L(t[n]))return i;if(i){const r=t[i]*e,o=s[n][i],a=Math.floor(r/o);t[n]+=a*e,t[i]-=a*o*e}return n},null),es.reduce((i,n)=>{if(L(t[n]))return i;if(i){const r=t[i]%1;t[i]-=r,t[n]+=r*s[i][n]}return n},null)}function G0(s){const t={};for(const[e,i]of Object.entries(s))i!==0&&(t[e]=i);return t}class W{constructor(t){const e=t.conversionAccuracy==="longterm"||!1;let i=e?q0:U0;t.matrix&&(i=t.matrix),this.values=t.values,this.loc=t.loc||J.create(),this.conversionAccuracy=e?"longterm":"casual",this.invalid=t.invalid||null,this.matrix=i,this.isLuxonDuration=!0}static fromMillis(t,e){return W.fromObject({milliseconds:t},e)}static fromObject(t,e={}){if(t==null||typeof t!="object")throw new Et(`Duration.fromObject: argument expected to be an object, got ${t===null?"null":typeof t}`);return new W({values:Vn(t,W.normalizeUnit),loc:J.fromObject(e),conversionAccuracy:e.conversionAccuracy,matrix:e.matrix})}static fromDurationLike(t){if(ns(t))return W.fromMillis(t);if(W.isDuration(t))return t;if(typeof t=="object")return W.fromObject(t);throw new Et(`Unknown duration argument ${t} of type ${typeof t}`)}static fromISO(t,e){const[i]=F0(t);return i?W.fromObject(i,e):W.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static fromISOTime(t,e){const[i]=z0(t);return i?W.fromObject(i,e):W.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static invalid(t,e=null){if(!t)throw new Et("need to specify a reason the Duration is invalid");const i=t instanceof Zt?t:new Zt(t,e);if(ct.throwOnInvalid)throw new wb(i);return new W({invalid:i})}static normalizeUnit(t){const e={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[t&&t.toLowerCase()];if(!e)throw new Xh(t);return e}static isDuration(t){return t&&t.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(t,e={}){const i={...e,floor:e.round!==!1&&e.floor!==!1};return this.isValid?xt.create(this.loc,i).formatDurationFromString(this,t):uc}toHuman(t={}){if(!this.isValid)return uc;const e=es.map(i=>{const n=this.values[i];return L(n)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...t,unit:i.slice(0,-1)}).format(n)}).filter(i=>i);return this.loc.listFormatter({type:"conjunction",style:t.listStyle||"narrow",...t}).format(e)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let t="P";return this.years!==0&&(t+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(t+=this.months+this.quarters*3+"M"),this.weeks!==0&&(t+=this.weeks+"W"),this.days!==0&&(t+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(t+="T"),this.hours!==0&&(t+=this.hours+"H"),this.minutes!==0&&(t+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(t+=Zo(this.seconds+this.milliseconds/1e3,3)+"S"),t==="P"&&(t+="T0S"),t}toISOTime(t={}){if(!this.isValid)return null;const e=this.toMillis();return e<0||e>=864e5?null:(t={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...t,includeOffset:!1},I.fromMillis(e,{zone:"UTC"}).toISOTime(t))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?Wu(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(t){if(!this.isValid)return this;const e=W.fromDurationLike(t),i={};for(const n of es)(js(e.values,n)||js(this.values,n))&&(i[n]=e.get(n)+this.get(n));return ke(this,{values:i},!0)}minus(t){if(!this.isValid)return this;const e=W.fromDurationLike(t);return this.plus(e.negate())}mapUnits(t){if(!this.isValid)return this;const e={};for(const i of Object.keys(this.values))e[i]=Mu(t(this.values[i],i));return ke(this,{values:e},!0)}get(t){return this[W.normalizeUnit(t)]}set(t){if(!this.isValid)return this;const e={...this.values,...Vn(t,W.normalizeUnit)};return ke(this,{values:e})}reconfigure({locale:t,numberingSystem:e,conversionAccuracy:i,matrix:n}={}){const o={loc:this.loc.clone({locale:t,numberingSystem:e}),matrix:n,conversionAccuracy:i};return ke(this,o)}as(t){return this.isValid?this.shiftTo(t).get(t):NaN}normalize(){if(!this.isValid)return this;const t=this.toObject();return dc(this.matrix,t),ke(this,{values:t},!0)}rescale(){if(!this.isValid)return this;const t=G0(this.normalize().shiftToAll().toObject());return ke(this,{values:t},!0)}shiftTo(...t){if(!this.isValid)return this;if(t.length===0)return this;t=t.map(o=>W.normalizeUnit(o));const e={},i={},n=this.toObject();let r;for(const o of es)if(t.indexOf(o)>=0){r=o;let a=0;for(const c in i)a+=this.matrix[c][o]*i[c],i[c]=0;ns(n[o])&&(a+=n[o]);const l=Math.trunc(a);e[o]=l,i[o]=(a*1e3-l*1e3)/1e3}else ns(n[o])&&(i[o]=n[o]);for(const o in i)i[o]!==0&&(e[r]+=o===r?i[o]:i[o]/this.matrix[r][o]);return dc(this.matrix,e),ke(this,{values:e},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const t={};for(const e of Object.keys(this.values))t[e]=this.values[e]===0?0:-this.values[e];return ke(this,{values:t},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(t){if(!this.isValid||!t.isValid||!this.loc.equals(t.loc))return!1;function e(i,n){return i===void 0||i===0?n===void 0||n===0:i===n}for(const i of es)if(!e(this.values[i],t.values[i]))return!1;return!0}}const ws="Invalid Interval";function Z0(s,t){return!s||!s.isValid?rt.invalid("missing or invalid start"):!t||!t.isValid?rt.invalid("missing or invalid end"):t<s?rt.invalid("end before start",`The end of an interval must be after its start, but you had start=${s.toISO()} and end=${t.toISO()}`):null}class rt{constructor(t){this.s=t.start,this.e=t.end,this.invalid=t.invalid||null,this.isLuxonInterval=!0}static invalid(t,e=null){if(!t)throw new Et("need to specify a reason the Interval is invalid");const i=t instanceof Zt?t:new Zt(t,e);if(ct.throwOnInvalid)throw new vb(i);return new rt({invalid:i})}static fromDateTimes(t,e){const i=si(t),n=si(e),r=Z0(i,n);return r??new rt({start:i,end:n})}static after(t,e){const i=W.fromDurationLike(e),n=si(t);return rt.fromDateTimes(n,n.plus(i))}static before(t,e){const i=W.fromDurationLike(e),n=si(t);return rt.fromDateTimes(n.minus(i),n)}static fromISO(t,e){const[i,n]=(t||"").split("/",2);if(i&&n){let r,o;try{r=I.fromISO(i,e),o=r.isValid}catch{o=!1}let a,l;try{a=I.fromISO(n,e),l=a.isValid}catch{l=!1}if(o&&l)return rt.fromDateTimes(r,a);if(o){const c=W.fromISO(n,e);if(c.isValid)return rt.after(r,c)}else if(l){const c=W.fromISO(i,e);if(c.isValid)return rt.before(a,c)}}return rt.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static isInterval(t){return t&&t.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(t="milliseconds"){return this.isValid?this.toDuration(t).get(t):NaN}count(t="milliseconds",e){if(!this.isValid)return NaN;const i=this.start.startOf(t,e);let n;return e!=null&&e.useLocaleWeeks?n=this.end.reconfigure({locale:i.locale}):n=this.end,n=n.startOf(t,e),Math.floor(n.diff(i,t).get(t))+(n.valueOf()!==this.end.valueOf())}hasSame(t){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,t):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(t){return this.isValid?this.s>t:!1}isBefore(t){return this.isValid?this.e<=t:!1}contains(t){return this.isValid?this.s<=t&&this.e>t:!1}set({start:t,end:e}={}){return this.isValid?rt.fromDateTimes(t||this.s,e||this.e):this}splitAt(...t){if(!this.isValid)return[];const e=t.map(si).filter(o=>this.contains(o)).sort((o,a)=>o.toMillis()-a.toMillis()),i=[];let{s:n}=this,r=0;for(;n<this.e;){const o=e[r]||this.e,a=+o>+this.e?this.e:o;i.push(rt.fromDateTimes(n,a)),n=a,r+=1}return i}splitBy(t){const e=W.fromDurationLike(t);if(!this.isValid||!e.isValid||e.as("milliseconds")===0)return[];let{s:i}=this,n=1,r;const o=[];for(;i<this.e;){const a=this.start.plus(e.mapUnits(l=>l*n));r=+a>+this.e?this.e:a,o.push(rt.fromDateTimes(i,r)),i=r,n+=1}return o}divideEqually(t){return this.isValid?this.splitBy(this.length()/t).slice(0,t):[]}overlaps(t){return this.e>t.s&&this.s<t.e}abutsStart(t){return this.isValid?+this.e==+t.s:!1}abutsEnd(t){return this.isValid?+t.e==+this.s:!1}engulfs(t){return this.isValid?this.s<=t.s&&this.e>=t.e:!1}equals(t){return!this.isValid||!t.isValid?!1:this.s.equals(t.s)&&this.e.equals(t.e)}intersection(t){if(!this.isValid)return this;const e=this.s>t.s?this.s:t.s,i=this.e<t.e?this.e:t.e;return e>=i?null:rt.fromDateTimes(e,i)}union(t){if(!this.isValid)return this;const e=this.s<t.s?this.s:t.s,i=this.e>t.e?this.e:t.e;return rt.fromDateTimes(e,i)}static merge(t){const[e,i]=t.sort((n,r)=>n.s-r.s).reduce(([n,r],o)=>r?r.overlaps(o)||r.abutsStart(o)?[n,r.union(o)]:[n.concat([r]),o]:[n,o],[[],null]);return i&&e.push(i),e}static xor(t){let e=null,i=0;const n=[],r=t.map(l=>[{time:l.s,type:"s"},{time:l.e,type:"e"}]),o=Array.prototype.concat(...r),a=o.sort((l,c)=>l.time-c.time);for(const l of a)i+=l.type==="s"?1:-1,i===1?e=l.time:(e&&+e!=+l.time&&n.push(rt.fromDateTimes(e,l.time)),e=null);return rt.merge(n)}difference(...t){return rt.xor([this].concat(t)).map(e=>this.intersection(e)).filter(e=>e&&!e.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} – ${this.e.toISO()})`:ws}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(t=Fn,e={}){return this.isValid?xt.create(this.s.loc.clone(e),t).formatInterval(this):ws}toISO(t){return this.isValid?`${this.s.toISO(t)}/${this.e.toISO(t)}`:ws}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:ws}toISOTime(t){return this.isValid?`${this.s.toISOTime(t)}/${this.e.toISOTime(t)}`:ws}toFormat(t,{separator:e=" – "}={}){return this.isValid?`${this.s.toFormat(t)}${e}${this.e.toFormat(t)}`:ws}toDuration(t,e){return this.isValid?this.e.diff(this.s,t,e):W.invalid(this.invalidReason)}mapEndpoints(t){return rt.fromDateTimes(t(this.s),t(this.e))}}class hn{static hasDST(t=ct.defaultZone){const e=I.now().setZone(t).set({month:12});return!t.isUniversal&&e.offset!==e.set({month:6}).offset}static isValidIANAZone(t){return ve.isValidZone(t)}static normalizeZone(t){return Ee(t,ct.defaultZone)}static getStartOfWeek({locale:t=null,locObj:e=null}={}){return(e||J.create(t)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:t=null,locObj:e=null}={}){return(e||J.create(t)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:t=null,locObj:e=null}={}){return(e||J.create(t)).getWeekendDays().slice()}static months(t="long",{locale:e=null,numberingSystem:i=null,locObj:n=null,outputCalendar:r="gregory"}={}){return(n||J.create(e,i,r)).months(t)}static monthsFormat(t="long",{locale:e=null,numberingSystem:i=null,locObj:n=null,outputCalendar:r="gregory"}={}){return(n||J.create(e,i,r)).months(t,!0)}static weekdays(t="long",{locale:e=null,numberingSystem:i=null,locObj:n=null}={}){return(n||J.create(e,i,null)).weekdays(t)}static weekdaysFormat(t="long",{locale:e=null,numberingSystem:i=null,locObj:n=null}={}){return(n||J.create(e,i,null)).weekdays(t,!0)}static meridiems({locale:t=null}={}){return J.create(t).meridiems()}static eras(t="short",{locale:e=null}={}){return J.create(e,null,"gregory").eras(t)}static features(){return{relative:Su(),localeWeek:Ou()}}}function fc(s,t){const e=n=>n.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),i=e(t)-e(s);return Math.floor(W.fromMillis(i).as("days"))}function J0(s,t,e){const i=[["years",(l,c)=>c.year-l.year],["quarters",(l,c)=>c.quarter-l.quarter+(c.year-l.year)*4],["months",(l,c)=>c.month-l.month+(c.year-l.year)*12],["weeks",(l,c)=>{const h=fc(l,c);return(h-h%7)/7}],["days",fc]],n={},r=s;let o,a;for(const[l,c]of i)e.indexOf(l)>=0&&(o=l,n[l]=c(s,t),a=r.plus(n),a>t?(n[l]--,s=r.plus(n),s>t&&(a=s,n[l]--,s=r.plus(n))):s=a);return[s,n,a,o]}function K0(s,t,e,i){let[n,r,o,a]=J0(s,t,e);const l=t-n,c=e.filter(u=>["hours","minutes","seconds","milliseconds"].indexOf(u)>=0);c.length===0&&(o<t&&(o=n.plus({[a]:1})),o!==n&&(r[a]=(r[a]||0)+l/(o-n)));const h=W.fromObject(r,i);return c.length>0?W.fromMillis(l,i).shiftTo(...c).plus(h):h}const Qo={arab:"[٠-٩]",arabext:"[۰-۹]",bali:"[᭐-᭙]",beng:"[০-৯]",deva:"[०-९]",fullwide:"[０-９]",gujr:"[૦-૯]",hanidec:"[〇|一|二|三|四|五|六|七|八|九]",khmr:"[០-៩]",knda:"[೦-೯]",laoo:"[໐-໙]",limb:"[᥆-᥏]",mlym:"[൦-൯]",mong:"[᠐-᠙]",mymr:"[၀-၉]",orya:"[୦-୯]",tamldec:"[௦-௯]",telu:"[౦-౯]",thai:"[๐-๙]",tibt:"[༠-༩]",latn:"\\d"},gc={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},X0=Qo.hanidec.replace(/[\[|\]]/g,"").split("");function Q0(s){let t=parseInt(s,10);if(isNaN(t)){t="";for(let e=0;e<s.length;e++){const i=s.charCodeAt(e);if(s[e].search(Qo.hanidec)!==-1)t+=X0.indexOf(s[e]);else for(const n in gc){const[r,o]=gc[n];i>=r&&i<=o&&(t+=i-r)}}return parseInt(t,10)}else return t}function Ht({numberingSystem:s},t=""){return new RegExp(`${Qo[s||"latn"]}${t}`)}const tv="missing Intl.DateTimeFormat.formatToParts support";function G(s,t=e=>e){return{regex:s,deser:([e])=>t(Q0(e))}}const ev=" ",Bu=`[ ${ev}]`,Hu=new RegExp(Bu,"g");function sv(s){return s.replace(/\./g,"\\.?").replace(Hu,Bu)}function mc(s){return s.replace(/\./g,"").replace(Hu," ").toLowerCase()}function Ut(s,t){return s===null?null:{regex:RegExp(s.map(sv).join("|")),deser:([e])=>s.findIndex(i=>mc(e)===mc(i))+t}}function pc(s,t){return{regex:s,deser:([,e,i])=>rr(e,i),groups:t}}function un(s){return{regex:s,deser:([t])=>t}}function iv(s){return s.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function nv(s,t){const e=Ht(t),i=Ht(t,"{2}"),n=Ht(t,"{3}"),r=Ht(t,"{4}"),o=Ht(t,"{6}"),a=Ht(t,"{1,2}"),l=Ht(t,"{1,3}"),c=Ht(t,"{1,6}"),h=Ht(t,"{1,9}"),u=Ht(t,"{2,4}"),d=Ht(t,"{4,6}"),f=p=>({regex:RegExp(iv(p.val)),deser:([y])=>y,literal:!0}),m=(p=>{if(s.literal)return f(p);switch(p.val){case"G":return Ut(t.eras("short"),0);case"GG":return Ut(t.eras("long"),0);case"y":return G(c);case"yy":return G(u,po);case"yyyy":return G(r);case"yyyyy":return G(d);case"yyyyyy":return G(o);case"M":return G(a);case"MM":return G(i);case"MMM":return Ut(t.months("short",!0),1);case"MMMM":return Ut(t.months("long",!0),1);case"L":return G(a);case"LL":return G(i);case"LLL":return Ut(t.months("short",!1),1);case"LLLL":return Ut(t.months("long",!1),1);case"d":return G(a);case"dd":return G(i);case"o":return G(l);case"ooo":return G(n);case"HH":return G(i);case"H":return G(a);case"hh":return G(i);case"h":return G(a);case"mm":return G(i);case"m":return G(a);case"q":return G(a);case"qq":return G(i);case"s":return G(a);case"ss":return G(i);case"S":return G(l);case"SSS":return G(n);case"u":return un(h);case"uu":return un(a);case"uuu":return G(e);case"a":return Ut(t.meridiems(),0);case"kkkk":return G(r);case"kk":return G(u,po);case"W":return G(a);case"WW":return G(i);case"E":case"c":return G(e);case"EEE":return Ut(t.weekdays("short",!1),1);case"EEEE":return Ut(t.weekdays("long",!1),1);case"ccc":return Ut(t.weekdays("short",!0),1);case"cccc":return Ut(t.weekdays("long",!0),1);case"Z":case"ZZ":return pc(new RegExp(`([+-]${a.source})(?::(${i.source}))?`),2);case"ZZZ":return pc(new RegExp(`([+-]${a.source})(${i.source})?`),2);case"z":return un(/[a-z_+-/]{1,256}?/i);case" ":return un(/[^\S\n\r]/);default:return f(p)}})(s)||{invalidReason:tv};return m.token=s,m}const rv={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function ov(s,t,e){const{type:i,value:n}=s;if(i==="literal"){const l=/^\s+$/.test(n);return{literal:!l,val:l?" ":n}}const r=t[i];let o=i;i==="hour"&&(t.hour12!=null?o=t.hour12?"hour12":"hour24":t.hourCycle!=null?t.hourCycle==="h11"||t.hourCycle==="h12"?o="hour12":o="hour24":o=e.hour12?"hour12":"hour24");let a=rv[o];if(typeof a=="object"&&(a=a[r]),a)return{literal:!1,val:a}}function av(s){return[`^${s.map(e=>e.regex).reduce((e,i)=>`${e}(${i.source})`,"")}$`,s]}function lv(s,t,e){const i=s.match(t);if(i){const n={};let r=1;for(const o in e)if(js(e,o)){const a=e[o],l=a.groups?a.groups+1:1;!a.literal&&a.token&&(n[a.token.val[0]]=a.deser(i.slice(r,r+l))),r+=l}return[i,n]}else return[i,{}]}function cv(s){const t=r=>{switch(r){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let e=null,i;return L(s.z)||(e=ve.create(s.z)),L(s.Z)||(e||(e=new Tt(s.Z)),i=s.Z),L(s.q)||(s.M=(s.q-1)*3+1),L(s.h)||(s.h<12&&s.a===1?s.h+=12:s.h===12&&s.a===0&&(s.h=0)),s.G===0&&s.y&&(s.y=-s.y),L(s.u)||(s.S=Go(s.u)),[Object.keys(s).reduce((r,o)=>{const a=t(o);return a&&(r[a]=s[o]),r},{}),e,i]}let Ir=null;function hv(){return Ir||(Ir=I.fromMillis(1555555555555)),Ir}function uv(s,t){if(s.literal)return s;const e=xt.macroTokenToFormatOpts(s.val),i=Yu(e,t);return i==null||i.includes(void 0)?s:i}function Uu(s,t){return Array.prototype.concat(...s.map(e=>uv(e,t)))}function qu(s,t,e){const i=Uu(xt.parseFormat(e),s),n=i.map(o=>nv(o,s)),r=n.find(o=>o.invalidReason);if(r)return{input:t,tokens:i,invalidReason:r.invalidReason};{const[o,a]=av(n),l=RegExp(o,"i"),[c,h]=lv(t,l,a),[u,d,f]=h?cv(h):[null,null,void 0];if(js(h,"a")&&js(h,"H"))throw new Ss("Can't include meridiem when specifying 24-hour format");return{input:t,tokens:i,regex:l,rawMatches:c,matches:h,result:u,zone:d,specificOffset:f}}}function dv(s,t,e){const{result:i,zone:n,specificOffset:r,invalidReason:o}=qu(s,t,e);return[i,n,r,o]}function Yu(s,t){if(!s)return null;const i=xt.create(t,s).dtFormatter(hv()),n=i.formatToParts(),r=i.resolvedOptions();return n.map(o=>ov(o,s,r))}const Lr="Invalid DateTime",yc=864e13;function dn(s){return new Zt("unsupported zone",`the zone "${s.name}" is not supported`)}function Rr(s){return s.weekData===null&&(s.weekData=jn(s.c)),s.weekData}function $r(s){return s.localWeekData===null&&(s.localWeekData=jn(s.c,s.loc.getMinDaysInFirstWeek(),s.loc.getStartOfWeek())),s.localWeekData}function Ge(s,t){const e={ts:s.ts,zone:s.zone,c:s.c,o:s.o,loc:s.loc,invalid:s.invalid};return new I({...e,...t,old:e})}function Gu(s,t,e){let i=s-t*60*1e3;const n=e.offset(i);if(t===n)return[i,t];i-=(n-t)*60*1e3;const r=e.offset(i);return n===r?[i,n]:[s-Math.min(n,r)*60*1e3,Math.max(n,r)]}function fn(s,t){s+=t*60*1e3;const e=new Date(s);return{year:e.getUTCFullYear(),month:e.getUTCMonth()+1,day:e.getUTCDate(),hour:e.getUTCHours(),minute:e.getUTCMinutes(),second:e.getUTCSeconds(),millisecond:e.getUTCMilliseconds()}}function Tn(s,t,e){return Gu(nr(s),t,e)}function _c(s,t){const e=s.o,i=s.c.year+Math.trunc(t.years),n=s.c.month+Math.trunc(t.months)+Math.trunc(t.quarters)*3,r={...s.c,year:i,month:n,day:Math.min(s.c.day,zn(i,n))+Math.trunc(t.days)+Math.trunc(t.weeks)*7},o=W.fromObject({years:t.years-Math.trunc(t.years),quarters:t.quarters-Math.trunc(t.quarters),months:t.months-Math.trunc(t.months),weeks:t.weeks-Math.trunc(t.weeks),days:t.days-Math.trunc(t.days),hours:t.hours,minutes:t.minutes,seconds:t.seconds,milliseconds:t.milliseconds}).as("milliseconds"),a=nr(r);let[l,c]=Gu(a,e,s.zone);return o!==0&&(l+=o,c=s.zone.offset(l)),{ts:l,o:c}}function ei(s,t,e,i,n,r){const{setZone:o,zone:a}=e;if(s&&Object.keys(s).length!==0||t){const l=t||a,c=I.fromObject(s,{...e,zone:l,specificOffset:r});return o?c:c.setZone(a)}else return I.invalid(new Zt("unparsable",`the input "${n}" can't be parsed as ${i}`))}function gn(s,t,e=!0){return s.isValid?xt.create(J.create("en-US"),{allowZ:e,forceSimple:!0}).formatDateTimeFromString(s,t):null}function Nr(s,t){const e=s.c.year>9999||s.c.year<0;let i="";return e&&s.c.year>=0&&(i+="+"),i+=ft(s.c.year,e?6:4),t?(i+="-",i+=ft(s.c.month),i+="-",i+=ft(s.c.day)):(i+=ft(s.c.month),i+=ft(s.c.day)),i}function bc(s,t,e,i,n,r){let o=ft(s.c.hour);return t?(o+=":",o+=ft(s.c.minute),(s.c.millisecond!==0||s.c.second!==0||!e)&&(o+=":")):o+=ft(s.c.minute),(s.c.millisecond!==0||s.c.second!==0||!e)&&(o+=ft(s.c.second),(s.c.millisecond!==0||!i)&&(o+=".",o+=ft(s.c.millisecond,3))),n&&(s.isOffsetFixed&&s.offset===0&&!r?o+="Z":s.o<0?(o+="-",o+=ft(Math.trunc(-s.o/60)),o+=":",o+=ft(Math.trunc(-s.o%60))):(o+="+",o+=ft(Math.trunc(s.o/60)),o+=":",o+=ft(Math.trunc(s.o%60)))),r&&(o+="["+s.zone.ianaName+"]"),o}const Zu={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},fv={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},gv={ordinal:1,hour:0,minute:0,second:0,millisecond:0},Ju=["year","month","day","hour","minute","second","millisecond"],mv=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],pv=["year","ordinal","hour","minute","second","millisecond"];function yv(s){const t={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[s.toLowerCase()];if(!t)throw new Xh(s);return t}function vc(s){switch(s.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return yv(s)}}function wc(s,t){const e=Ee(t.zone,ct.defaultZone),i=J.fromObject(t),n=ct.now();let r,o;if(L(s.year))r=n;else{for(const c of Ju)L(s[c])&&(s[c]=Zu[c]);const a=xu(s)||ku(s);if(a)return I.invalid(a);const l=e.offset(n);[r,o]=Tn(s,l,e)}return new I({ts:r,zone:e,loc:i,o})}function xc(s,t,e){const i=L(e.round)?!0:e.round,n=(o,a)=>(o=Zo(o,i||e.calendary?0:2,!0),t.loc.clone(e).relFormatter(e).format(o,a)),r=o=>e.calendary?t.hasSame(s,o)?0:t.startOf(o).diff(s.startOf(o),o).get(o):t.diff(s,o).get(o);if(e.unit)return n(r(e.unit),e.unit);for(const o of e.units){const a=r(o);if(Math.abs(a)>=1)return n(a,o)}return n(s>t?-0:0,e.units[e.units.length-1])}function kc(s){let t={},e;return s.length>0&&typeof s[s.length-1]=="object"?(t=s[s.length-1],e=Array.from(s).slice(0,s.length-1)):e=Array.from(s),[t,e]}class I{constructor(t){const e=t.zone||ct.defaultZone;let i=t.invalid||(Number.isNaN(t.ts)?new Zt("invalid input"):null)||(e.isValid?null:dn(e));this.ts=L(t.ts)?ct.now():t.ts;let n=null,r=null;if(!i)if(t.old&&t.old.ts===this.ts&&t.old.zone.equals(e))[n,r]=[t.old.c,t.old.o];else{const a=e.offset(this.ts);n=fn(this.ts,a),i=Number.isNaN(n.year)?new Zt("invalid input"):null,n=i?null:n,r=i?null:a}this._zone=e,this.loc=t.loc||J.create(),this.invalid=i,this.weekData=null,this.localWeekData=null,this.c=n,this.o=r,this.isLuxonDateTime=!0}static now(){return new I({})}static local(){const[t,e]=kc(arguments),[i,n,r,o,a,l,c]=e;return wc({year:i,month:n,day:r,hour:o,minute:a,second:l,millisecond:c},t)}static utc(){const[t,e]=kc(arguments),[i,n,r,o,a,l,c]=e;return t.zone=Tt.utcInstance,wc({year:i,month:n,day:r,hour:o,minute:a,second:l,millisecond:c},t)}static fromJSDate(t,e={}){const i=qb(t)?t.valueOf():NaN;if(Number.isNaN(i))return I.invalid("invalid input");const n=Ee(e.zone,ct.defaultZone);return n.isValid?new I({ts:i,zone:n,loc:J.fromObject(e)}):I.invalid(dn(n))}static fromMillis(t,e={}){if(ns(t))return t<-yc||t>yc?I.invalid("Timestamp out of range"):new I({ts:t,zone:Ee(e.zone,ct.defaultZone),loc:J.fromObject(e)});throw new Et(`fromMillis requires a numerical input, but received a ${typeof t} with value ${t}`)}static fromSeconds(t,e={}){if(ns(t))return new I({ts:t*1e3,zone:Ee(e.zone,ct.defaultZone),loc:J.fromObject(e)});throw new Et("fromSeconds requires a numerical input")}static fromObject(t,e={}){t=t||{};const i=Ee(e.zone,ct.defaultZone);if(!i.isValid)return I.invalid(dn(i));const n=J.fromObject(e),r=Vn(t,vc),{minDaysInFirstWeek:o,startOfWeek:a}=oc(r,n),l=ct.now(),c=L(e.specificOffset)?i.offset(l):e.specificOffset,h=!L(r.ordinal),u=!L(r.year),d=!L(r.month)||!L(r.day),f=u||d,g=r.weekYear||r.weekNumber;if((f||h)&&g)throw new Ss("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(d&&h)throw new Ss("Can't mix ordinal dates with month/day");const m=g||r.weekday&&!f;let p,y,_=fn(l,c);m?(p=mv,y=fv,_=jn(_,o,a)):h?(p=pv,y=gv,_=Pr(_)):(p=Ju,y=Zu);let w=!1;for(const A of p){const P=r[A];L(P)?w?r[A]=y[A]:r[A]=_[A]:w=!0}const b=m?Bb(r,o,a):h?Hb(r):xu(r),v=b||ku(r);if(v)return I.invalid(v);const S=m?nc(r,o,a):h?rc(r):r,[M,O]=Tn(S,c,i),D=new I({ts:M,zone:i,o:O,loc:n});return r.weekday&&f&&t.weekday!==D.weekday?I.invalid("mismatched weekday",`you can't specify both a weekday of ${r.weekday} and a date of ${D.toISO()}`):D}static fromISO(t,e={}){const[i,n]=R0(t);return ei(i,n,e,"ISO 8601",t)}static fromRFC2822(t,e={}){const[i,n]=$0(t);return ei(i,n,e,"RFC 2822",t)}static fromHTTP(t,e={}){const[i,n]=N0(t);return ei(i,n,e,"HTTP",e)}static fromFormat(t,e,i={}){if(L(t)||L(e))throw new Et("fromFormat requires an input string and a format");const{locale:n=null,numberingSystem:r=null}=i,o=J.fromOpts({locale:n,numberingSystem:r,defaultToEN:!0}),[a,l,c,h]=dv(o,t,e);return h?I.invalid(h):ei(a,l,i,`format ${e}`,t,c)}static fromString(t,e,i={}){return I.fromFormat(t,e,i)}static fromSQL(t,e={}){const[i,n]=H0(t);return ei(i,n,e,"SQL",t)}static invalid(t,e=null){if(!t)throw new Et("need to specify a reason the DateTime is invalid");const i=t instanceof Zt?t:new Zt(t,e);if(ct.throwOnInvalid)throw new bb(i);return new I({invalid:i})}static isDateTime(t){return t&&t.isLuxonDateTime||!1}static parseFormatForOpts(t,e={}){const i=Yu(t,J.fromObject(e));return i?i.map(n=>n?n.val:null).join(""):null}static expandFormat(t,e={}){return Uu(xt.parseFormat(t),J.fromObject(e)).map(n=>n.val).join("")}get(t){return this[t]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?Rr(this).weekYear:NaN}get weekNumber(){return this.isValid?Rr(this).weekNumber:NaN}get weekday(){return this.isValid?Rr(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?$r(this).weekday:NaN}get localWeekNumber(){return this.isValid?$r(this).weekNumber:NaN}get localWeekYear(){return this.isValid?$r(this).weekYear:NaN}get ordinal(){return this.isValid?Pr(this.c).ordinal:NaN}get monthShort(){return this.isValid?hn.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?hn.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?hn.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?hn.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const t=864e5,e=6e4,i=nr(this.c),n=this.zone.offset(i-t),r=this.zone.offset(i+t),o=this.zone.offset(i-n*e),a=this.zone.offset(i-r*e);if(o===a)return[this];const l=i-o*e,c=i-a*e,h=fn(l,o),u=fn(c,a);return h.hour===u.hour&&h.minute===u.minute&&h.second===u.second&&h.millisecond===u.millisecond?[Ge(this,{ts:l}),Ge(this,{ts:c})]:[this]}get isInLeapYear(){return Fi(this.year)}get daysInMonth(){return zn(this.year,this.month)}get daysInYear(){return this.isValid?Cs(this.year):NaN}get weeksInWeekYear(){return this.isValid?Di(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?Di(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(t={}){const{locale:e,numberingSystem:i,calendar:n}=xt.create(this.loc.clone(t),t).resolvedOptions(this);return{locale:e,numberingSystem:i,outputCalendar:n}}toUTC(t=0,e={}){return this.setZone(Tt.instance(t),e)}toLocal(){return this.setZone(ct.defaultZone)}setZone(t,{keepLocalTime:e=!1,keepCalendarTime:i=!1}={}){if(t=Ee(t,ct.defaultZone),t.equals(this.zone))return this;if(t.isValid){let n=this.ts;if(e||i){const r=t.offset(this.ts),o=this.toObject();[n]=Tn(o,r,t)}return Ge(this,{ts:n,zone:t})}else return I.invalid(dn(t))}reconfigure({locale:t,numberingSystem:e,outputCalendar:i}={}){const n=this.loc.clone({locale:t,numberingSystem:e,outputCalendar:i});return Ge(this,{loc:n})}setLocale(t){return this.reconfigure({locale:t})}set(t){if(!this.isValid)return this;const e=Vn(t,vc),{minDaysInFirstWeek:i,startOfWeek:n}=oc(e,this.loc),r=!L(e.weekYear)||!L(e.weekNumber)||!L(e.weekday),o=!L(e.ordinal),a=!L(e.year),l=!L(e.month)||!L(e.day),c=a||l,h=e.weekYear||e.weekNumber;if((c||o)&&h)throw new Ss("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(l&&o)throw new Ss("Can't mix ordinal dates with month/day");let u;r?u=nc({...jn(this.c,i,n),...e},i,n):L(e.ordinal)?(u={...this.toObject(),...e},L(e.day)&&(u.day=Math.min(zn(u.year,u.month),u.day))):u=rc({...Pr(this.c),...e});const[d,f]=Tn(u,this.o,this.zone);return Ge(this,{ts:d,o:f})}plus(t){if(!this.isValid)return this;const e=W.fromDurationLike(t);return Ge(this,_c(this,e))}minus(t){if(!this.isValid)return this;const e=W.fromDurationLike(t).negate();return Ge(this,_c(this,e))}startOf(t,{useLocaleWeeks:e=!1}={}){if(!this.isValid)return this;const i={},n=W.normalizeUnit(t);switch(n){case"years":i.month=1;case"quarters":case"months":i.day=1;case"weeks":case"days":i.hour=0;case"hours":i.minute=0;case"minutes":i.second=0;case"seconds":i.millisecond=0;break}if(n==="weeks")if(e){const r=this.loc.getStartOfWeek(),{weekday:o}=this;o<r&&(i.weekNumber=this.weekNumber-1),i.weekday=r}else i.weekday=1;if(n==="quarters"){const r=Math.ceil(this.month/3);i.month=(r-1)*3+1}return this.set(i)}endOf(t,e){return this.isValid?this.plus({[t]:1}).startOf(t,e).minus(1):this}toFormat(t,e={}){return this.isValid?xt.create(this.loc.redefaultToEN(e)).formatDateTimeFromString(this,t):Lr}toLocaleString(t=Fn,e={}){return this.isValid?xt.create(this.loc.clone(e),t).formatDateTime(this):Lr}toLocaleParts(t={}){return this.isValid?xt.create(this.loc.clone(t),t).formatDateTimeParts(this):[]}toISO({format:t="extended",suppressSeconds:e=!1,suppressMilliseconds:i=!1,includeOffset:n=!0,extendedZone:r=!1}={}){if(!this.isValid)return null;const o=t==="extended";let a=Nr(this,o);return a+="T",a+=bc(this,o,e,i,n,r),a}toISODate({format:t="extended"}={}){return this.isValid?Nr(this,t==="extended"):null}toISOWeekDate(){return gn(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:t=!1,suppressSeconds:e=!1,includeOffset:i=!0,includePrefix:n=!1,extendedZone:r=!1,format:o="extended"}={}){return this.isValid?(n?"T":"")+bc(this,o==="extended",e,t,i,r):null}toRFC2822(){return gn(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return gn(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?Nr(this,!0):null}toSQLTime({includeOffset:t=!0,includeZone:e=!1,includeOffsetSpace:i=!0}={}){let n="HH:mm:ss.SSS";return(e||t)&&(i&&(n+=" "),e?n+="z":t&&(n+="ZZ")),gn(this,n,!0)}toSQL(t={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(t)}`:null}toString(){return this.isValid?this.toISO():Lr}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(t={}){if(!this.isValid)return{};const e={...this.c};return t.includeConfig&&(e.outputCalendar=this.outputCalendar,e.numberingSystem=this.loc.numberingSystem,e.locale=this.loc.locale),e}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(t,e="milliseconds",i={}){if(!this.isValid||!t.isValid)return W.invalid("created by diffing an invalid DateTime");const n={locale:this.locale,numberingSystem:this.numberingSystem,...i},r=Yb(e).map(W.normalizeUnit),o=t.valueOf()>this.valueOf(),a=o?this:t,l=o?t:this,c=K0(a,l,r,n);return o?c.negate():c}diffNow(t="milliseconds",e={}){return this.diff(I.now(),t,e)}until(t){return this.isValid?rt.fromDateTimes(this,t):this}hasSame(t,e,i){if(!this.isValid)return!1;const n=t.valueOf(),r=this.setZone(t.zone,{keepLocalTime:!0});return r.startOf(e,i)<=n&&n<=r.endOf(e,i)}equals(t){return this.isValid&&t.isValid&&this.valueOf()===t.valueOf()&&this.zone.equals(t.zone)&&this.loc.equals(t.loc)}toRelative(t={}){if(!this.isValid)return null;const e=t.base||I.fromObject({},{zone:this.zone}),i=t.padding?this<e?-t.padding:t.padding:0;let n=["years","months","days","hours","minutes","seconds"],r=t.unit;return Array.isArray(t.unit)&&(n=t.unit,r=void 0),xc(e,this.plus(i),{...t,numeric:"always",units:n,unit:r})}toRelativeCalendar(t={}){return this.isValid?xc(t.base||I.fromObject({},{zone:this.zone}),this,{...t,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...t){if(!t.every(I.isDateTime))throw new Et("min requires all arguments be DateTimes");return ac(t,e=>e.valueOf(),Math.min)}static max(...t){if(!t.every(I.isDateTime))throw new Et("max requires all arguments be DateTimes");return ac(t,e=>e.valueOf(),Math.max)}static fromFormatExplain(t,e,i={}){const{locale:n=null,numberingSystem:r=null}=i,o=J.fromOpts({locale:n,numberingSystem:r,defaultToEN:!0});return qu(o,t,e)}static fromStringExplain(t,e,i={}){return I.fromFormatExplain(t,e,i)}static get DATE_SHORT(){return Fn}static get DATE_MED(){return Qh}static get DATE_MED_WITH_WEEKDAY(){return xb}static get DATE_FULL(){return tu}static get DATE_HUGE(){return eu}static get TIME_SIMPLE(){return su}static get TIME_WITH_SECONDS(){return iu}static get TIME_WITH_SHORT_OFFSET(){return nu}static get TIME_WITH_LONG_OFFSET(){return ru}static get TIME_24_SIMPLE(){return ou}static get TIME_24_WITH_SECONDS(){return au}static get TIME_24_WITH_SHORT_OFFSET(){return lu}static get TIME_24_WITH_LONG_OFFSET(){return cu}static get DATETIME_SHORT(){return hu}static get DATETIME_SHORT_WITH_SECONDS(){return uu}static get DATETIME_MED(){return du}static get DATETIME_MED_WITH_SECONDS(){return fu}static get DATETIME_MED_WITH_WEEKDAY(){return kb}static get DATETIME_FULL(){return gu}static get DATETIME_FULL_WITH_SECONDS(){return mu}static get DATETIME_HUGE(){return pu}static get DATETIME_HUGE_WITH_SECONDS(){return yu}}function si(s){if(I.isDateTime(s))return s;if(s&&s.valueOf&&ns(s.valueOf()))return I.fromJSDate(s);if(s&&typeof s=="object")return I.fromObject(s);throw new Et(`Unknown datetime argument: ${s}, of type ${typeof s}`)}var bi=(s=>(s[s.LAST_WEEK=0]="LAST_WEEK",s[s.LAST_MONTH=1]="LAST_MONTH",s[s.LAST_3MONTH=2]="LAST_3MONTH",s))(bi||{}),be=(s=>(s[s.MORNING=0]="MORNING",s[s.AFTERNOON=1]="AFTERNOON",s[s.EVENING=2]="EVENING",s[s.NIGHT=3]="NIGHT",s))(be||{});async function _v(s){let t=[],e=[],i=[],n=[],r;s==0?r=I.now().minus(W.fromObject({days:7})):s==1?r=I.now().minus(W.fromObject({months:1})):s==2&&(r=I.now().minus(W.fromObject({months:3})));let{error:o,data:a}=await Qt.from("record").select("*").filter("user_uid","eq",Fc($i)).filter("date","gt",r.toSQLDate());if(o||!a)throw o;return a.map(l=>{t.push(l.date),e.push(l.heart_rate),i.push(l.value_sys),n.push(l.value_dia)}),{labels:t,hrValues:e,sysValues:i,diaValues:n}}function Sc(s){return s.labels}function bv(s){return s.sysValues}function vv(s){return s.diaValues}function wv(s){return s.hrValues}function xv(s){let t,e,i,n,r,o,a,l,c,h,u,d,f,g,m,p,y,_,w,b;return{c(){t=k("main"),e=k("div"),e.innerHTML='<h1 class="svelte-9wtuxy">Home</h1>',i=F(),n=k("div"),r=k("select"),o=k("option"),o.textContent="Last Week",a=k("option"),a.textContent="Last Month",l=k("option"),l.textContent="Last 3 Months",c=F(),h=k("div"),u=k("h2"),u.textContent="Blood Pressure",d=F(),f=k("canvas"),g=F(),m=k("div"),p=k("h2"),p.textContent="Heart Rate",y=F(),_=k("canvas"),T(e,"class","titleContainer"),o.__value=bi.LAST_WEEK,Qe(o,o.__value),a.__value=bi.LAST_MONTH,Qe(a,a.__value),l.__value=bi.LAST_3MONTH,Qe(l,l.__value),T(r,"class","svelte-9wtuxy"),s[0]===void 0&&rs(()=>s[3].call(r)),T(n,"class","selectionContainer"),T(u,"class","svelte-9wtuxy"),T(f,"height",globalThis.vh*40),T(f,"width",globalThis.vw*100),T(f,"class","svelte-9wtuxy"),T(h,"class","bpContainer"),T(p,"class","svelte-9wtuxy"),T(_,"height",globalThis.vh*40),T(_,"width",globalThis.vw*100),T(_,"class","svelte-9wtuxy"),T(m,"class","hrContainer"),T(t,"class","svelte-9wtuxy")},m(v,S){lt(v,t,S),x(t,e),x(t,i),x(t,n),x(n,r),x(r,o),x(r,a),x(r,l),ia(r,s[0],!0),x(t,c),x(t,h),x(h,u),x(h,d),x(h,f),s[4](f),x(t,g),x(t,m),x(m,p),x(m,y),x(m,_),s[5](_),w||(b=Dt(r,"change",s[3]),w=!0)},p(v,[S]){S&1&&ia(r,v[0])},i:R,o:R,d(v){v&&nt(t),s[4](null),s[5](null),w=!1,b()}}}function kv(s,t,e){re.register(...My);let i,n,r,o,a=!1,l=bi.LAST_WEEK;function c(f){a&&(o.destroy(),r.destroy()),a=!0;const g=i.getContext("2d"),m=n.getContext("2d");r=new re(g,{type:"line",data:{labels:Sc(f),datasets:[{label:"Systolic",data:bv(f),fill:!1,tension:.1},{label:"Diastolic",data:vv(f),fill:!1,tension:.1}]}}),o=new re(m,{type:"line",data:{labels:Sc(f),datasets:[{label:"My First Dataset",data:wv(f),fill:!1,tension:.1}]}})}wo(()=>{c({})});function h(){l=ad(this),e(0,l)}function u(f){Ps[f?"unshift":"push"](()=>{i=f,e(1,i)})}function d(f){Ps[f?"unshift":"push"](()=>{n=f,e(2,n)})}return s.$$.update=()=>{s.$$.dirty&1&&_v(l).then(c)},[l,i,n,h,u,d]}class Sv extends je{constructor(t){super(),Fe(this,t,kv,xv,le,{})}}async function Ov(s){for(let[h,u]of s)if(h!="comment"&&!u)return alert(`Field ${h} is not filled in`),!1;const{value_sys:t,value_dia:e,heart_rate:i,comment:n,time:r,date:o,user_uid:a}=Object.fromEntries(s.entries());console.log({value_sys:t,value_dia:e,heart_rate:i,comment:n,time:r,date:o,user_uid:a});const{error:l,data:c}=await Qt.from("record").insert([{value_sys:t,value_dia:e,heart_rate:i,comment:n,time:r,date:o,user_uid:a}]).select();if(l)throw l;return!0}function Oc(s){let t,e,i,n,r,o,a,l,c,h,u,d,f,g,m,p,y,_,w,b,v,S,M;return{c(){t=k("div"),e=k("h1"),e.textContent="Add Record",i=F(),n=k("form"),r=k("input"),o=F(),a=k("div"),l=k("input"),c=F(),h=k("div"),u=k("select"),d=k("option"),d.textContent="Morning",f=k("option"),f.textContent="Afternoon",g=k("option"),g.textContent="Evening",m=k("option"),m.textContent="Night",p=F(),y=k("div"),y.innerHTML='<input type="text" placeholder="Comment..." name="comment" class="svelte-krk89u"/>',_=F(),w=k("div"),w.innerHTML='<input type="number" name="value_sys" placeholder="Sys" class="svelte-krk89u"/> <input type="number" name="value_dia" placeholder="Dia" class="svelte-krk89u"/> <input type="number" name="heart_rate" placeholder="HR" class="svelte-krk89u"/>',b=F(),v=k("div"),v.innerHTML='<input type="submit" class="svelte-krk89u"/>',T(e,"class","svelte-krk89u"),T(r,"type","hidden"),T(r,"name","user_uid"),r.value=s[2],T(l,"type","date"),T(l,"name","date"),l.value=s[3](),T(l,"class","svelte-krk89u"),T(a,"class","row svelte-krk89u"),d.__value=be.MORNING,Qe(d,d.__value),f.__value=be.AFTERNOON,Qe(f,f.__value),g.__value=be.EVENING,Qe(g,g.__value),m.__value=be.NIGHT,Qe(m,m.__value),T(u,"name","time"),T(u,"class","svelte-krk89u"),T(h,"class","row svelte-krk89u"),T(y,"class","row svelte-krk89u"),T(w,"class","row split svelte-krk89u"),T(v,"class","row svelte-krk89u"),T(n,"action",""),T(t,"class","titleContainer")},m(O,D){lt(O,t,D),x(t,e),x(t,i),x(t,n),x(n,r),x(n,o),x(n,a),x(a,l),x(n,c),x(n,h),x(h,u),x(u,d),x(u,f),x(u,g),x(u,m),x(n,p),x(n,y),x(n,_),x(n,w),x(n,b),x(n,v),s[5](n),S||(M=Dt(n,"submit",s[4]),S=!0)},p(O,D){D&4&&(r.value=O[2])},d(O){O&&nt(t),s[5](null),S=!1,M()}}}function Tv(s){let t,e=s[1],i=Oc(s);return{c(){t=k("main"),i.c(),T(t,"class","svelte-krk89u")},m(n,r){lt(n,t,r),i.m(t,null)},p(n,[r]){r&2&&le(e,e=n[1])?(i.d(1),i=Oc(n),i.c(),i.m(t,null)):i.p(n,r)},i:R,o:R,d(n){n&&nt(t),i.d(n)}}}function Mv(s,t,e){let i;As(s,$i,c=>e(2,i=c));let n,r=!0;function o(){return I.now().toISODate()}async function a(c){c.preventDefault();const h=new FormData(n);await Ov(h)&&alert("Success!"),e(1,r=!r)}function l(c){Ps[c?"unshift":"push"](()=>{n=c,e(0,n)})}return[n,r,i,o,a,l]}class Ev extends je{constructor(t){super(),Fe(this,t,Mv,Tv,le,{})}}async function Cv(s){const{data:t,error:e}=await Qt.from("access").insert({on:Vt.id,on_email:Vt.email,to:s});if(e)throw e;return t}async function Dv(s){const{data:t,error:e}=await Qt.from("access").delete().eq("on",Vt.id).eq("to",s);if(e)throw e}async function Fr(){const{data:s,error:t}=await Qt.from("access").select().filter("on_email","eq",Vt.email);if(t)throw t;return s}async function Av(){const{data:s,error:t}=await Qt.from("access").select("*").filter("to","eq",Vt.email);if(t)throw t;return s}function Tc(s,t){console.log(s,t),er.set(s),$i.set(t)}var wt=(s=>(s[s.HOME_SCREEN=0]="HOME_SCREEN",s[s.ADD_RECORD=1]="ADD_RECORD",s[s.SYNC_DETAILS=2]="SYNC_DETAILS",s[s.RAW_DATA=3]="RAW_DATA",s))(wt||{});const Ai=Xn(2),yo=Xn(!1);function Mc(s,t,e){const i=s.slice();return i[11]=t[e],i}function Ec(s,t,e){const i=s.slice();return i[11]=t[e],i}function Pv(s){return{c:R,m:R,p:R,d:R}}function Iv(s){let t,e=Is(s[0]),i=[];for(let n=0;n<e.length;n+=1)i[n]=Cc(Ec(s,e,n));return{c(){for(let n=0;n<i.length;n+=1)i[n].c();t=Bn()},m(n,r){for(let o=0;o<i.length;o+=1)i[o]&&i[o].m(n,r);lt(n,t,r)},p(n,r){if(r&65){e=Is(n[0]);let o;for(o=0;o<e.length;o+=1){const a=Ec(n,e,o);i[o]?i[o].p(a,r):(i[o]=Cc(a),i[o].c(),i[o].m(t.parentNode,t))}for(;o<i.length;o+=1)i[o].d(1);i.length=e.length}},d(n){n&&nt(t),vo(i,n)}}}function Cc(s){let t,e,i=s[11].to+"",n,r,o,a;return{c(){t=k("li"),e=k("button"),n=pt(i),r=F(),T(e,"class","list-item svelte-kygoug"),T(t,"class","svelte-kygoug")},m(l,c){lt(l,t,c),x(t,e),x(e,n),x(t,r),o||(a=Dt(e,"click",function(){Wn(s[6](s[11].to))&&s[6](s[11].to).apply(this,arguments)}),o=!0)},p(l,c){s=l,c&1&&i!==(i=s[11].to+"")&&oe(n,i)},d(l){l&&nt(t),o=!1,a()}}}function Lv(s){let t;return{c(){t=pt("Loading....")},m(e,i){lt(e,t,i)},p:R,d(e){e&&nt(t)}}}function Rv(s){return{c:R,m:R,p:R,d:R}}function $v(s){let t,e=Is(s[1]),i=[];for(let n=0;n<e.length;n+=1)i[n]=Dc(Mc(s,e,n));return{c(){for(let n=0;n<i.length;n+=1)i[n].c();t=Bn()},m(n,r){for(let o=0;o<i.length;o+=1)i[o]&&i[o].m(n,r);lt(n,t,r)},p(n,r){if(r&2){e=Is(n[1]);let o;for(o=0;o<e.length;o+=1){const a=Mc(n,e,o);i[o]?i[o].p(a,r):(i[o]=Dc(a),i[o].c(),i[o].m(t.parentNode,t))}for(;o<i.length;o+=1)i[o].d(1);i.length=e.length}},d(n){n&&nt(t),vo(i,n)}}}function Dc(s){let t,e,i=s[11].on_email+"",n,r,o,a;function l(){return s[7](s[11])}return{c(){t=k("li"),e=k("button"),n=pt(i),r=F(),T(e,"class","list-item svelte-kygoug"),T(t,"class","svelte-kygoug")},m(c,h){lt(c,t,h),x(t,e),x(e,n),x(t,r),o||(a=Dt(e,"click",l),o=!0)},p(c,h){s=c,h&2&&i!==(i=s[11].on_email+"")&&oe(n,i)},d(c){c&&nt(t),o=!1,a()}}}function Nv(s){let t;return{c(){t=pt("Loading....")},m(e,i){lt(e,t,i)},p:R,d(e){e&&nt(t)}}}function Fv(s){let t,e,i,n,r,o,a,l,c,h,u,d,f,g,m,p,y,_,w,b,v,S,M,O,D,A,P,j,K,X,N,z,Y,_t,H,Wt,ut,dt,ce,Rt,Bt,te,ar,ta,Vi,Wi,lr,Bi,Us,cr,ea,ee={ctx:s,current:null,token:null,hasCatch:!1,pending:Lv,then:Iv,catch:Pv};zr(s[4],ee);let se={ctx:s,current:null,token:null,hasCatch:!1,pending:Nv,then:$v,catch:Rv};return zr(s[5],se),{c(){t=k("main"),e=k("h1"),e.textContent="Sync Settings",i=F(),n=k("div"),r=k("div"),r.textContent="Signed in as:",o=F(),a=k("div"),a.textContent=`${Vt.email}`,l=F(),c=k("div"),h=k("div"),h.textContent="Syncing info to:",u=F(),d=k("div"),f=pt(s[2]),g=F(),m=k("h2"),m.textContent="Account Sharing",p=F(),y=k("div"),_=k("div"),_.textContent="Users with access to your account:",w=F(),b=k("div"),v=k("ul"),ee.block.c(),S=F(),M=k("li"),O=k("button"),O.textContent="+ Add user",D=F(),A=k("div"),P=k("div"),P.textContent="Users accounts you have access to:",j=F(),K=k("div"),X=k("ul"),se.block.c(),N=F(),z=k("li"),Y=k("button"),Y.textContent="Your Account",_t=F(),H=k("h2"),H.textContent="View Raw Data",Wt=F(),ut=k("div"),dt=k("div"),ce=k("ol"),Rt=k("li"),Bt=k("button"),Bt.textContent="View Raw Data",te=F(),ar=k("h2"),ar.textContent="Sign out",ta=F(),Vi=k("div"),Wi=k("div"),lr=k("ol"),Bi=k("li"),Us=k("button"),Us.textContent="Sign Out",T(r,"class","field svelte-kygoug"),T(a,"class","value svelte-kygoug"),T(n,"class","info svelte-kygoug"),T(h,"class","field svelte-kygoug"),T(d,"class","value svelte-kygoug"),T(c,"class","info svelte-kygoug"),T(_,"class","field svelte-kygoug"),T(O,"class","list-item svelte-kygoug"),T(M,"class","svelte-kygoug"),T(b,"class","value svelte-kygoug"),T(y,"class","info svelte-kygoug"),T(P,"class","field svelte-kygoug"),T(Y,"class","list-item svelte-kygoug"),T(z,"class","svelte-kygoug"),T(K,"class","value svelte-kygoug"),T(A,"class","info svelte-kygoug"),T(Bt,"class","list-item svelte-kygoug"),T(Rt,"class","svelte-kygoug"),T(dt,"class","value svelte-kygoug"),T(ut,"class","info svelte-kygoug"),T(Us,"class","list-item svelte-kygoug"),T(Bi,"class","svelte-kygoug"),T(Wi,"class","value svelte-kygoug"),T(Vi,"class","info svelte-kygoug"),T(t,"class","svelte-kygoug")},m(qs,Ys){lt(qs,t,Ys),x(t,e),x(t,i),x(t,n),x(n,r),x(n,o),x(n,a),x(t,l),x(t,c),x(c,h),x(c,u),x(c,d),x(d,f),x(t,g),x(t,m),x(t,p),x(t,y),x(y,_),x(y,w),x(y,b),x(b,v),ee.block.m(v,ee.anchor=null),ee.mount=()=>v,ee.anchor=S,x(v,S),x(v,M),x(M,O),x(t,D),x(t,A),x(A,P),x(A,j),x(A,K),x(K,X),se.block.m(X,se.anchor=null),se.mount=()=>X,se.anchor=N,x(X,N),x(X,z),x(z,Y),x(t,_t),x(t,H),x(t,Wt),x(t,ut),x(ut,dt),x(dt,ce),x(ce,Rt),x(Rt,Bt),x(t,te),x(t,ar),x(t,ta),x(t,Vi),x(Vi,Wi),x(Wi,lr),x(lr,Bi),x(Bi,Us),cr||(ea=[Dt(O,"click",s[3]),Dt(Y,"click",s[8]),Dt(Bt,"click",s[9]),Dt(Us,"click",s[10])],cr=!0)},p(qs,[Ys]){s=qs,Ys&4&&oe(f,s[2]),Vr(ee,s,Ys),Vr(se,s,Ys)},i:R,o:R,d(qs){qs&&nt(t),ee.block.d(),ee.token=null,ee=null,se.block.d(),se.token=null,se=null,cr=!1,we(ea)}}}function jv(s,t,e){let i;As(s,er,g=>e(2,i=g));let n=[],r=[];async function o(){let g=prompt("Email address to give access to:");await Cv(g),e(0,n=await Fr())}let a=new Promise(async(g,m)=>{e(0,n=await Fr()),console.log(n),g()}),l=new Promise(async(g,m)=>{e(1,r=await Av()),console.log(r),g()});function c(g){return async()=>{confirm(`Revoke access from ${g}`)&&(await Dv(g),e(0,n=await Fr()))}}return[n,r,i,o,a,l,c,g=>{Tc(g.on_email,g.on)},()=>{Tc(Vt.email,Vt.id)},()=>{Ai.set(wt.RAW_DATA)},async()=>{await Qt.auth.signOut(),location.reload()}]}class zv extends je{constructor(t){super(),Fe(this,t,jv,Fv,le,{})}}const _o=20;async function Vv(s){const{data:t,error:e}=await Qt.from("record").select().eq("user_uid",Fc($i)).order("date",{ascending:!1}).order("time",{ascending:!1}).range((s-1)*_o,s*_o-1);if(e)throw e;return console.log(`Fetched page ${s}`,t),t}async function Wv(s){const{data:t,error:e}=await Qt.from("record").delete().eq("id",s);if(console.log("Deleting",s,t),e)throw e}function Ac(s,t,e){const i=s.slice();return i[8]=t[e],i[10]=e,i}function Pc(s){let t,e,i=s[8].comment+"",n;return{c(){t=k("div"),e=k("div"),n=pt(i),T(e,"class","left svelte-78nycd"),T(t,"class","row svelte-78nycd")},m(r,o){lt(r,t,o),x(t,e),x(e,n)},p(r,o){o&1&&i!==(i=r[8].comment+"")&&oe(n,i)},d(r){r&&nt(t)}}}function Ic(s){let t,e,i,n=I.fromSQL(s[8].date).toLocaleString(I.DATE_FULL)+"",r,o,a,l=s[3](s[8].time)+"",c,h,u,d,f=s[8].value_sys+"",g,m,p=s[8].value_dia+"",y,_,w,b,v=s[8].heart_rate+"",S,M,O,D,A,P,j,K,X,N,z,Y,_t,H=s[8].comment&&Pc(s);function Wt(){return s[6](s[10])}return{c(){t=k("div"),e=k("div"),i=k("div"),r=pt(n),o=F(),a=k("div"),c=pt(l),h=F(),u=k("div"),d=k("div"),g=pt(f),m=pt(" / "),y=pt(p),_=pt(" (Sys / Dia)"),w=F(),b=k("div"),S=pt(v),M=pt(" (HR)"),O=F(),H&&H.c(),D=F(),A=k("div"),P=k("div"),P.innerHTML='<button class="abtn edit svelte-78nycd">Edit</button>',j=F(),K=k("div"),X=k("button"),X.textContent="Delete",T(i,"class","left svelte-78nycd"),T(a,"class","right svelte-78nycd"),T(e,"class","row svelte-78nycd"),T(d,"class","left svelte-78nycd"),T(b,"class","right svelte-78nycd"),T(u,"class","row svelte-78nycd"),T(P,"class","left svelte-78nycd"),T(X,"class","abtn delete svelte-78nycd"),T(K,"class","right svelte-78nycd"),T(A,"class","row svelte-78nycd"),T(t,"class","record svelte-78nycd")},m(ut,dt){lt(ut,t,dt),x(t,e),x(e,i),x(i,r),x(e,o),x(e,a),x(a,c),x(t,h),x(t,u),x(u,d),x(d,g),x(d,m),x(d,y),x(d,_),x(u,w),x(u,b),x(b,S),x(b,M),x(t,O),H&&H.m(t,null),x(t,D),x(t,A),x(A,P),x(A,j),x(A,K),x(K,X),z=!0,Y||(_t=Dt(X,"click",Wt),Y=!0)},p(ut,dt){s=ut,(!z||dt&1)&&n!==(n=I.fromSQL(s[8].date).toLocaleString(I.DATE_FULL)+"")&&oe(r,n),(!z||dt&1)&&l!==(l=s[3](s[8].time)+"")&&oe(c,l),(!z||dt&1)&&f!==(f=s[8].value_sys+"")&&oe(g,f),(!z||dt&1)&&p!==(p=s[8].value_dia+"")&&oe(y,p),(!z||dt&1)&&v!==(v=s[8].heart_rate+"")&&oe(S,v),s[8].comment?H?H.p(s,dt):(H=Pc(s),H.c(),H.m(t,D)):H&&(H.d(1),H=null)},i(ut){z||(ut&&rs(()=>{z&&(N||(N=Cn(t,aa,{},!0)),N.run(1))}),z=!0)},o(ut){ut&&(N||(N=Cn(t,aa,{},!1)),N.run(0)),z=!1},d(ut){ut&&nt(t),H&&H.d(),ut&&N&&N.end(),Y=!1,_t()}}}function Bv(s){let t,e,i,n,r,o,a,l,c,h,u,d,f,g,m=Is(s[0]),p=[];for(let _=0;_<m.length;_+=1)p[_]=Ic(Ac(s,m,_));const y=_=>kt(p[_],1,1,()=>{p[_]=null});return{c(){t=k("main"),e=k("div"),i=k("h1"),i.textContent="Raw Data",n=F(),r=k("button"),r.textContent="✕",o=F(),a=k("div");for(let _=0;_<p.length;_+=1)p[_].c();l=F(),c=k("div"),h=k("button"),u=pt("Load More"),T(r,"class","close svelte-78nycd"),T(e,"class","topContainer svelte-78nycd"),T(h,"class","loadmore abtn edit svelte-78nycd"),h.disabled=s[1],T(c,"class","loadmore svelte-78nycd"),T(a,"class","scrollable svelte-78nycd"),T(t,"class","svelte-78nycd")},m(_,w){lt(_,t,w),x(t,e),x(e,i),x(e,n),x(e,r),x(t,o),x(t,a);for(let b=0;b<p.length;b+=1)p[b]&&p[b].m(a,null);x(a,l),x(a,c),x(c,h),x(h,u),d=!0,f||(g=[Dt(r,"click",s[5]),Dt(h,"click",s[2])],f=!0)},p(_,[w]){if(w&25){m=Is(_[0]);let b;for(b=0;b<m.length;b+=1){const v=Ac(_,m,b);p[b]?(p[b].p(v,w),gt(p[b],1)):(p[b]=Ic(v),p[b].c(),gt(p[b],1),p[b].m(a,l))}for(Un(),b=m.length;b<p.length;b+=1)y(b);qn()}(!d||w&2)&&(h.disabled=_[1])},i(_){if(!d){for(let w=0;w<m.length;w+=1)gt(p[w]);d=!0}},o(_){p=p.filter(Boolean);for(let w=0;w<p.length;w+=1)kt(p[w]);d=!1},d(_){_&&nt(t),vo(p,_),f=!1,we(g)}}}function Hv(s,t,e){wo(()=>{yo.set(!0),console.log("Hiding")}),dd(()=>{yo.set(!1)});let i=[],n=0,r=!1;async function o(){e(1,r=!0),n++;let u=await Vv(n);e(0,i=[...i,...u]),u.length===_o?e(1,r=!1):alert("No more records")}function a(u){switch(+u){case be.MORNING:return"Morning";case be.AFTERNOON:return"Afternoon";case be.EVENING:return"Evenng";case be.NIGHT:return"Night";default:return u}}async function l(u){if(!confirm("Are you sure you want to delete this record?"))return;let d=i[u].id;await Wv(d),i.splice(u,1),e(0,i)}return o(),[i,r,o,a,l,()=>{Ai.set(wt.SYNC_DETAILS)},u=>{l(u)}]}class Uv extends je{constructor(t){super(),Fe(this,t,Hv,Bv,le,{})}}function qv(s){let t,e;return t=new Uv({}),{c(){os(t.$$.fragment)},m(i,n){Le(t,i,n),e=!0},i(i){e||(gt(t.$$.fragment,i),e=!0)},o(i){kt(t.$$.fragment,i),e=!1},d(i){Re(t,i)}}}function Yv(s){let t,e;return t=new zv({}),{c(){os(t.$$.fragment)},m(i,n){Le(t,i,n),e=!0},i(i){e||(gt(t.$$.fragment,i),e=!0)},o(i){kt(t.$$.fragment,i),e=!1},d(i){Re(t,i)}}}function Gv(s){let t,e;return t=new Ev({}),{c(){os(t.$$.fragment)},m(i,n){Le(t,i,n),e=!0},i(i){e||(gt(t.$$.fragment,i),e=!0)},o(i){kt(t.$$.fragment,i),e=!1},d(i){Re(t,i)}}}function Zv(s){let t,e;return t=new Sv({}),{c(){os(t.$$.fragment)},m(i,n){Le(t,i,n),e=!0},i(i){e||(gt(t.$$.fragment,i),e=!0)},o(i){kt(t.$$.fragment,i),e=!1},d(i){Re(t,i)}}}function Jv(s){let t,e,i,n;const r=[Zv,Gv,Yv,qv],o=[];function a(l,c){return l[0]==wt.HOME_SCREEN?0:l[0]==wt.ADD_RECORD?1:l[0]==wt.SYNC_DETAILS?2:l[0]==wt.RAW_DATA?3:-1}return~(e=a(s))&&(i=o[e]=r[e](s)),{c(){t=k("main"),i&&i.c(),T(t,"class","svelte-1t3yj0k")},m(l,c){lt(l,t,c),~e&&o[e].m(t,null),n=!0},p(l,[c]){let h=e;e=a(l),e!==h&&(i&&(Un(),kt(o[h],1,1,()=>{o[h]=null}),qn()),~e?(i=o[e],i||(i=o[e]=r[e](l),i.c()),gt(i,1),i.m(t,null)):i=null)},i(l){n||(gt(i),n=!0)},o(l){kt(i),n=!1},d(l){l&&nt(t),~e&&o[e].d()}}}function Kv(s,t,e){let i;return As(s,Ai,n=>e(0,i=n)),[i]}class Xv extends je{constructor(t){super(),Fe(this,t,Kv,Jv,le,{})}}function Lc(s){let t,e,i,n,r,o,a,l,c,h,u,d,f,g;return{c(){t=k("main"),e=k("button"),i=k("span"),i.textContent="Home",r=F(),o=k("button"),a=k("span"),a.textContent="Add",c=F(),h=k("button"),u=k("span"),u.textContent="Sync",T(e,"class",n=ds(s[1]==wt.HOME_SCREEN?"selected":"")+" svelte-cijz41"),T(o,"class",l=ds(s[1]==wt.ADD_RECORD?"selected":"")+" svelte-cijz41"),T(h,"class",d=ds(s[1]==wt.SYNC_DETAILS?"selected":"")+" svelte-cijz41"),T(t,"class","svelte-cijz41")},m(m,p){lt(m,t,p),x(t,e),x(e,i),x(t,r),x(t,o),x(o,a),x(t,c),x(t,h),x(h,u),f||(g=[Dt(e,"click",s[2](wt.HOME_SCREEN)),Dt(o,"click",s[2](wt.ADD_RECORD)),Dt(h,"click",s[2](wt.SYNC_DETAILS))],f=!0)},p(m,p){p&2&&n!==(n=ds(m[1]==wt.HOME_SCREEN?"selected":"")+" svelte-cijz41")&&T(e,"class",n),p&2&&l!==(l=ds(m[1]==wt.ADD_RECORD?"selected":"")+" svelte-cijz41")&&T(o,"class",l),p&2&&d!==(d=ds(m[1]==wt.SYNC_DETAILS?"selected":"")+" svelte-cijz41")&&T(h,"class",d)},d(m){m&&nt(t),f=!1,we(g)}}}function Qv(s){let t,e=!s[0]&&Lc(s);return{c(){e&&e.c(),t=Bn()},m(i,n){e&&e.m(i,n),lt(i,t,n)},p(i,[n]){i[0]?e&&(e.d(1),e=null):e?e.p(i,n):(e=Lc(i),e.c(),e.m(t.parentNode,t))},i:R,o:R,d(i){i&&nt(t),e&&e.d(i)}}}function tw(s,t,e){let i,n;As(s,yo,o=>e(0,i=o)),As(s,Ai,o=>e(1,n=o));function r(o){return()=>{Ai.set(o)}}return[i,n,r]}class ew extends je{constructor(t){super(),Fe(this,t,tw,Qv,le,{})}}function sw(s){let t,e;return{c(){t=k("main"),e=k("div"),T(e,"class","loginbtn svelte-85nb0j"),T(t,"class","svelte-85nb0j")},m(i,n){lt(i,t,n),x(t,e),s[1](e)},p:R,i:R,o:R,d(i){i&&nt(t),s[1](null)}}}function iw(s,t,e){let i=globalThis.google,n;fd();async function r(a){const{data:l,error:c}=await Qt.auth.signInWithIdToken({provider:"google",token:a.credential});if(c)throw c;location.reload()}window.onload=function(){},wo(()=>{i.accounts.id.initialize({use_fedcm_for_prompt:!0,client_id:"221575063928-600fstdnkbu22ehiljl2a7ohck8e4i2r.apps.googleusercontent.com",callback:r}),i.accounts.id.renderButton(n,{theme:"outline",size:"medium"}),i.accounts.id.prompt()});function o(a){Ps[a?"unshift":"push"](()=>{n=a,e(0,n)})}return[n,o]}class nw extends je{constructor(t){super(),Fe(this,t,iw,sw,le,{})}}function rw(s){return{c:R,m:R,p:R,i:R,o:R,d:R}}function ow(s){let t,e,i,n;const r=[lw,aw],o=[];function a(l,c){return l[1]?0:1}return t=a(s),e=o[t]=r[t](s),{c(){e.c(),i=Bn()},m(l,c){o[t].m(l,c),lt(l,i,c),n=!0},p(l,c){e.p(l,c)},i(l){n||(gt(e),n=!0)},o(l){kt(e),n=!1},d(l){l&&nt(i),o[t].d(l)}}}function aw(s){let t,e;return t=new nw({}),t.$on("loginDone",_b),{c(){os(t.$$.fragment)},m(i,n){Le(t,i,n),e=!0},p:R,i(i){e||(gt(t.$$.fragment,i),e=!0)},o(i){kt(t.$$.fragment,i),e=!1},d(i){Re(t,i)}}}function lw(s){let t,e,i,n,r,o=Vt.email!=s[0]&&Rc(s);return e=new Xv({}),n=new ew({}),{c(){o&&o.c(),t=F(),os(e.$$.fragment),i=F(),os(n.$$.fragment)},m(a,l){o&&o.m(a,l),lt(a,t,l),Le(e,a,l),lt(a,i,l),Le(n,a,l),r=!0},p(a,l){Vt.email!=a[0]?o?(o.p(a,l),l&1&&gt(o,1)):(o=Rc(a),o.c(),gt(o,1),o.m(t.parentNode,t)):o&&(Un(),kt(o,1,1,()=>{o=null}),qn())},i(a){r||(gt(o),gt(e.$$.fragment,a),gt(n.$$.fragment,a),r=!0)},o(a){kt(o),kt(e.$$.fragment,a),kt(n.$$.fragment,a),r=!1},d(a){a&&(nt(t),nt(i)),o&&o.d(a),Re(e,a),Re(n,a)}}}function Rc(s){let t,e,i,n;return{c(){t=k("div"),e=pt(s[0]),T(t,"class","currentAccount svelte-89f8od")},m(r,o){lt(r,t,o),x(t,e),n=!0},p(r,o){(!n||o&1)&&oe(e,r[0])},i(r){n||(r&&rs(()=>{n&&(i||(i=Cn(t,oa,{},!0)),i.run(1))}),n=!0)},o(r){r&&(i||(i=Cn(t,oa,{},!1)),i.run(0)),n=!1},d(r){r&&nt(t),r&&i&&i.end()}}}function cw(s){return{c:R,m:R,p:R,i:R,o:R,d:R}}function hw(s){let t,e,i={ctx:s,current:null,token:null,hasCatch:!1,pending:cw,then:ow,catch:rw,value:1,blocks:[,,,]};return zr(yb(),i),{c(){t=k("main"),i.block.c(),T(t,"class","svelte-89f8od")},m(n,r){lt(n,t,r),i.block.m(t,i.anchor=null),i.mount=()=>t,i.anchor=null,e=!0},p(n,[r]){s=n,Vr(i,s,r)},i(n){e||(gt(i.block),e=!0)},o(n){for(let r=0;r<3;r+=1){const o=i.blocks[r];kt(o)}e=!1},d(n){n&&nt(t),i.block.d(),i.token=null,i=null}}}function uw(s,t,e){let i;return As(s,er,n=>e(0,i=n)),[i]}class dw extends je{constructor(t){super(),Fe(this,t,uw,hw,le,{})}}new dw({target:document.body,props:{}});
